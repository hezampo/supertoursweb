<meta http-equiv='cache-control' content='no-cache'>
<meta http-equiv='expires' content='0'>
<meta http-equiv='pragma' content='no-cache'>
<?php

//Actualizado por Ing. Arturo Bustamante Madariaga. [2016-2018]
if (isset($this->data['reserve']) && isset($_SESSION['loginagency'])) {
    // unset($_COOKIE);
    // echo "<pre>";
    // print_r($_COOKIE);
    // echo "</pre>";
    // die;
    // header ("Expires: Fri, 14 Mar 1980 20:53:00 GMT"); //la pagina expira en fecha pasada
    // header ("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT"); //ultima actualizacion ahora cuando la cargamos
    // header ("Cache-Control: no-cache, must-revalidate"); //no guardar en CACHE
    // header ("Pragma: no-cache"); //PARANOIA, NO GUARDAR EN CACHE
    $valida = false;
    $reserva = $data['reserve'];
    $subto = $data['subto'];
    $rastro = $data['rastro'];
    $pagado = $data['pagado'];    
    $pagado_sinCargo = ($pagado / 1.04);    
    $CargoCC = $pagado - $pagado_sinCargo;   
    $fecha_actual = date("Y-m-d H:i:s"); 
    $codigo_conf = $reserva->codconf;
    $otheramount = $reserva->otheramount;
    $btnpay = $reserva->Btnpay;    
    $adultos = $reserva->pax;
    $peques = $reserva->pax2;    
    $total_pasajeros = $adultos + $peques;   
    $trip_no = $reserva->trip_no;
    $trip_no2 = $reserva->trip_no2;    
    $fecha_crea = $reserva->fecha_ini;
    $residente = $reserva->resident;    
    $subtoadult1 = $reserva->precio_trip1_a;     
    $subtochild1 = $reserva->precio_trip1_c;    
    $exten1a = $reserva->precio_exten1_a;
    $exten1c = $reserva->precio_exten1_c;    
    $exten3a = $reserva->precio_exten3_a;
    $exten3c = $reserva->precio_exten3_c;
    $extension1 = $reserva->extension1;
    $extension2 = $reserva->extension2;    
    $fec_salida = $reserva->fecha_salida;
    $fecha_salida_ns = $reserva->fecha_salida_ns;    
    $subtoadult2 = $reserva->precio_trip2_a;     
    $subtochild2 = $reserva->precio_trip2_c;    
    $exten2a = $reserva->precio_exten2_a;
    $exten2c = $reserva->precio_exten2_c;  
    $extension3 = $reserva->extension3;
    $extension4 = $reserva->extension4;
    $exten4a = $reserva->precio_exten4_a;
    $exten4c = $reserva->precio_exten4_c;    
    $fec_retorno = $reserva->fecha_retorno;
    $fecha_retorno_ns = $reserva->fecha_retorno_ns;    
    $tarif_round = $reserva->tarifa_round;
    $tarif_one = $reserva->tarifa_one;
    $cliente = $data['cliente'];
    $cliente_apto = $data['cliente_apto'];
    $pickup1 = $data['pickup1'];
    $pickup2 = $data['pickup2'];
    $drop1 = $data['drop1'];
    $drop2 = $data['drop2'];
    $extencion1 = $data['extencion1'];
    $extencion2 = $data['extencion2'];
    $extencion4 = $data['extencion4'];
    $extencion3 = $data['extencion3'];
    $agencia = $data['agencia'];
    $disponible = $this->data['disponible'];
    $agen_account = $data['agen_account'];
    $reserva_a = $data['reserver_a'];
    $userA = $data['userA'];
    $area = $data['areas'];
    $extenFrom1 = $data['extenFrom1'];
    $extenTo1 = $data['extenTo1'];
    $extenFrom2 = $data['extenFrom2'];
    $extenTo2 = $data['extenTo2'];
    $to_areas = $data['to_areas'];
    $to_areas2 = $data['to_areas2'];
    $dato_pago = $reserva->pago;    
    $canal = $reserva->canal;        
    $var = explode('-', $dato_pago);
    $typo_pago = strtoupper($var[0]);
    $hora = $reserva->hora;
    
   
    // echo '<pre>';
    // print_r($pickup1);
    // echo '</pre>';
    // die;
    if (isset($var[1])) {
        $typo_saldo = $var[1];
        $rest_comision = 0;
    } else {
        $typo_saldo = 'FULL';
        $rest_comision = isset($reserva_a->agency_fee) ? $reserva_a->agency_fee : 0;
    }

    $url1 = $data['rootUrl'] . $ruta . $reserva->id;
    $precio_extension_adultos = ($reserva->precio_exten1_a + $reserva->precio_exten2_a + $reserva->precio_exten3_a + $reserva->precio_exten4_a);
    $precio_trips_adultos = $reserva->precio_trip1_a + $reserva->precio_trip2_a;
    $subtoadult = ($precio_trips_adultos * $reserva->pax) + ($precio_extension_adultos * $reserva->pax);

    $precio_extension_children = ($reserva->precio_exten1_c + $reserva->precio_exten2_c + $reserva->precio_exten3_c + $reserva->precio_exten4_c);
    $precio_trips_children = $reserva->precio_trip1_c + $reserva->precio_trip2_c;
    $subtochild = ( $precio_trips_children * $reserva->pax2) + ($precio_extension_children * $reserva->pax2);

    $transporadult = $precio_trips_adultos;
    if ($reserva->pax2 != 0) {
        $transporechil = $precio_trips_children;
    } else {
        $transporechil = 0;
    }
    $precioExt = $precio_extension_adultos;

    $totaltotal = ($subtoadult) + ($subtochild) + $reserva->extra_charge - $rest_comision - $val_procentaje - $reserva->descuento_valor;
    
    //actualizacion de nuevas variables para capturar datos almacenados en la tabla reservas de la base de datos
    $total2 = $reserva->total2;
    $paid_driver = $reserva->paid_driver;    
    $op_pago_conductor = $reserva->op_pago_conductor;
    // print_r($op_pago_conductor);
    // die;
    $pred_paid_amount = $reserva->pred_paid_amount;
    $total_paid = $reserva->total_paid;
    $totaltotalfull = $reserva->totaltotal;
    $passenger_balance_due = $reserva->passenger_balance_due;
    $agency_balance_due = $reserva->agency_balance_due;
    $total_charge = $reserva->total_charge;    
    $pay_amount = $reserva->pred_paid_amount;  
    $tipo_reserva = "transportation";    
    $fecha_hoy = date("Y-m-d");
    $dias= 1; // los días a restar 
    $fecha_ayer =  date("Y-m-d", strtotime("$fecha_hoy - $dias day"));  
    Doo::db()->query("DELETE FROM  reservas_trip_puestos WHERE fecha_trip <= '$fecha_ayer'");
    $sqlpag = "SELECT SUM(pagado) AS SUMPAG FROM reservas_pago WHERE id_reserva = '$reserva->id'";
    $rspag = Doo::db()->query($sqlpag);
    $result_pag = $rspag->fetchAll();
    
    //echo $pay_amount;
    
    foreach ($result_pag as $rpag) {
        
        $resultado_pagos1 = $rpag['SUMPAG'];
        
        if($resultado_pagos1 == ''){
            $resultado_pagos = '0';
        }else{
            $resultado_pagos = $rpag['SUMPAG'];
        }

    }
        
    //FLOOR (redondeo de numeros decimales hacia abajo)
    
    $sql1 = "SELECT SUM(FLOOR(pagado)) AS PAGPRED FROM reservas_pago WHERE id_reserva=$reserva->id AND pago = 'PRED-PAID'";
    $rs1 = Doo::db()->query($sql1);
    $pagosprep = $rs1->fetchAll();


    foreach ($pagosprep as $ppr) {

    }
    
    $pago_prepaid = ($ppr['PAGPRED']) * 0.04;

    
    /*FLOOR (REDONDEA) PCCWF (PAGOS CON CREDIT CARD WITH FEE)*/
    $sql2 = "SELECT SUM(pagado) AS PCCWF FROM reservas_pago WHERE id_reserva=$reserva->id AND tipo_pago='CREDIT CARD WITH FEE' AND pago='COLLECT ON BOARD'";
    $rs2 = Doo::db()->query($sql2);
    $pagosccwf = $rs2->fetchAll();

//                    print($pagosprep);
    foreach ($pagosccwf as $pccwf) {
//                        print($ppr['PAGPRED']);
    }
    $pago_ccwf = $pccwf['PCCWF']; 
    $pago_sinccwf = ($pccwf['PCCWF']) / 1.04;
    $cargos1 = $pago_ccwf - $pago_sinccwf;
    $cargos = number_format($cargos1, 2, '.', '');
    
    
     /*FLOOR (REDONDEA) PCCWF (PAGOS CON CREDIT CARD WITH FEE)*/
    $sql3 = "SELECT SUM(pagado) AS PPPCCWF FROM reservas_pago WHERE id_reserva=$reserva->id AND tipo_pago='CREDIT CARD WITH FEE' AND pago='PRED-PAID'";
    $rs3 = Doo::db()->query($sql3);
    $pagosprepaidccwf = $rs3->fetchAll();

//                    print($pagosprep);
    foreach ($pagosprepaidccwf as $pppccwf) {
//                        print($ppr['PAGPRED']);
    }
    $pagopp_ccwf = $pppccwf['PPPCCWF']; 
    $pagopp_sinccwf = ($pppccwf['PPPCCWF']) / 1.04;
    $cargospp1 = $pagopp_ccwf - $pagopp_sinccwf;
    $cargospp = number_format($cargospp1, 2, '.', '');
    
    // print($pagopp_ccwf);
    print($cargospp);
    
    $idagencia = $agencia->id;
    //print($idagencia);
    $sql4 = "SELECT acount,opcion1,opcion2,opcion3,opcion4,opcion5,days FROM agency_account WHERE id_agencia = '$idagencia' ";
    $rs4 = Doo::db()->query($sql4);
    $opcion = $rs4->fetchAll();


    foreach ($opcion as $opc) {

    }
    $voucher = $opc['opcion5']; 
   
    
    
    $descuento = $reserva->descuento_procentaje;

    $val_procentaje = 0;
    if ($descuento > 0) {
        $val_procentaje = ($totaltotal * $descuento) / 100;
    }
    //actualizacion
    $fee = 0;
    //$totaltotal = $totaltotal + $fee;
    //actualizacion
    //$totaltotal = $total2 + $fee;

    $totaltotal = $totaltotal + $fee;


    //print_r($totaltotal);
    //conf Other Amount
    if ($reserva->otheramount != 0) {
        $saldoxPagar = $reserva->otheramount - $pagado;
    } else {
        $saldoxPagar = $totaltotal - $pagado;

        // $saldoxPagar = $totaltotal - $total_charge;
        //$saldoxPagar = $totaltotal;
        //print($saldoxPagar);
    }

    if ($reserva->pred_paid_amount != 0) {
        $saldoPago = $reserva->pred_paid_amount - $totaltotal;
        //print($saldoPago);
    }

    $adaptacion = "";
    if ($extencion1->id != 0) {
        $adaptacion .= "$('#pickup1').attr('disabled','true');";
        $adaptacion .= "$('#pickup1').attr('value','');";
        $adaptacion .= "$('#id_p1').attr('value','');";
        $precio = ($agencia->type_rate == 0) ? $extencion1->precio : $extencion1->precio_neto;
        $_SESSION['price']['exten1'] = $precio;
    }
    if ($extencion2->id != 0) {

        $adaptacion .= "$('#dropoff1').attr('disabled','true');";
        $adaptacion .= "$('#dropoff1').attr('value','');";
        $adaptacion .= "$('#id_dropoff1').attr('value','');";
        $precio = ($agencia->type_rate == 0) ? $extencion2->precio : $extencion2->precio_neto;
        $_SESSION['price']['exten2'] = $precio;
    }
    if ($extencion3->id != 0) {
        $adaptacion .= "$('#pickup2').attr('disabled','true');";
        $adaptacion .= "$('#pickup2').attr('value','');";
        $adaptacion .= "$('#id_p2').attr('value','');";
        $precio = ($agencia->type_rate == 0) ? $extencion3->precio : $extencion3->precio_neto;
        $_SESSION['price']['exten3'] = $precio;
    }
    if ($extencion4->id != 0) {
        $adaptacion .= "$('#dropoff2').attr('disabled','true');";
        $adaptacion .= "$('#dropoff2').attr('value','');";
        $adaptacion .= "$('#id_dropoff2').attr('value','');";
        $precio = ($agencia->type_rate == 0) ? $extencion4->precio : $extencion4->precio_neto;
        $_SESSION['price']['exten4'] = $precio;
    }
} else {
    echo 'Acceso denegado';
    exit();
}
//date_default_timezone_set('America/Bogota'); //var_dump(date("H:i A"));
    $login = $_SESSION['loginagency'];
    $usuario = $login->usuario;
    // echo $usuario;
    // echo "<pre>";
    // print_r($fecha_salida_ns);
    // echo "</pre>";
    // die;

    $datetime1 = strtotime(date('Y-m-d' ,strtotime($fecha_salida_ns."- 1 days")));
    $datetime2 = strtotime(date('Y-m-d',time()));
    if($datetime1 > $datetime2  ){
        $validacion= 0;
        }else{
           if ((date('H:i', strtotime($reserva->deptime1)) > date("H:i")) ) {
                   if ($datetime1 >= $datetime2 ) {
                       $validacion= 0;
                   }else{
                       $validacion= 1;
                   }
           }else{
               $validacion= 1;
           }
       };

       
    // echo $usuario;
    // echo "<pre>";
    // print_r($validacion);
    // echo "</pre>";
    // die;
?>

<?php //if(true ){ ?>
<?php //if($validacion == 0){ ?>

      <!-- jQuery -->
      <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/jquery/dist/jquery.min.js"></script>
      <script>
    var $jq = jQuery.noConflict();
    // alert($jq.fn.jquery);
    </script>

    <!-- Bootstrap -->
<script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/bootstrap/dist/js/bootstrap.js"></script>

    <script src="<?php echo $data['rootUrl']; ?>global/load/js/vendor/modernizr-2.6.2.min.js"></script>
        
    <!-- FastClick -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/nprogress/nprogress.js"></script>
    <!-- Chart.js -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Chart.js/dist/Chart.min.js"></script>
    <!-- gauge.js -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/gauge.js/dist/gauge.min.js"></script>
    <!-- bootstrap-progressbar -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <!-- iCheck -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/iCheck/icheck.min.js"></script>
    <!-- Skycons -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/skycons/skycons.js"></script>
    
    <!-- DateJS -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/DateJS/build/date.js"></script>

    <script src="<?php echo $data['rootUrl']; ?>global/startjs/sweetalert2.js"></script>
    
<script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/build/js/custom.js"></script>

    <!-- jQuery Cookie-->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/jquery/src/jquery.cookie.js"></script>

    <!-- Custom Theme Scripts -->

<script src='<?php echo $data['rootUrl']?>global/startjs/moment.min.js'></script>
    <script src='<?php echo $data['rootUrl']?>global/startjs/lightpick.js'></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery-1.6.4.min.js"></script>

<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery.multiselect.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/menubar/js/menu.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/prettify.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/ajaxfileupload.js"></script>


<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery.notice.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery.ausu-autosuggest.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/Concurrent.Thread.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/form.js"></script>
<!--<script type="text/javascript" src="https://www.jose-aguilar.com/scripts/jquery/mask/jquery.mask.js"></script>-->
<!--jquery para el calendario-->
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery-ui-1.8.18.custom.min.js"></script>

<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/booking.js"></script>
<script type="text/javascript" src="<?php echo $data['rootUrl']; ?>global/js/jquery.timeentry.js"></script>

    <!-- Flot -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Flot/jquery.flot.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Flot/jquery.flot.pie.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Flot/jquery.flot.time.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Flot/jquery.flot.stack.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Flot/jquery.flot.resize.js"></script>
    
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/flot.curvedlines/curvedLines.js"></script>
    <!-- DateJS -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/bootstrap-wysiwyg/js/bootstrap-wysiwyg.min.js"></script>

    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/jquery.hotkeys/jquery.hotkeys.js"></script>
	
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/jqvmap/dist/jquery.vmap.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/intro.js/js/intro.js"></script>
      <!-- BOOTSTRAp spin -->
    <script src="<?php echo $data['rootUrl']; ?>global/startjs/jquery.bootstrap-touchspin.js"></script>
        <!-- Custom Theme Scripts -->
    <script src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/switchery/dist/switchery.min.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135697845-1"></script>
    

    <script type="text/javascript" src="<?php echo $data['rootUrl']; ?>protected/viewc/agency/agency/vendors/Fullscreen/js/jquery.loadingModal.js"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-135697845-1');
        </script>
<script language="JavaScript" type="text/javascript">
    var bPreguntar = true;
    window.onbeforeunload = preguntarAntesDeSalir;
    function preguntarAntesDeSalir()
    {
      if (bPreguntar)
        return "Are you sure? you will not be able recober your information";
    }
</script>
    <?php //if(isset($_SESSION['loginagency']) AND $login->admon == 1) { ?>
    <?php if(true) { ?>
<script>
        function block_invoiced() {   
            
            var estado = "<?php echo $reserva->estado; ?>";
            var tipo_ticket = "<?php echo $reserva->tipo_ticket; ?>";

            if(estado == 'INVOICED' && (tipo_ticket == 'oneway' || tipo_ticket == 'roundtrip')){
            
            document.getElementById("onew").className  = "gris";
            document.getElementById("bck1").className  = "gris";
            document.getElementById("inputype").className  = "gris";
            document.getElementById("liderpax").className  = "gris";

            document.getElementById("saldoporpagar").disabled = true;
            document.getElementById("descuento_valor").disabled = true;
            document.getElementById("descuento").disabled = true;
            document.getElementById("extra").disabled = true;
            document.getElementById("op_pago_conductor").disabled = true;
            document.getElementById("estado_oneway").disabled = true;
            document.getElementById("from").disabled = true;
            document.getElementById("to").disabled = true;
            document.getElementById("search").style.display = "none";
            document.getElementById("pickup1").disabled = true;
            document.getElementById("dropoff1").disabled = true;
            document.getElementById("ext_from1").disabled = true;
            document.getElementById("ext_to1").disabled = true;
            document.getElementById("agency").disabled = true;
            document.getElementById("uagency").disabled = true;
            document.getElementById("estado").disabled = true;
            document.getElementById("leader").disabled = true;
            document.getElementById("firstname1").disabled = true;
            document.getElementById("lastname1").disabled = true;
            document.getElementById("email1").disabled = true;
            document.getElementById("phone1").disabled = true;
            document.getElementById("oneway").disabled = true;
            document.getElementById("roundtrip").disabled = true;            
            document.getElementById("fecha_salida").disabled = true;
            document.getElementById("pay_driver").disabled = true;
            document.getElementById("calan_phone").disabled = true;
            document.getElementById("calan_mail").disabled = true;
            document.getElementById("calan_web").disabled = true;
            document.getElementById("byr").disabled = true;
            document.getElementById("histo_pagos").className = "";
            document.getElementById("btn-pagos3").style.display = "none";
            document.getElementById("unlock").style.display = "";
            
            document.getElementById("estado_oneway").style.backgroundColor = "#d4d4d4";         
            document.getElementById("estado_roundtrip").options[1].disabled = true;
            document.getElementById("estado_roundtrip").options[3].disabled = true;
            
            }
            
            
        }
</script>

<script>
        function unblock_invoiced() {   
            
            var password = $("#clave").val();
            var reset = "";
            var estado = "<?php echo $reserva->estado; ?>";
            var tipo_ticket = "<?php echo $reserva->tipo_ticket; ?>";
            
            if(password == "$uper3001Tours"){
                
            setTimeout(function () { 
                    
                //confirm("Unlocked... Please Close the Window");                    
                document.getElementById("openModal").style.display = "none";

            }, 200);      
            

            
            if(estado == 'INVOICED' && (tipo_ticket == 'oneway' || tipo_ticket == 'roundtrip')){
            
            document.getElementById("onew").className  = "cerati";
            document.getElementById("bck1").className  = "ceratix";
            document.getElementById("inputype").className  = "passel";
            document.getElementById("liderpax").className  = "pass2";
            
            document.getElementById("saldoporpagar").disabled = false;
            document.getElementById("descuento_valor").disabled = false;
            document.getElementById("descuento").disabled = false;
            document.getElementById("extra").disabled = false;
            document.getElementById("op_pago_conductor").disabled = false;
            document.getElementById("estado_oneway").disabled = false;
            document.getElementById("from").disabled = false;
            document.getElementById("to").disabled = false;
            document.getElementById("search").style.display = "";
            document.getElementById("pickup1").disabled = false;
            document.getElementById("dropoff1").disabled = false;
            document.getElementById("ext_from1").disabled = false;
            document.getElementById("ext_to1").disabled = false;
            document.getElementById("agency").disabled = false;
            document.getElementById("uagency").disabled = false;
            document.getElementById("estado").disabled = false;
            document.getElementById("leader").disabled = false;
            document.getElementById("firstname1").disabled = false;
            document.getElementById("lastname1").disabled = false;
            document.getElementById("email1").disabled = false;
            document.getElementById("phone1").disabled = false;
            document.getElementById("oneway").disabled = false;
            document.getElementById("roundtrip").disabled = false;    
            document.getElementById("fecha_salida").disabled = false;
            document.getElementById("pay_driver").disabled = false;
            document.getElementById("calan_phone").disabled = false;
            document.getElementById("calan_mail").disabled = false;
            document.getElementById("calan_web").disabled = false;
            document.getElementById("byr").disabled = false;
            document.getElementById("histo_pagos").className = "pagos";
            document.getElementById("btn-pagos3").style.display = "";      
            document.getElementById("estado_oneway").style.backgroundColor = "#98fb98";         
            document.getElementById("estado_roundtrip").options[1].disabled = false;
            document.getElementById("estado_roundtrip").options[3].disabled = false;
            document.getElementById("unlock").style.display = "none";           
            
            
            }
            
            }else{
                
                confirm("Try Again !!!");
                 $('#clave').val(reset);
                 $("#clave").focus();
                exit;
            }
            
            
        }
</script>
<h1>
<?php
    // echo "<pre>";
    // var_dump(!($datetime1 > $datetime2 || date('H:i A', ($hora)) > date("H:i A") AND $datetime1 < $datetime2));
    // echo "</pre>";

?>
</h1>



<?php if (isset($_GET['menssage'])) { ?>
    <!-- <div class="success"><?php //echo $_GET['menssage']; ?></div> -->
<?php } ?>
<?php if (isset($_GET['error'])) { ?>
    <!-- <div class="error"><?php //echo $_GET['error']; ?></div> -->
<?php } ?>

<?php    
    
    
    if($reserva->estado == 'INVOICED'){
        
        $sql = "SELECT id_factura FROM facturaservicio WHERE id_servicio = '$reserva->id' AND tipo_servicio = 'RESERVE' ";
        $rs = Doo::db()->query($sql);
        $factura = $rs->fetchAll();

        foreach ($factura as $fact) {

        }

        $invoice_no =  $fact['id_factura'];


        $sql2 = "SELECT creation_date FROM factura WHERE id = $invoice_no ";
        $rs2 = Doo::db()->query($sql2);
        $fecha = $rs2->fetchAll();

        foreach ($fecha as $fec) {

        }

        $fecha_factura =  $fec['creation_date'];
    //echo $fecha_factura;
    
    }
    
?>

</div>
<!--background-image: url('<?php /*echo $data['rootUrl']*/ ?>global/img/bg2.jpg');-->
<div class="catsandstars" id="header_page" style="height:77px; display: none;" >
    <div class="header">
        
        <table style="width:500px;" border="0">
            <tr>
                <td width="30%" class='stroke1' style="position:absolute; margin-top:-5px; margin-left:-50px; width:392px; color:#0B55C4; text-shadow: 1px 4px #999; font-size:30px; font-weight:normal; text-align:center; font-family:Impact;">Reservas Edit  &nbsp;ID <?php echo $reserva->id;?></td>
                <td width="10%" id="bnt-trips" class="btn" style="cursor:pointer; margin-left:2px;"><img style="margin-top:0px; margin-left:-9px;" src="<?php echo $data['rootUrl']; ?>global/img/admin/calendar_aviso32x32.png" /></td>
                <!-- <td width="10%" style="padding:5px;"><div id="mensajeTrip" style="position:absolute; margin-left:4px; margin-top:-24px;" class="temporizador">00:00</div></td> -->
               
            </tr>
        </table>
    </div>

    <div id="info-group" style="">
        <input type="text" readonly="true" style="display:none; background: #33449C; margin-left: 11px; margin-top: -2px; width: 303px; color: #fff; border-color: transparent; font-family: Arial, Helvetica, sans-serif;" name="taritrans" id="taritrans" placeholder="Rates" />
    </div>

    <script type="text/javascript">
        function capturar2()
        {
//            var x = document.getElementById('taritrans1').value;
//            document.getElementById('taritrans').value = x;
        }
    </script>

    <div  id="toolbar">
        <select style="margin-left:-275px; margin-top: 13px; width:303px; background: #AC1B29;color: #fff;border-color: transparent;" name="special_price_name" id="special_price_name" onchange="">
         <option id="" value="Rates">Rates</option>
            <?php
            
            $sql1 = "SELECT DISTINCT special_price_name FROM tarifarios_transportacion";
            $rs1 = Doo::db()->query($sql1);
            $routesnet = $rs1->fetchAll();
            foreach ($routesnet as $r) {
                $especial = $r['special_price_name'];
                $special_price = str_replace(array('+','-','/',':','*','\\',' ','.','%','#','$','@','!','?','"','<','>','&'),'_',$especial);
                
                echo '<option disabled value="' . $special_price . '" >' . $special_price . '</option>';
            }
            ?>
         </select> 
        

        <script>
            function myFunction() {
//                var x = 'RATES ----------------------------------------------------->';
//                document.getElementById("taritrans").value = x;
            }
        </script> 
        


        <div style= "margin-left:0px; margin-top:0px;">     
            
           <a href="#openModal" style="border: transparent;"><img id="unlock" onclick="" style="display:none; cursor:pointer; position: absolute; margin-top:-60px; margin-left: -430px; width: 30px; height: 30px;" src ='<?php echo $data['rootUrl'] ?>global/img/unlock_red.png' width="75px" height="75px" margin-left="85px" margin-top="-127px"></a>            
            
        </div>

        <div class="toolbar-list">
            <ul>
                
                
                <li class="btn-toolbar" id="btn-print">

                        <img id="print" title= "Print Credit Card" onclick="window.print();" style="position:absolute; margin-left: 46px; margin-top: -47px; cursor:pointer; "src ='<?php echo $data['rootUrl'] ?>global/img/print.png' width="35px" height="35px" margin-left="0px" margin-top="0px">          

                </li>
                
                <li class="btn-toolbar" id="">
                    


                        
                    <form action="<?php /*echo $data['rootUrl'] */?>admin/reporte/cargar" id="formulario" method="post" name="formulario" onsubmit="onEnviar();">
                            <input id="variable" name="variable" style="display:none" value="<?php /*echo $reserva->id;*/ ?>"  />
                            <input id="idf" name="idf" style="display:none" value="1"  />
                            <input  type="submit" value="Summary" />
                            <input  class="button" type="submit" value="Download ▼"  title="Download" style=" display:none; cursor:pointer; margin-top: -1px; margin-left: 2px; padding: 4px; height: 22px; width: 113px; color: #d91e33; font-weight: 700; font-size:11px; border-color:#33449C;" />

                        </form>


                    
                    <script type="text/javascript">
                        var variableJs = document.getElementById("variable").value;

                        function onEnviar() {
                            document.getElementById("variable").value = variableJs;
                        }
                    </script>

                </li>  
                

                <li style="margin-left: -14px; margin-top: 1px;" class="btn-toolbar" id="btn-rastro">
                    <a  style="margin-left: 12px; margin-top: -14px; border:transparent;" class="link-button" id="btn-rastro">
                        <span class="icon-32-rastro" title="Mostrar Rastro" style="margin-left: 20px; margin-top: -40px; color:#4B0082; width: 32px; height: 32px;">&nbsp;</span>

                        Traces
                    </a>
                </li>

                <li style="margin-left: -1px; margin-top: 1px;" class="btn-toolbar" id="btn-pagos">
                    <a  style="margin-left: 14px; margin-top: -18px; border:transparent;" class="link-button" id="btn-pagos">    
                        <span class="pagos" title="Pagos Eliminados" style="margin-left: 4px; margin-top: -36px; color:#4B0082; width: 32px; height: 32px; ">&nbsp;</span>

                        Deleted
                        Payments
                    </a>
                </li>

                <li style="margin-left: -1px; margin-top: 1px;" class="btn-toolbar" id="btn-save1">
<!--                    <a  class="link-button" id="btn-save1"><span class="icon-32-save" title="Guardar">&nbsp;</span>Save</a>-->
                    <a style="margin-left: 12px; margin-top: -50px; border:transparent;" class="link-button" id="btn-save1"> <i class="fa fa-floppy-o fa-3x" title="Guardar" style="margin-left: 4px; margin-top: -2px;  color:#4B0082;"></i>&nbsp;Save</a>
                </li>


            </ul>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>










<!-- header options -->
<fieldset id="facturas" style="display: none; position:absolute; width:109px; height: 36px; margin-top: -148px; margin-left:872px; background-color: #F5F5F5; border-color: transparent;">

    <div id="invoices">
    
    <table>
        
        <tr>
          
        <td><label id="lbl_invoice" style="position:absolute; margin-left:-78px; margin-top:9px; font-size: 14px; color:#0B55C4; font-weight: bold;">Invoice #</label></td>
        <td><input type="text"  id="invoice" name="invoice" style="position:absolute;  height: 17px; margin-left:-8px; margin-top: 3px; width:119px; text-align: center; color:red; font-size:18px; padding-top:3px; font-weight:bold;"   value="<?php echo $invoice_no; ?>" readonly="readonly"/></td>
        <td><label id="lbl_creation" style="position:absolute; margin-left:-9px; margin-top:32px; color:#000; font-size:8px;">Creation Date:</label></td>
        <td><input type="text"  id="fec_invoice" name="fec_invoice" style="position:absolute; margin-left:69px; margin-top: 31.2px; width:50px; text-align: left; color:#000; font-size:8px; font-weight:bold; border:0px; background-color: transparent;"   value="<?php echo $fecha_factura; ?>" readonly="readonly"/></td>
            
        </tr>
    </table>
    
    
    </div>
     
 </fieldset>     


<!--background-image: url('<?php /*echo $data['rootUrl'] */?>global/img/bg2.jpg'); id="content_page"  style="margin-top: -34px; width: 1000px;z-index:1; height:2026px;"-->
    <div  >
    
    <form  id="formula" class="form" action="<?php echo $data['rootUrl']; ?>admin/reservas/save-edit-reserve" method="post" name="formula">



        <div id="info-group2" style="display:none">
        <div id="cancelation" style="display: none">
            <div class="ho">CANCELATION <span>#</span></div>
            <div id="cancel">00000</div>
        </div>
        <div id="reservation" style="display: none">
            
            <div class="ho" style="color: #fff;background: #bb0000; height:12px;">RESERVATION <span>#</span></div>
            <div>
                <input type="text" id="reser" name="reser" style="position: absolute; margin-left: -60px; margin-top: 2px; background: #fff; padding-top: 0px; text-align:center; height: 17px; font-size: 12px; font-weight: bold; width: 111px;" value="<?php echo $reserva->codconf; ?>" readonly="readonly"/>
            </div>
            
        </div>
        <div id="status-change" style="display: none">
<!--            <div  style="width: 102px;color:#4B0082;"><strong>CHANGE STATUS</strong></div>-->
            <div class="ho" style="color: #fff;background: #2D2193;padding: 4px;margin-top: 3px; margin-left:0px; width:44px; ">STATUS</div>
            <select style="width:112px; margin-left: -4px; margin-top:1px;"  id="estado" name="estado">
                <option></option>
                <option style="font-weight:bold; color:green;" <?php           
            if ($reserva->estado == 'CONFIRMED' || $reserva->estado == 'INVOICED') {
                echo ' selected="selected" ';
            };
            ?>  value="CONFIRMED">CONFIRMED</option>
                <option style="font-weight:bold; color:green;"  <?php
                if ($reserva->estado == 'QUOTE') {
                    echo ' selected="selected" ';
                };
            ?>  value="QUOTE">QUOTE</option>
                <option style="font-weight:bold; color:red;" value="NO SHOW W/ CHARGE" <?php
                if ($reserva->estado == 'NO SHOW W/ CHARGE') {
                    echo ' selected="selected" ';
                };
            ?>>NO SHOW W / CHARGE</option>
                <option style="font-weight:bold; color:red;"  value="NO SHOW W/ O CHARGE" <?php
                if ($reserva->estado == 'NO SHOW W/ O CHARGE') {
                    echo ' selected="selected" ';
                };
            ?>>NO SHOW W / O CHARGE</option>
                <option style="font-weight:bold; color:red;"  <?php
                if ($reserva->estado == 'CANCELED') {
                    echo ' selected="selected" ';
                };
            ?>  value="CANCELED">CANCELED</option>
            </select>
        </div>
        <div id="status" style="width:110px; display: none" >
            <div  id="stat"><?php
                if ($reserva->estado == 'CONFIRMED') {

                    echo '<input style="position:absolute; background-color:green; color:#fff; text-align:center; font-weight:bold; font-size:24px; width:417px; margin-top: -1.1px; margin-left: -56px; height: 23px;" type="text" id="reservita" name="reservita" value="' . $reserva->estado . '" />';
//                echo $reserva->estado;
                };
            ?>

                <?php
                if ($reserva->estado == 'QUOTE') {

                    echo '<input style="position:absolute; background-color:green; color:#fff; text-align:center; font-weight:bold; font-size:24px; width:417px; margin-top: -1.1px; margin-left: -56px; height: 23px;" type="text" id="reservita" name="reservita" value="' . $reserva->estado . '" />';
//                echo $reserva->estado;
                };
                ?>

                <?php
                if ($reserva->estado == 'INVOICED') {

                    echo '<input style="position:absolute; background-color:#3821FF; color:#fff; text-align:center; font-weight:bold; font-size:24px; width:417px; margin-top: -1.1px; margin-left: -56px; height: 23px;" type="text" id="reservita" name="reservita" value="' . $reserva->estado . '" />';
//                echo $reserva->estado;
                };
                ?>

                <?php
                if ($reserva->estado == 'NO SHOW W/ CHARGE') {

                    echo '<input style="position:absolute; background-color:#FF2121; color:#fff; text-align:center; font-weight:bold; font-size:24px; width:417px; margin-top: -1.1px; margin-left: -56px; height: 23px;" type="text" id="reservita" name="reservita" value="' . $reserva->estado . '" />';
//                echo $reserva->estado;
                };
                ?>

                <?php
                if ($reserva->estado == 'NO SHOW W/ O CHARGE') {

                    echo '<input style="position:absolute; background-color:#FF2121; color:#fff; text-align:center; font-weight:bold; font-size:24px; width:417px; margin-top: -1.1px; margin-left: -56px; height: 23px;" type="text" id="reservita" name="reservita" value="' . $reserva->estado . '" />';
//                echo $reserva->estado;
                };
                ?>

                <?php
                if ($reserva->estado == 'CANCELED') {

                    echo '<input style="position:absolute; background-color:#FF2121; color:#fff; text-align:center; font-weight:bold; font-size:24px; width:417px; margin-top: -1.1px; margin-left: -56px; height: 23px;" type="text" id="reservita" name="reservita" value="' . $reserva->estado . '" />';
//                echo $reserva->estado;
                };
                ?>

            </div>
        </div>
    </div>

        <?php
            $msjerror = null;
            if(isset($_GET['error']) AND $_GET['error'] != ''){
                $msjerror = $_GET['error'];
            }

        ?>


        <div id="">
            <input id="fin_calculo" type="hidden" value="false"/>
            <input type="hidden"  id="vista" value="1" />
            <input name="id" type="hidden"  id="id"  value="<?php
                if (isset($reserva)) {
                    echo $reserva->id;
                }
                ?>" />
<!-- LEADER PASS -->
        <div class="right_col" role="main">
            <div class="">
                <div class="clearfix"></div>
                
                    <div class="row">
                      <div class="col-md-6 col-sm-12 col-xs-12">
                        <div class="x_panel">
                
                          <div class="x_title">
                            <h2>LEADER PASS</h2>
                            <div class="clearfix"></div>
                          </div>
                
                <div class="x_content">
                        <div class="container">
                            <div class="row ">

                                 <table width="100%" style="display: none;">
                                                <tr style="display: none;">
<!--                                                    <td width="10%">-->
                                                <div style="display:none;">
                                                        <input style="display:none; position:absolute; margin-left:19px; margin-top:22px; width:211px; text-align: left; height:18px;" name="nombre" type="text"  id="nombre" class="verdefosub" value="<?php echo trim($login->firstname . ' (' . $login->lastname . ')'); ?>" readonly="readonly"/>

                                                    <div style="margin-top:2px; margin-left:2px;">
                                                        <label style="position:absolute; margin-top:43px; margin-left:16px; color:#FFFFFF;">AGENCY</label>
                                                    </div>
                              <input class="verdefosub" style="display:none; margin-left:3px; width:441px; height: 18px;" type="text" size="35" value="<?php
                                                        if (isset($cliente) && isset($reserva)) {
                                                            if ($cliente->id == $reserva->id_clientes) {
                                                                echo $cliente->lastname . " " . $cliente->firstname . " - E-Mail -" . $cliente->username;
                                                            }
                                                        } ?>" name="leader" id="leader" autocomplete="off" />

<!--                                                    </td>-->
<!--                                                    <td width="40%">-->
                                                    <div class="ausu-suggest" style="margin-top:9px; margin-left:-50px; display: none;">
                                                        <input type="text" name="agency" onchange="capturar2();" id="agency" class="verdefosub" size="19" maxlength="30" style="position:absolute; margin-top:54px; margin-left:68px; width:207px; height:18px;" value="<?php echo $agencia->company_name; ?>"  autocomplete="off"    />
                                                        <input type="hidden" size="4" value="<?php echo $agencia->id; ?>" name="id_agency" id="id_agency" autocomplete="off"  readonly="readonly"/>
                                                        <input type="hidden" size="4" value="<?php echo $agencia->type_rate; ?>" name="type_rate" id="type_rate" autocomplete="off"  readonly="readonly"/>
                                                        <input type="hidden" size="4" value="0" name="disponible" id="disponible" autocomplete="off"  readonly="readonly"/>
                                                        <input type="hidden" size="4" value="0" name="comision" id="comision" autocomplete="off"  readonly="readonly"/>

                                                    </div>

                                                </div>
<!--                                                    </td>-->
<!--                                                    <td width="10%">-->

                                                        <div style="margin-top:2px; margin-left:2px; display:none;">
                                                            <label style="position:absolute; margin-left:233px; margin-top: 42px; color:#FFFFFF;">Employ</label>
                                                        </div>
<!--                                                    </td>-->
<!--                                                    <td width="40%">-->
                                                        <div class="ausu-suggest" style="margin-top:11px; margin-left:-41px; display: none;" >
                                                            <input style="position:absolute; width:219px; margin-top:52px; margin-left:277px; height:18px;" name="uagency" type="text"  id="uagency" class="verdefosub" size="11" maxlength="30" value="<?php echo ($agencia->id != -1) ? $userA->firstname . ' ' . $userA->lastname : ''; ?>"  />
                                                            <input type="hidden" size="4" value="<?php echo ($agencia->id != -1) ? $userA->id : ''; ?>" name="id_auser" id="id_auser" autocomplete="off" />
                                                        </div>
<!--                                                    </td>-->
                                                </tr>
                    <a id="newClient" style="cursor:pointer; display:none;" ><img src="<?php echo $data['rootUrl']; ?>global/img/new.png" alt=""  align="absmiddle" border="0"  style="padding-bottom:0px;" /></a>
                                            </table>


                                                          <input type="hidden" name="idCliente"   id="idCliente"  value="<?php
                                                                if (isset($cliente) && isset($reserva)) {
                                                                    if ($cliente->id == $reserva->id_clientes) {
                                                                        echo trim($reserva->id_clientes);
                                                                    }
                                                                }
                                                            ?>" />
                                <div class="col-md-12 col-sm-12 col-xs-12 form-group ">
                                        <input type="hidden" name="idPagador" id="idPagador" value="0"  />
                                        <input type="hidden" name="idPagador_aux" id="idPagador_aux" value="0"  />
                                        <input type="hidden" name="cliente_apto" id="cliente_apto" value="0"  />
                                        
                                    <div class="col-md-6 col-sm-12 col-xs-12 form-group ">
                                        <label class="control-label col-md-12 col-sm-12 col-xs-12" for="first-name">First Name</label>
                                        <input style="font-weight: bold;" name="firstname1" id="firstname1"  type="text" class="verdefosub form-control" readonly  value="<?php
                                                        if (isset($reserva)) {
                                                            echo $cliente->firstname;
                                                        }
                                                        ?>" />
                                    </div>

                                    <div class="col-md-6 col-sm-12 col-xs-12 form-group">
                                        <label   class="control-label col-md-12 col-sm-12 col-xs-12" for="first-name">Last Name</label>
                                        <input style="font-weight: bold;" name="lastname1" id="lastname1" type="text" class="verdefosub form-control" readonly value="<?php
                                                        if (isset($reserva)) {
                                                                echo $cliente->lastname;
                                                        }
                                                        ?>" />
                                    </div>
                                    <div class="col-md-5 col-sm-12 col-xs-12 form-group">
                                        <label  class="control-label col-md-12 col-sm-12 col-xs-12" for="first-name">Email</label>
                                        <input style="font-weight: bold;" name="email1" id="email1" type="text" class="verdefosub form-control"  value="<?php
                                                        if (isset($reserva)) {
                                                                echo $cliente->username;
                                                        }
                                                        ?>" />
                                    </div>

                                    <div class="col-md-4 col-sm-12 col-xs-12 form-group">
                                        <label  class="control-label col-md-12 col-sm-12 col-xs-12" for="first-name">Phone</label>
                                        <input style="font-weight: bold; font-style: italic;" name="phone1" id="phone1" type="text" class="verdefosub form-control"  value="<?php
                                                        if (isset($reserva)) {
                                                                echo $cliente->phone;
                                                        }
                                                        ?>" />
                                    </div>

                                    <div class="col-md-3 col-sm-12 col-xs-12 form-group">
                                         <label  class="control-label col-md-12 col-sm-12 col-xs-12" for="first-name"># Ref</label>
                                        <input style="font-weight: bold; font-style: italic;" name="numref" id="numref" type="text" class="verdefosub form-control"  value="<?php
                                                        if (isset($reserva)) {
                                                                echo $reserva->reference;
                                                        }
                                                        ?>" />
                                    </div>

                                       <input  type="hidden" name="type_cliente"  id="type_cliente" value="<?php
                                    if (isset($cliente) && isset($reserva)) {
                                        if ($cliente->id == $reserva->id_clientes) {
                                            echo $cliente->tipo_client;
                                        }
                                    }
                                    ?>" /> 
                                </div>
                                <table style="display: none; margin-top:-15px; margin-right:112px;" align="center" cellspacing="10">
                                    <tr style="position:absolute; margin-left:37px; margin-top:95px;" valign="top">
                                        <td><label style="color:#FFFFFF;" for="calan_phone"> BY PHONE</label> <input name="canal" <?php
                                        if ($reserva->canal == 'PHONE') {
                                            echo ' checked="checked" ';
                                        }
                                            ?>  type="radio" id="calan_phone" value="PHONE" />  </td>
                                            <td><label style="color:#FFFFFF;"  for="calan_mail"> BY MAIL</label> <input name="canal" <?php
                                                if ($reserva->canal == 'MAIL') {
                                                    echo ' checked="checked" ';
                                                }
                                            ?> type="radio"  id="calan_mail"  value="MAIL" /> </td>
                                            <td><label style="color:#FFFFFF;" for="calan_web"> WEBSALE </label><input name="canal"  <?php
                                                if ($reserva->canal == 'WEBSALE') {
                                                    echo ' checked="checked" ';
                                                }
                                            ?> type="radio" id="calan_web" value="WEBSALE" />  </td>
                                    </tr>
                                </table>


                                <div class="col-md-6 col-sm-12 col-xs-12 form-group " style="display:none;">
                                    <table class="table jambo_table bulk_action"  style="text-aling:left">
                                        <thead>
                                        <tr class="headings">
                                            <th class="column-title">Quote </th>
                                            <th class="column-title">Adult</th>
                                            <th class="column-title">Child</th>
                                        </tr>
                                        </thead>

                                        <tbody>
                                        <tr class="even pointer">
                                            <td class=" " style="text-align:right; font-weight: bold;">Line Transportation</td>
                                            <td class=" "><span  name ="transporadult" id="transporadult"  value="0" style="font-weight:bold; "></span></td>           
                                            <input type="hidden" name ="transadult" id="transadult" value="0" />
                                            <input type="hidden" name ="transchild" id="transchild" value="0"/>
                                            
                                            <td class=" "><span name ="transporechil" id="transporechil" value="0" style="font-weight:bold; "></span></td>
                                        </tr>
                                        </tbody>
                                        <tbody>
                                        <tr class="even pointer">
                                            <td class=" " style="text-align:right; font-weight: bold;">Extensions</td>
                                            <td class="text-danger "><span id="extenadult" style="font-weight:bold; "></span></td>
                                            <td class="text-danger "><span id="extenchil" style=" font-weight:bold; "></span></td>
                                        </tr>
                                        </tbody>
                                        <tbody>
                                        <tr class="even pointer">
                                            <td class=" " style="text-align:right; font-weight: bold;">Sub-total per Pax</td>
                                            <td class=" "><span id="subtoadult" style=" font-weight:bold; "></span></td>
                                            <td class=" "><span id="subtochild" style=" font-weight:bold; "></span></td>
                                        </tr>
                                        </tbody>
                                        <tbody>
                                        <tr class="even pointer">
                                            <td class=" " style="text-align:right; font-weight: bold;">TOTAL</td>
                                            <td class=" " style="text-align:right"></td>
                                            <td class=" " style="text-align:left;"><label style="text-align:left; color:#4B0082; font-weight:bold; margin-left:-40%;">$<strong id="totaltotal" style=" font-weight:bold; ">$ 00.0</strong></label></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>      

            <!-- BOOKING -->
              <div class="col-md-6 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>BOOKING</h2>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                        <div class="container">
                            <div class="row ">
                    <input type="hidden" name="id_oneway" id="id_tipo_ticket" value="<?php
                            if (isset($reserva)) {
                                if ($reserva->tipo_ticket == 'oneway') {
                                    echo 1;
                                } else {
                                    echo 2;
                                }
                            }
                            ?>"/>

                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="radio">
                                        <label  style=" font-size: 1.4em;" class="tri">
                                        <input type="radio" onclick="capturar(); reset_roundtrip();" id="oneway"  name="tipo_ticket" value="1" <?php
                                       if (isset($reserva)) {
                                        if ($reserva->tipo_ticket == 'oneway') {
                                            echo ' checked ';
                                        }
                                    }
                                    ?>
                                    <?php
                                    if (isset($reserva)) {
                                        if ($reserva->tipo_ticket != 'oneway') {
                                            echo ' enabled ';
                                        }
                                    }
                                    ?> /> One Way
                                        </label>
                                    </div>

                                    <div class="radio" >
                                        <label  style=" font-size: 1.4em;" class="tri">
                                        <input name="tipo_ticket"  onclick="capturar(); reset_roundtrip();" id="roundtrip" type="radio"  name="tipo_ticket"  value="2" <?php
                                       if (isset($reserva)) {
                                            if ($reserva->tipo_ticket != 'oneway') {
                                                echo ' checked ';
                                            }
                                        }
                                        ?> /> Round Trip
                                        </label>
                                    </div>


                <div id="opera" class="input" style="display:none" style="padding-top:5px;"> 
                    <label style="color:#4B0082;" style="padding-right:5px;"><strong>TYPE OF PASS</strong></label>
                    <div style="margin-left:97px; margin-top:1px;">
                        <select name="tipo_pass" id="tipo_pass" onclick="cargando();residente();" disabled="true" >
                            <option style="color:red;" value="0">NO RESIDENT</option>
                            <option style="color:blue;" value="1">RESIDENT</option>
                        </select>
                    </div>

                    <input type="text" name="resident" id="resident" value="<?php echo $residente; ?>" style="display:none; position:absolute; margin-left:10px; margin-top:34px; width:55px;" />

                </div>
                <div id="opera" class="input" style="display : none ; margin-left:386px; margin-top:-15.1px;" >
                    <input style="" id="byr" name="byr" type="checkbox" value="1" <?php
                    if (isset($reserva)) {
                        if ($reserva->customer_disabilities == 1) {
                            echo ' checked ';
                        }
                    } ?> />
                                      
                </div>
                                  <!-- <div  id="resultado"></div> -->
                                <!-- <div   id="result"></div> -->
                                <div id="paxs">
                                  <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Adult:</label>
                            <input class="form-control"  name="pax" type="number" min="1"  id="pax" size="2" maxlength="2" value="<?php echo $reserva->pax ?>" style="border:1px solid #AFAFAF; font-weight: bold;text-align: center;  color:#AFAFAF;" onchange="
                            var a = document.getElementById('pax').value();
                            if (isNaN(a)) {
                                return false;
                            } else {
                                var max = 100 - a;
                                if (max < 0) {
                                    var valor = 100 - $('#pax2').val();
                                    document.getElementById('pax').value = valor;
                                    $('#pax2').attr('max', valor);
                                } else {
                                    $('#pax2').attr('max', max);
                                    if ($('#pax2').val() > max) {
                                        $('#pax2').attr('value', max);
                                    }
                                }
                            }
                           "  />
                                  </div>
                                  
                                  <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Child:</label>
                            <input class="form-control" name="pax2" type="number"  id="pax2" size="2" maxlength="2"  value="<?php echo $reserva->pax2 ?>" style="border:1px solid #AFAFAF; font-weight: bold; text-align: center; color:#AFAFAF;" min="0" max="15" onchange="
                            var a = document.getElementById('pax2').value;
                            if (isNaN(a)) {
                                return false;
                            } else {
                                var max = 16 - a;
                                if (max <= 0) {
                                    var valor = 16 - $('#pax').val();
                                    document.getElementById('pax2').value = valor;
                                    $('#pax2').attr('max', valor);
                                } else {
                                    if ($('#pax').val() > max) {
                                        $('#pax').attr('value', max);
                                    }
                                }
                            }"  />
                                 </div>

                                  <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" >
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Total:</label>
                                  <input class="form-control" style="font-weight: bold; text-align: center; color:#AFAFAF;"  name="totalpax" type="text"  id="totalpax" size="2" maxlength="2" value=""  readonly="readonly" /> </div>
                  <div id="opera" class="input"  style="padding-top:10px; display: none;">

                    <label style="width:45px; margin-left:-12px; margin-top:-58px; color:#000;"  ><strong>INFANT</strong></label>
                    <input name="infat" type="number" readonly="readonly" id="infat" size="2" maxlength="2" value="0" min="0" max="16" style="border:1px solid #AFAFAF; color:#AFAFAF; font-weight: bold; text-align: center; width:40px; margin-top:-58px;margin-left:8px;" />
                </div>
                            </div>
                        </div>
                    </div>

                </div>

                </div>
                </div>
              </div>
            </div>
 <!-- BOOKING END-->





<!-- ONE WAY -->

              
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>DEPARTURE </h2>
                    <div class="clearfix"></div>
                  </div>

                  <div class="x_content">
                        <div class="container">

                            <div class="container" >
                            <div class="row ">

                              <div class="col-lg-5">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">State:</label>
    
                                <select class="select2_single form-control" id="estado_oneway" name="estado_oneway" onchange="passenger_balance(); fecha_ns_one();">

                                    <optgroup  label="STATUS">

                                        <option style="font-weight:bold;" value="1">CONFIRMED</option>
                                        <option style="font-weight:bold;" value="4">CANCELED</option>
                                        <!-- <option style="font-weight:bold;" value="5">CANCELED W/FEE</option>                             -->
                                        <option style="font-weight:bold;" value="2">NO SHOW</option>
                                        <!-- <option style="font-weight:bold;" value="3">NO SHOW W/FEE</option>
                                        <option style="font-weight:bold;" value="6">OPEN W/FEE</option> -->


                                    </optgroup>

                                </select>

                              </div>
                              
                              <div class="col-lg-5">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12" style="display:none">Rate:</label>  
                               <input style="display:none" class="form-control" type="text" name="tari_one"  id="tari_one" size="10" maxlength="15"  disabled="disabled" value="<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '3') {  echo 'Web Fare Price'; } else if ($reserva->tarifa_one == '4') {  echo 'Super Promo Price'; } else if ($reserva->tarifa_one == '5') {  echo 'Super Discount Price'; } ?> " autocomplete="off"/>
                               
                               </div>

                              <div class="col-lg-2 ">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12" style="display:none">DEPARTURE:</label>
                                 <input style="display:none" style="text-align:center; font-weight: bold;" class="form-control" type="text" name="fec_salida_ns"  id="fec_salida_ns" title="(Y - M - D)" size="10" maxlength="15" disabled="disabled"  value="<?php if (isset($reserva)) {  echo ($reserva->fecha_salida_ns == "0000-00-00"?"00-00-0000":date('Y-m-d', strtotime($reserva->fecha_salida_ns))); }  ?>" autocomplete="off"/>
                                </div>
                          </div>
                            </div>


                            <div class="container">
                            <div class="row ">

                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 dat">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Departure:</label>
                                    <div class="control-group">
                                      <div class="controls">
                                        <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12 xdisplay_inputx form-group has-feedback">

                                <input style="text-align: left; font-size:1em;font-weight: bold; padding-right: 8.5px;"  class="form-control has-feedback-left" type="text" name="fecha_salida"  id="fecha_salida" size="10" title="(M - D - Y)" maxlength="15" value="<?php  if($reserva->fecha_salida == '-N/A-') { echo 'N/S'; } else if($reserva->fecha_salida == '-N/S W/F-') { echo 'N/S W/FEE'; } else if($reserva->fecha_salida == '-C W/F-') { echo 'CANC W/FEE'; } else if($reserva->fecha_salida == '-C-') { echo 'CANC'; } else if($reserva->fecha_salida == '-OP-') { echo 'OPEN W/FEE'; } else {  if (isset($reserva)) {  echo ($reserva->fecha_salida == "0000-00-00"?"00-00-0000":date('m-d-Y', strtotime($reserva->fecha_salida))); } }?>" onchange="fechale();" autocomplete="off" placeholder="Date" />
                                        
                                          <span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
<!--                                          <span id="inputSuccess2Status3" class="sr-only">(success)</span>-->
                                        </div>
                                      </div>
                                    </div>
                                  </div>


                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" id="fromm">
                                        <label class="control-label col-md-12 col-sm-12 col-xs-12" >From:</label>
                                    <div  > 
                                        <select name="fromt" class="select2_single form-control" id="from"> 
                                            <option value=""></option>
                                        <?php foreach ($data["areas"] as $e) { if($e["id"] != 20){ ?>
										
                                            <option value="<?php echo $e["id"]; ?>" <?php
                                        if (isset($reserva)) {
                                            echo (trim($reserva->fromt) == trim($e["id"])) ? 'selected' : '';
                                        } else {
                                            echo (trim($e['nombre'] == trim("ORLANDO") ? 'selected' : ''));
                                        }
                                            ?> ><?php echo $e["nombre"]; ?></option>
										<?php } }?>                   
                                        </select>
                                    </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                                        <label class="control-label col-md-12 col-sm-12 col-xs-12">To:</label>
                                            <div >
                                                <select name="to" class="select2_single form-control" id="to" >
                                                <?php foreach ($to_areas as $area) { ?>
                                            <option value="<?php echo $area['trip_to']; ?>"  <?php echo ($area["trip_to"] == $reserva->tot ? 'selected' : '') ?> >
                                                <?php echo $area['nombre']; ?>
                                                    </option>
                                                <?php } ?>
                                            </select>
                                            <input type="hidden" name="valto" id="valto" value="<?php
                                                if (isset($reserva)) {
                                                    echo $reserva->tot;
                                                }
                                                ?>"/>
                                            </div>
                                    </div>
                                    
                                    <div id="mascaraP" style="display: none;">

                                    </div>
                                    <div id="popup" style="display: none;">  
                                    <!-- <div id="loading" style="    height: 254px; margin-left: 35%; margin-top: 20px; position: absolute;">
                                                <img style=""  src="<?php echo $data['rootUrl']; ?>global/img/admin/load.gif" />
                                                
                                            </div> -->
                                            <div id="loading">
                                                <div id="loader-wrapper">
                                                    <div id="loader"> </div>
                                                        <p style="margin-top:26%; margin-left:5% ">loading please wait...</p>
                                                </div>
                                            </div>

                                        <div class="content-popup">

                                        </div>                    
                                    </div>
                                <div id="clienteN" style=" display:none; width: 700px; margin-left: 100px;"></div>   
                                <?php if ($validacion == 0){?>
                                <div class="col-lg-1 " id="popup1">
                                    <label class="control-label col-md-3 col-sm-2 col-xs-2 ">Search</label>
                                    
                                    <a  type="button" class="btn btn-dark btn-flat form-control" id="search1" onclick="activa_one(); comprobarScreen(); "><i style="margin: 3px 0px 0px 0px;" class="fa fa-search"  title="Search" ></i></a>

                                </div>
                                <?php }else{?>
                                    <div class="col-lg-1 " >
                                    <label class="control-label col-md-3 col-sm-2 col-xs-2 ">Search</label>
                                    
                                    <a style="background-color: darkgray;" type="button" class="btn btn-dark btn-flat form-control" ><i style="margin: 3px 0px 0px 0px;" class="fa fa-search"  title="Search" ></i></a>

                                </div>
                                <?php }?>


                                <div class="col-lg-1 col-md-2 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-3 col-sm-1 col-xs-1">Trip:</label>
                                    <input id="trip_no" name="trip_no" placeholder="trip" style="text-align: center;"   type="text" class="form-control" value="<?php
                                        if (isset($reserva)) {
                                            echo $reserva->trip_no;
                                        }
                                        ?>"  readonly="readonly">
                                  </div>
                                  <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 dep1">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12 spadt">Departure Time:</label>
                                    <input name="departure1"  class="form-control"  placeholder="Dep. Time" type="text"  id="departure1" size="5" maxlength="8" value="<?php
                                    if (isset($reserva)) {
                                        echo date("g:i a", strtotime($reserva->deptime1));
                                    }
                                    ?>" readonly="readonly"/>
                                  </div>
                            </div>
                    </div>
                    <style>
                    
                    @media (min-width: 1200px){
                        .dat {
                            width: 20%;
                        }
                    }
                        /* .dep1{
                            margin: 0px 0px 0px 921px;
                            position: absolute;
                        }
                        .spadt{
                            left: -7%;
                        } */
                    </style>
                      <div class="container">
                          <div class="row ">

                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Pick Up Point/Address:</label>
                              <!-- <div class="ausu-suggest" > -->
                                    <!-- <input class="form-control" name="pickup1" type="text"  id="pickup1" onkeyup="resetpickup1();" onchange="changepickup1();" size="40" maxlength="55" value="<?php
                                        // if (isset($pickup1) && $pickup1 != "") {
                                        //     echo $pickup1->place;
                                        // }
                                        ?>" autocomplete="off"/> -->

                                    <select name="id_p1" class="select2_single form-control" id="id_p1" >
                                        <?php foreach ($pickup1 as $pk) { ?>
                                            <option value="<?php echo $pk['id']; ?>"  <?php echo ($pk["id"] == $reserva->pickup1 ? 'selected' : '') ?> >
                                                <?php echo $pk['place']." - ".$pk['address'] ; ?>
                                            </option>
                                        <?php } ?>
                                    </select>
                                        <!-- <input name="id_p1" type="hidden"  id="id_p1" size="40" maxlength="55" value="<?php
                                        // if (isset($pickup1) && $pickup1 != "") {
                                        //     echo $pickup1->id;
                                        // }
                                        ?>" /> -->
                                <!-- </div>  -->
                              </div>

                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Drop Off Point/Address:</label>
                                    <!-- <div class="ausu-suggest" > -->
                                        <!-- <input class="form-control" placeholder="Drop Off Point/Adress" name="dropoff1" type="text"  id="dropoff1" size="39" maxlength="55" value="<?php
                                        // if (isset($drop1) && $drop1 != "") {
                                        //     echo $drop1->place;
                                        // }
                                        ?>" autocomplete="off" /> -->
                                    <select name="id_dropoff1" class="select2_single form-control" id="id_dropoff1" >
                                        <?php foreach ($drop1 as $do) { ?>
                                            <option value="<?php echo $do['id']; ?>"  <?php echo ($do["id"] == $reserva->dropoff1 ? 'selected' : '') ?> >
                                                <?php echo $do['place']." - ".$do['address'] ; ?>
                                            </option>
                                        <?php } ?>
                                    </select>
                                        <!-- <input name="id_dropoff1" type="hidden"  id="id_dropoff1" size="40" maxlength="55" value="<?php
                                        // if (isset($drop1) && $drop1 != "") {
                                        //     echo $drop1->id;
                                        // }
                                        ?>" /> -->
                                    <!-- </div> -->
                              </div>

                              <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Arrival Time:</label>                               
                            <input style="text-align: center;" placeholder="Arr. Time" name="arrival1" type="text"  class="form-control" id="arrival1"  size="5" maxlength="8" value="<?php
                            if (isset($reserva)) {
                                echo date("g:i a", strtotime($reserva->arrtime1));
                            }
                            ?>" readonly="readonly" />
                              </div>
                          </div>
                      </div>

                      <div class="container">
                          <div class="row ">

                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Area From:</label>

                                    <select class="select2_single form-control" name="ext_from1" id="ext_from1"  onchange="change_ext_from1();" >
                                    <option value="0"></option>
                                    <?php foreach ($extenFrom1 as $ex) { ?>
                                        <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion1->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                    <?php } ?>          
                                </select>
                              </div>
                              
                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Area To: </label>
                                <select class="select2_single form-control" name="ext_to1" id="ext_to1"  onchange="change_ext_to1();">
                                    <option value="0"></option>
                                    <?php foreach ($extenTo1 as $ex) { ?>
                                        <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion2->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                    <?php } ?>
                                </select>
                              </div>

                              <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Room #:</label>    
                                  <input style="text-align: center;" style="text-aling:center" placeholder="Room" name="room1" type="text"  id="room1" size="4" maxlength="6" class="form-control" value="<?php echo $reserva->room1; ?>" />
                                
                              </div>
                          </div>
                      </div>


                      <div class="container">
                          <div class="row ">

                              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Pick Up Point/Address:</label>

                                      <div class="ausu-suggest" >
                                        <input placeholder="Extension Pick Up Point" class="form-control"  name="exten1" type="text"  id="exten1" size="46" maxlength="55"   value="<?php echo $reserva->pickup_exten1; ?>" <?php
                                        if ($extencion1->id == 0) {
                                            echo ' disabled="disabled" ';
                                        }
                                        ?>  autocomplete="off"/>
                                        <input name="id_ext_pikup1" type="hidden"  id="id_ext_pikup1" size="40" maxlength="55" value="" />
                                    </div>

                                </div>

                              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Drop Off Point/Address:</label>
 
                                     <div class="ausu-suggest" >
                                    <input placeholder="Extension Drop Off Point" class="form-control" name="exten2" type="text"  id="exten2" size="47" maxlength="55"  value="<?php echo $reserva->pickup_exten2; ?>"  <?php
                                    if ($extencion2->id == 0) {
                                        echo ' disabled="disabled" ';
                                    }
                                    ?>  autocomplete="off"/>
                                    <input name="id_ext_pikup2" type="hidden"  id="id_ext_pikup2" size="40" maxlength="55" value="" />
                                </div>
                              </div>
                              
                          </div>
                      </div>
                      
                  </div>
              </div>
            </div>  
           </div>  
          </div>  
              
              <!-- ROUND TRIP -->

            <div class="row" id="round"  class="rojillo">
              <div class="col-md-12 col-sm-12 col-xs-12">
               <input type="text"  name="estado_one"  id="estado_one"  style="display:none; width:25px;  margin-left: 30px; margin-top:4px;" value="<?php echo $reserva->estado_one; ?>" />
            <input type="text"  name="estado_round"  id="estado_round"  style="display:none; width:25px;  margin-left: 30px; margin-top:4px;" value="<?php echo $reserva->estado_round; ?>" />
           
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Return</h2>
                    <div class="clearfix"></div>
                  </div>

                  <div class="x_content">
                        <div class="container">
                        <div class="container" >


                        <div class="row ">
                              <div class="col-lg-5">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">State:</label>
                            <select  class="select2_single form-control"  id="estado_roundtrip" name="estado_roundtrip" onchange="passenger_balance(); fecha_ns_round();">
                                <optgroup  label="STATUS">
                                    <option  style="font-weight:bold;" value="1">CONFIRMED</option>
                                    <option  style="font-weight:bold;" value="4">CANCELED</option>
                                    <option  style="font-weight:bold;" value="5">CANCELED W/FEE</option>                            
                                    <option  style="font-weight:bold;" value="2">NO SHOW</option>
                                    <option  style="font-weight:bold;" value="3">NO SHOW W/FEE</option>
                                    <option  style="font-weight:bold;" value="6">OPEN W/FEE</option>
                                </optgroup>
                            </select>
                            </div>
                              
                              <div class="col-lg-5">
                                  <label id="tarifround" class="control-label col-md-12 col-sm-12 col-xs-12" style="display:none">Rate:</label> 
                                     <input style="display:none" type="text" class="form-control" name="tari_round"  id="tari_round" size="10" maxlength="15" value="<?php  if($reserva->tarifa_round == '1') { echo 'Standard Price'; } else if($reserva->tarifa_round == '6') { echo 'Special Price'; } else if($reserva->tarifa_round == '0') { echo ''; } else if ($reserva->tarifa_round == '2') {  echo 'Super Flex Price'; } else if ($reserva->tarifa_round == '3') {  echo 'Web Fare Price'; } else if ($reserva->tarifa_round == '4') {  echo 'Super Promo Price'; } else if ($reserva->tarifa_round == '5') {  echo 'Super Discount Price'; }?>" autocomplete="off"/>
                            
                              </div>

                              <div class="col-lg-2">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12" style="display:none">DEPARTURE:</label>

                                    <input style="display:none" style="text-align:center; font-weight: bold;" class="form-control" type="text" name="fec_retorno_ns"  id="fec_retorno_ns" title="(Y - M - D)" size="10" maxlength="15" disabled="disabled"  value="<?php if($reserva->fecha_retorno_ns == 'N/A') { echo ''; } else {  echo ($reserva->fecha_retorno_ns == "0000-00-00"?"00-00-0000":date('Y-m-d', strtotime($reserva->fecha_retorno_ns))); } ?>" autocomplete="off"/>

                                    </div>
                                </div>
                          </div>


                          <div class="container">
                            <div class="row ">
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 dat">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Departure:</label>
                                    <div class="control-group">
                                      <div class="controls">
                                        <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12 xdisplay_inputx form-group has-feedback">
                                <input  style="text-align: left; font-size:1em;font-weight: bold; padding-right: 8.5px;" class="form-control has-feedback-left" name="fecha_retorno" type="text"  placeholder="Departure Date" id="fecha_retorno"  size="10" title="(M - D - Y)" maxlength="15" value="<?php if ($reserva->fecha_retorno == '-N/A-') { echo 'N/S';  }else if($reserva->fecha_retorno == '-N/S W/F-') { echo 'N/S W/FEE'; } else if($reserva->fecha_retorno == '-C W/F-') { echo 'CANC W/FEE'; } else if($reserva->fecha_retorno == '-C-') { echo 'CANC'; } else if($reserva->fecha_retorno == '-OP-') { echo 'OPEN W/FEE'; } else {  if (isset($reserva) && $reserva->tipo_ticket != 'oneway') { echo ($reserva->fecha_retorno == "0000-00-00"?"00-00-0000" : date('m-d-Y', strtotime($reserva->fecha_retorno))); } } ?>" onchange="fechale2();" autocomplete="off" />
                            
                                          <span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
<!--                                          <span id="inputSuccess2Status3" class="sr-only">(success)</span>-->
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                    <div class="col-md-3 col-sm-12 col-xs-12" id="fromm2">
                                        <label class="control-label col-md-12 col-sm-12 col-xs-12">From:</label>
 
                                   <select class="select2_single form-control" name="fromt2"   id="from2" >
                                    <option value=""></option>
                                        <?php foreach ($to_areas as $area) { if($area["trip_to"] != 20){ ?>
                                        <option value="<?php echo $area['trip_to']; ?>"  <?php echo ($area["trip_to"] == $reserva->fromt2 ? 'selected' : '') ?>  >
                                        <?php echo $area['nombre']; ?>
                                        </option>
                                        <?php } } ?>

                                </select>
                                    </div>

                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                                        <label class="control-label col-md-12 col-sm-12 col-xs-12">To:</label>

                                       <select class="select2_single form-control" name="to2"  id="to2" >
                                            <?php foreach ($data["to_areas2"] as $area) { ?>
                                            <option value="<?php echo $area['trip_to']; ?>"  <?php echo ($area["trip_to"] == $reserva->tot2 ? 'selected' : '') ?>  >
                                            <?php echo $area['nombre']; ?>
                                            </option>
                                            <?php } ?>
                                        </select>
       
                                        </div>


                                    <div style="width:50px;" id="popup2">
                                    
                                    </div>

                                <div id="clienteN" style=" display:none; width: 700px; margin-left: 100px;"></div>   
                                <?php if ($validacion == 0){?>
                                <div class="col-lg-1 " id="popup2">
                                    <label  class="control-label col-md-3 col-sm-2 col-xs-2 ">Search</label>
                                    <a  type="button" class="btn btn-dark btn-flat form-control" id="search2" onclick="activa_round(); comprobarScreen();">
                                        <i style="margin: 3px 0px 0px 0px;" class="fa fa-search"   title="Search" title="Search"></i></a>
                                    <input type="hidden" id="valorcomision02" name="valorcomision02" value="<?php /* echo $subto['comi2'] */ ?>" />
                                </div>
                                <?php }else{?>
                                    <div class="col-lg-1 ">
                                    <label  class="control-label col-md-3 col-sm-2 col-xs-2 ">Search</label>
                                    <a style="background-color: darkgray;" type="button" class="btn btn-dark btn-flat form-control" >
                                        <i style="margin: 3px 0px 0px 0px;" class="fa fa-search"   title="Search" title="Search"></i></a>
                                </div>
                                <?php }?>

                                <div class="col-lg-1 col-md-2 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-3 col-sm-1 col-xs-1">Trip:</label>
                                <input class="form-control" name="trip_no2" type="text"  id="trip_no2" size="3" maxlength="3" style="text-align: center;"  value="<?php
                                        if (isset($reserva)) {
                                            echo ($reserva->trip_no2 != 0 ? $reserva->trip_no2 : "");
                                        }
                                        ?>"  readonly="readonly"/>
                                  </div>
                                  <div class="col-lg-2 col-md-1 col-sm-12 col-xs-12 dep1">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12 spadt">Departure Time:</label>
                                    
                                <input name="departure2" class="form-control" type="text"  id="departure2" size="5" maxlength="8"  value="<?php
                                if (isset($reserva)) {
                                    echo ($reserva->deptime2 != "00:00:00" ? date("g:i a", strtotime($reserva->deptime2)) : "");
                                }
                                ?>" readonly="readonly"/>

                                  </div>
                    </div>
                    </div> 
                      <div class="container">
                          <div class="row ">

                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Pick Up Point/Address:</label>
                                  
                                <div class="ausu-suggest" >
                                    <!-- <input class="form-control" name="pickup2" placeholder="Pick Up Point/Adress" type="text"  id="pickup2"  onkeyup="resetpickup2();"  onchange="changepickup2();" size="40" maxlength="55" value="<?php
                                    // if (isset($pickup2) && $pickup2 != "") {
                                    //     echo $pickup2->place;
                                    // }
                                    ?>" autocomplete="off"  /> -->
                                    <select name="id_pickup2" class="select2_single form-control" id="id_pickup2" >
                                        <?php foreach ($pickup2 as $pk2) { ?>
                                            <option value="<?php echo $pk2['id']; ?>"  <?php echo ($pk2["id"] == $reserva->pickup2 ? 'selected' : '') ?> >
                                                <?php echo $pk2['place']." - ".$pk2['address'] ; ?>
                                            </option>
                                        <?php } ?>
                                    </select>
                                    <!-- <input name="id_pickup2" type="hidden"  id="id_pickup2"  size="40" maxlength="55" value="<?php
                                    // if (isset($pickup2) && $pickup2 != "") {
                                    //     echo $pickup2->id;
                                    // }
                                    ?>" /> -->
                                </div>
                                  
                              </div>

                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Drop Off Point/Address:</label>
                                <!-- <div class="ausu-suggest" >
                                    <input class="form-control" placeholder="Drop Off Point/Adress" name="dpoff2" type="text"  id="dropoff2" size="39" maxlength="55" value="<?php
                                    // if (isset($drop2) && $drop2 != "") {
                                    //     echo $drop2->place;
                                    // }
                                    ?>" autocomplete="off"  />
                                    <input name="id_dropoff2" type="hidden"  id="id_dropoff2" size="40" maxlength="55" value="<?php
                                    // if (isset($drop2) && $drop2 != "") {
                                    //     echo $drop2->id;
                                    // }
                                    ?>" />
                                </div> -->
                                <select name="id_dropoff2" class="select2_single form-control" id="id_dropoff2" >
                                    <?php foreach ($drop2 as $do2) { ?>
                                        <option value="<?php echo $do2['id']; ?>"  <?php echo ($do2["id"] == $reserva->dropoff2 ? 'selected' : '') ?> >
                                            <?php echo $do2['place']." - ".$do2['address'] ; ?>
                                        </option>
                                    <?php } ?>
                                </select>
                                
                              </div>

                              <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Arrival Time:</label>                               
                                <input style="text-align: center;" class="form-control" name="arrival2" type="text"  id="arrival2"  size="5" maxlength="8" value="<?php
                                if (isset($reserva)) {
                                     echo ($reserva->arrtime2 != "00:00:00" ? date("g:i a", strtotime($reserva->arrtime2)) : "");
                                }
                                ?>" readonly="readonly"/>
                              </div>
                          </div>
                      </div>

                      <div class="container">
                          <div class="row ">

                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Area From:</label>
                                <select name="ext_from2" id="ext_from2" class="form-control" onchange ="change_ext_from2();">
                                <option value="0"></option>
                                    <?php foreach ($extenFrom2 as $ex) { ?>
                                        <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion3->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                    <?php } ?>
                                </select>
                              </div>
                              
                              <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Area To:</label>
                                      <select name="ext_to2" id="ext_to2" class="form-control" onchange="change_ext_to2();">
                                      <option value="0"></option>
                                        <?php foreach ($extenTo2 as $ex) { ?>
                                            <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion4->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                        <?php } ?>
                                </select>
                              </div>

                              <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Room #:</label>
                                    <input style="text-align: center;" style="text-aling:center" name="room2" type="text"  id="room2" size="4" maxlength="6" value="<?php echo $reserva->room2; ?>" class="form-control" />
                              </div>
                          </div>
                      </div>


                      <div class="container">
                          <div class="row ">

                              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Pick Up Point/Address:</label>

                            <div class="ausu-suggest" >
                                <input type="text" name="exten3" id="exten3" class="form-control" size="46" maxlength="55" value="<?php echo $reserva->pickup_exten3; ?>" <?php
                                    if ($extencion3->id == 0) {
                                        echo ' disabled="disabled" ';
                                    }
                                    ?> autocomplete="off" />
                                <input name="id_ext_pikup3" type="hidden" class="form-control" id="id_ext_pikup3" size="40" maxlength="55" value="" />
                            </div>
                                </div>
                              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                  <label class="control-label col-md-12 col-sm-12 col-xs-12">Extension Drop Off Point/Address:</label>
                                    <div class="ausu-suggest" >
                                        <input name="exten4" type="text"  id="exten4" size="47" maxlength="55" value="<?php echo $reserva->pickup_exten4; ?>"  class="form-control" <?php
                                    if ($extencion4->id == 0) {
                                        echo ' disabled="disabled" ';
                                    }
                                    ?>  autocomplete="off" />
                                        <input name="id_ext_pikup4" type="hidden"  id="id_ext_pikup4" size="40" maxlength="55" value=""  />
                                    </div>
                              </div>
                          </div>
                      </div>
                      
                  </div>
              </div>
            </div>  
           </div>  
          </div>  





              <!-- PAYMEN -->
                          <div class="row">
                              <div class="col-md-12 col-sm-12 col-xs-12">
                                  <div class="x_panel">
                                      <div class="x_title">
                                          <h2>PAYMENT INFORMATIONS</h2>
                                          <div class="clearfix"></div>
                                      </div>
                                       <!-- PASSENGER Y AGENCY PAYMENT INFORMATION  -->
                                       <input type="hidden" name="totalcom" id="totalcom" value="0">
                                      <div class="x_content">
                                          <div class="container">
                                              <div class="row ">
                                              
                                        <input type="hidden" name="opcion_pago_saldo" id="opcion_pago_saldo" value="1" />
                                        <table width="100%" align="center" id="tableTypeSaldo" style="display:none;">
                                            <tr>
                                                <td colspan="6"   height="20" id="titlett" align="center"  ><strong>PAYMENT OPTION </strong> 
                                                </td>
                                            </tr>

                                            <tr>

                                                <td width="2%">
                                                    <input name="opcion_saldo" id="opcion_saldo1" value="1" type="radio">
                                                </td>
                                                <td width="20%">Paid Full</td>
                                                <td width="2%"><input name="opcion_saldo" id="opcion_saldo2" value="2" type="radio"  checked="checked"></td>
                                                <td width="20%">Paid Balance</td>

                                            <tr>
                                <tr>
                                    <td  width="34%" height="35" id="titlett" align="left"  ><strong>PRED-PAID</strong> </td>
                                    <td  width="34%" height="35" id="titlett" align="left"  ><strong>COLLECT ON BOARD</strong> </td>
                                    <td  width="34%" height="35" id="titlett" align="left"  ><strong>VOUCHER</strong> </td>
                                </tr>
                                    <td valign="top"  >
                                        <table style="width:160px;">    
                                            <tr>
                                                <td colspan="2"></td>
                                            </tr>

                                            <tr id="tipo_passager" style="height:20px;width:160px; display:block;">
                                                <td width="5"><input  id="opcion_pago_passager"  value="2" agencypago="true" type="radio" class="opcion_pago"></td>
                                                <td nowrap="nowrap" width="" align="left"><label id="label_tipo_passager" for="opcion_pago_passager" class="opcion_pago">Credit Card no fee</label></td>
                                            </tr>
                                            <tr id="tipo_agency" style="height:20px; width:160px;  display:block">
                                                <td width="5"><input  id="opcion_pago_agency"  value="1" agencypago="true" type="radio" class="opcion_pago"></td>
                                                <td  nowrap="nowrap" width="" align="left"> <label id="label_tipo_agency" for="opcion_pago_agency" class="opcion_pago">Credit Card with fee</label></td>
                                            </tr>
                                            <tr id="tipo_passager_3" style="height:20px;width:160px; display:block">
                                                <td width="5"><input  id="opcion_pago_predpaid_cash"  value="6" agencypago="true" type="radio" class="opcion_pago"></td>
                                                <td nowrap="nowrap" > <label id="label_tipo_predpaid_cash" for="opcion_pago_predpaid_cash" class="">Cash</label></td>
                                            </tr>
                                            <tr id="tipo_passager_4" style="height:20px;width:160px; display:block">
                                                <td width="5"><input  id="opcion_pago_predpaid_check"  value="10" agencypago="true" type="radio" class="opcion_pago"></td>
                                                <td nowrap="nowrap" > <label id="label_tipo_predpaid_check" for="opcion_pago_predpaid_check" class="">Check</label></td>
                                            </tr>
                                        </table>        
                                    </td>
                                    <td valign="top" >
                                        <table style="width:160px;">

                                            <tr id="tipo_passager_2" style="">
                                                <td width="5"><input  id="opcion_pago_passager_2"  value="8" agencypago="true" type="radio" class="opcion_pago"></td>
                                                <td nowrap="nowrap" width="" align="left"><label id="label_tipo_passager_2" for="opcion_pago_passager_2" class="opcion_pago">Credit Card no fee</label></td>
                                            </tr>
                                            <tr id="tipo_CrediFee">
                                                <td width="5"><input  id="opcion_pago_CrediFee" value="3" type="radio" class="opcion_pago"></td>
                                                <td align="left"  nowrap="nowrap" > <label id="label_tipo_CrediFee" for="opcion_pago_CrediFee" class="opcion_pago">Credit Card with fee</label></td>
                                            </tr>
                                            <tr id="tipo_Cash">
                                                <td width="5"><input  id="opcion_pago_Cash" value="4" type="radio" class="opcion_pago"></td>
                                                <td align="left"><label id="label_tipo_Cash" for="opcion_pago_Cash" class="opcion_pago">Cash</label></td>
                                            </tr>
                                            <tr id="tipo_Cash_2">
                                                <td width="5"><input  id="opcion_pago_Cash_2" value="9" type="radio" class="opcion_pago"></td>
                                                <td align="left"><label id="label_tipo_Cash" for="opcion_pago_Cash_2" class="opcion_pago">Check</label></td>
                                            </tr>
                                        </table> 
                                    </td>
                                     <td align="left" valign="top" >
                                        <div id="tipo_Voucher" style="display:none">
                                            <input  id="opcion_pago_Voucher" value="5" type="radio"><label id="label_tipo_Cash" for="opcion_pago_Voucher" class="opcion_pago">Credit Voucher</label>
                                        </div>
                                    </td>
                                    
                                            <tr><td colspan="6"><hr /></td></tr>
                                        </table>

                                        <!-- Passenger Payment Information -->
                                              <div class="animated fadeIn col-lg-5 col-md-5 col-sm-5 col-xs-12">
                                                        <div class="tile-stats">
                                                        <input type="text" id="bal_duep" name="bal_duep"    value="0.00"  style="display:none; border: 1px #33F solid; margin-top: -58px;  margin-right: -123px; text-align: right; height: 25px; font-size: 22px; width:106px;" autocomplete="off" />
                                                            <table class="data table  no-margin">
                                                            <thead>
                                                                <tr>
                                                                <th class="text-danger"><strong>Passenger Payment Information</strong></th>
                                                                <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                <td style="text-align:right; font-weight: bold;"><strong id="txtamountpendiente">Amount to Pay Driver $</strong></td>
                                                                <td>
                                                                 <input  type="text" id="saldoporpagar" name="saldoporpagar" class="verd form-control"   title="" value="" style=" text-align: right;  font-size: 20px; font-weight:bold; width:106px;"  onKeyUp="dupliac(); ponDecimales(2);" onkeypress="return soloNumeros(event); "  autocomplete="off" />   

                                                            <input type="text" id="saldoporpagar_copy" name="saldoporpagar_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />
                                                                </td> 
                                                                </tr>
                                                                <tr style="display:none;">
                                                                <td style="text-align:right; font-weight: bold;"><strong>Paid Driver $</strong></td>
                                                                <td>                                        
                                                                    <input type="button" id="btn_rever_cob" name="btn_rever_cob" title="Reverse Payment" class="button_sliding_bg form-control" style="display:none; position:absolute; background-color: #8c261a; border-color: lavenderblush; cursor:pointer; color:#fff; margin-left: 0px; margin-top: -2px; padding:2.1px; padding-left:3px; width:17px; height:18px; font-weight: bold; font-size:9px;"  size="20"   value="X" onclick="rever_collect_on_board();"  />

                                            <input type="text" id="saldoPagadok" class="brown2" style="display:none; font-family: sans-serif; font-size: 22px; color:#000; font-weight: bold; padding-left:23px; margin-left: -22px; width: 83px;" value="<?php echo number_format($pagado, 2, '.', ''); ?>" onKeyUp="CalcularTotalTotal();" onclick="CalcularTotalTotal();"  />

                                            <input autocomplete="off" readonly="readonly" type="text" id="paid_driver" name="paid_driver" class="brown3 form-control"    style="text-align: right;  font-size: 20px; font-weight:bold; width:106px; " value="<?php echo number_format($reserva->paid_driver, 2, '.', ''); ?>" onKeyUp="CalcularTotalTotal();" onclick="valida_pago(this,'one');" />
                                            <input  type="text" id="paid_driverp" name="paid_driverp" style="display:none;" value=""  />
                                            <input type="text" id="paid_driver_copy" name="paid_driver_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" /> 

                                                                        <div style="position:absolute; margin-left:-2px; margin-top:0px;">
                                                                        
                                                                            <div id="trian1" style="display:none; position:absolute; margin-left:380px; margin-top:100px;" class="triangulo1"></div>
                                                                            <div id="trian2" style="display:none; position:absolute; margin-left:395px; margin-top:100px;" class="triangulo2"></div>
                                                                            <div id="trian3" style="display:none; position:absolute; margin-left:410px; margin-top:100px;" class="triangulo3"></div>
                                                                            <div id="trian4" style="display:none; position:absolute; margin-left:425px; margin-top:100px;" class="triangulo4"></div>
                                                                            <div id="trian5" style="display:none; position:absolute; margin-left:440px; margin-top:100px;" class="triangulo5"></div>
                                                                            <div id="trian6" style="display:none; position:absolute; margin-left:455px; margin-top:100px;" class="triangulo6"></div>
                                                                            <div id="trian7" style="display:none; position:absolute; margin-left:470px; margin-top:100px;" class="triangulo7"></div>
                                                                            <div id="trian8" style="display:none; position:absolute; margin-left:485px; margin-top:100px;" class="triangulo8"></div>
                                                                            <div id="trian9" style="display:none; position:absolute; margin-left:500px; margin-top:100px;" class="triangulo9"></div>
                                                                            <div id="trian10" style="display:none; position:absolute; margin-left:515px; margin-top:100px;" class="triangulo10"></div>

                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                <td style="text-align:right; font-weight: bold;"><strong>Passenger Balance Due $</strong></td>
                                                                    <td>
                            <input type="text" name="balance_due" id="balance_due" class="ama2 form-control"  readonly="readonly" style=" text-align: right;  font-size: 20px; font-weight:bold; width:106px;" value=""  autocomplete="off" />

                            <input  type="text" name="balance_duep" id="balance_duep"  style="display:none;" value="" class="ama2 txtNumbers form-control" />
                            <input type="text" id="balance_due_copy" name="balance_due_copy" class="ama2 txtNumbers form-control" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                            </table>
                                                            <hr style="margin: -17px 0px 0px 0px; padding: 0; padding: 0; ">
                                                            <table class="data table  no-margin">
                                                            <thead>
                                                                <tr>
                                                                <th class="text-danger"><strong>Agency Payment Information </strong></th>
                                                                <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr style="display:none;">
                                                                <td style="text-align:right; font-weight: bold;"><strong >Agency Request to Collect&nbsp;$</strong></td>
                                                                <td>
                          <input type="text" id="otheramount" name="otheramount"  style="display:none; margin-top: 2px; margin-left: 10px; text-align: center; height: 25px; font-size: 22px; font-weight: bold; color: #000;border: #AC1B29 solid thin; width: 103px; float:left; width:106px; font-weight:bold; color:fff; border: 1px #33F solid;" value="<?php echo $reserva->otheramount; ?>" onkeyup="CalcularTotalTotal();ClkPay_Amount();" onclick="valida_pago(this,'one');" autocomplete="off" />
                            <input type="text" name="otheramountp" id="otheramountp" value="0.00"  style="display:none; margin-left: 366px; margin-top: -252px; padding-left:5px; width:160px; height:25px;  border: 1px solid #000;" autocomplete="off"  />
                            <input type="text" id="otheramount_copy" name="otheramount_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" /> 
                                                                </td>
                                                                </tr>
                                                                <tr  >
                                                                <td style="text-align:right; font-weight: bold;"><strong>Total Net Due $</strong></td>
                                                                <td>

                            <input type="text" id="totalPagar" name="totalPagar" class="orangered txtNumbers form-control" style=" text-align: right;  font-size: 20px; font-weight:bold; width:106px;" value="" readonly="readonly" autocomplete="off" />
                            <input type="text" id="totalPagar_copy" name="totalPagar_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                            <input type="hidden" name="totP" id="totP" value="" /> 
                                                                </td>
                                                                </tr>
                                                                <tr id="pay_amount_html" style="display:none;">
                                                                <td style="text-align:right; font-weight: bold;">
                                                                <strong>Amount Pre-Paid $
                                                                     <input type="button" id="btn_rever_prepaid" name="btn_rever_prepaid" title="Reverse Payment" class="button_sliding_bg" style="display:none; position:absolute; background-color: #8c261a; border-color: lavenderblush; cursor:pointer; color:#fff; margin-left: 90px; margin-top: -1px; z-index: 1; padding:2.1px; width:17px; height:17px; font-weight: bold; font-size:9px;"  size="20"   value="X" onclick="rever_prepaid();"  />

                            <input type="button" id="btn_remove_prepaid1" name="btn_remove_prepaid1" title="Remove Payment" class="button_sliding_bg3" style="display:none; position:absolute; background-color: #E21F26; border-color: lavenderblush; cursor:pointer; color:#fff; margin-left: 251px; margin-top: 8px; padding:2.1px; padding-left:3px; width:108px; height:16px; font-weight: bold; font-size:9px; padding-top:2.5px; font-style: oblique; border: 1px solid #000;"  size="20"   value="Remove Payment" onclick=""  />
                        
                                                                </strong>
                                                                </td>

                                                                <td>                                
                                                                <div style="position: absolute; margin-left:-1px; margin-top:1px;">
                                                                    <div id="cir1" style="display:none; position:absolute; margin-left:380px; margin-top:93px;" class="circle1"></div>
                                                                    <div id="cir2" style="display:none; position:absolute; margin-left:395px; margin-top:93px;" class="circle2"></div>
                                                                    <div id="cir3" style="display:none; position:absolute; margin-left:410px; margin-top:93px;" class="circle3"></div>
                                                                    <div id="cir4" style="display:none; position:absolute; margin-left:425px; margin-top:93px;" class="circle4"></div>
                                                                    <div id="cir5" style="display:none; position:absolute; margin-left:440px; margin-top:93px;" class="circle5"></div>
                                                                    <div id="cir6" style="display:none; position:absolute; margin-left:455px; margin-top:93px;" class="circle6"></div>
                                                                    <div id="cir7" style="display:none; position:absolute; margin-left:470px; margin-top:93px;" class="circle7"></div>
                                                                    <div id="cir8" style="display:none; position:absolute; margin-left:485px; margin-top:93px;" class="circle8"></div>
                                                                    <div id="cir9" style="display:none; position:absolute; margin-left:500px; margin-top:93px;" class="circle9"></div>
                                                                    <div id="cir10" style="display:none; position:absolute; margin-left:515px; margin-top:93px;" class="circle10"></div>
                                                                </div>
                             <input type="text" name="pay_amount" id="pay_amount" readonly="readonly"  class="roge txtNumbers form-control" value="<?php echo number_format($reserva->pred_paid_amount, 2, '.', ''); ?>"  onKeyUp="CalcularTotalTotal();"  style=" text-align: right;  font-size: 20px; font-weight:bold; width:106px;"  onclick="valida_pago2(this,'two')" autocomplete="off"/>
                            <input type="text" id="pay_amountp" name="pay_amountp" style="display:none;" value="" />
                            <input type="text" id="pay_amount_copy" name="pay_amount_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" /> 
                                                                </td>
                                                                </tr>
                                                                  <tr  >
                                                                <td style="text-align:right; font-weight: bold;"><strong>Total Amount Paid $ </strong></td>
                                                                <td>
                            <input type="text" name="tot_amount_paid" id="tot_amount_paid" class="verdefos3 form-control"   value="<?php echo number_format($reserva->total_paid, 2, '.', ''); ?>"  style=" text-align: right;  font-size: 20px; font-weight:bold; width:106px;" readonly="readonly" autocomplete="off"/>
                            <input type="text" id="tot_amount_paidp" name="tot_amount_paidp" style="display:none;" value="" />
                            <input type="text" id="tot_amount_paid_copy" name="tot_amount_paid_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />
                                                                </td>
                                                                </tr>
                                                                <tr>
                                                                <td style="text-align:right; font-weight: bold;"><strong>Agency Balance Due $</strong></td>
                                                                <td>  
                            <input type="text" id="agency_balance_due" name="agency_balance_due"   class="roge form-control" style=" text-align: right;  font-size: 20px; font-weight:bold; width:106px;" value="" readonly="readonly" autocomplete="off"/>
                            <input type="text" id="agency_balance_due_copy" name="agency_balance_due_copy" class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />    
                                                                </tr>
                                                            </tbody>
                                                            
                                                            </table>
                                                            
                                                            <!--<img class="ventana-imagen-class" style="margin-right:65px; margin-top:-354px; width: 179px; height: 175px; " src="<?php //echo $data['rootUrl']; ?>global/img/admin/ventana.png" />-->
                                                                

                                                        </div>
                                                  </div>
                                                   <!-- PASSENGER Y AGENCY PAYMENT INFORMATION FIN -->





                                                  <!-- PAID -->
                                                  <div class="animated fadeIn col-lg-3 col-md-3 col-sm-3 col-xs-12" >
                                                        <div class="tile-stats">
                                                        <table class="data table no-margin">
                                                            <thead>
                                                                <tr>
                                                                <th class="text-danger">Form Of Payment</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                   <div>
                                                            <input title="Form of Payment" class="button_sliding_bg" type="button" id="pay_driver" name="pay_driver" onclick="mostrarVentana2();" style="display:none; margin-top: -151px; margin-left: -107px; text-align: center; height: 25px; font-size: 22px; font-weight: bold; color: #fff; border: #AC1B29 solid thin;  width: 103px;float:left;width:106px; font-weight:bold; color:#000;" value="Add Payment"/>
                                                        
                                                        <a id="delpaykk" name="delpaykk" class="button_sliding_bg2"  style="display:none; cursor:pointer; position:absolute; font-style: italic; margin-left: 386px; color: #fff; margin-top: 6.4px; font-weight: bold; font-size: 10px; padding-top: 6px; height: 2px; width: 118.5px; text-decoration:none;" href="javascript:ventanaSecundaria('<?php echo $data['rootUrl'] ?>admin/pagos/recibirId/<?php echo $reserva->id ?>/<?php echo $tipo_reserva ?>')"  onClick="">REMOVE PAYMENTS</a>
                                                        
                                    <div>
                                        <input  title="Add Payment" style="display:none;" class="button_sliding_bg btn btn-success btn-sm btn-block " type="button"  name="pay_driver"  onClick="mostrarVentana2();"  value="Add Payment"/>
                                        
                                    </div>
         

                            <select name="opcion_pago_driver" id="opcion_pago_driver" class="select2_single form-control" style="display:none; margin-left:414px; margin-top:-327px;">
                                <optgroup label="COLLECT ON BOARD">
                                    <option value="8">Credit Card no fee</option>
                                    <option value="3">Credit Card with fee</option>
                                    <option value="4">Cash</option>
                                    <option value="9">Check</option>
                                </optgroup>
                                <optgroup label="VOUCHER">
                                    <option value="5">Credit Voucher</option>
                                </optgroup>
                                <!-- <optgroup label="COMPLEMENTARY">
                                    <option value="7">Complementary</option>
                                </optgroup> -->
                            </select>

                            <select name="opcion_pago" id="op_pago_id" class="select2_single form-control" style="display:none; margin-left:411px; margin-top:-221px;">
                                <optgroup label="COLLECT ON BOARD">
                                    <option value="8">Credit Card no fee</option>
                                    <option value="3">Credit Card with fee</option>
                                    <option value="4">Cash</option>
                                    <option value="9">Check</option>
                                </optgroup>
                                <optgroup label="VOUCHER">
                                    <option value="5">Credit Voucher</option>
                                </optgroup>
                                <!-- <optgroup label="COMPLEMENTARY">
                                    <option value="7">Complementary</option>
                                </optgroup> -->
                            </select>
                            
                            <select name="op_pago_conductor" id="op_pago_conductor" class="select2_single form-control"  style=" text-align-last: center;   font-weight:bold; width: 108%;" value="9" onclick="valida_voucher();" onchange="captura(); passenger_balance();" >
                                <optgroup label="COLLECT BY DRIVER">
                                    <!-- <option title="Credit Card no fee" value="8" style="display:none">Credit Card no fee</option> -->
                                    <option title="Credit Card with fee (+4%)" value="3">Credit Card with fee (+4%)</option>
                                    <option title="Cash" value="4">Cash</option>
                                    <option title="Check" value="9" style="display:none">Check</option>
                                <!-- </optgroup>
                                <optgroup label="VOUCHER"> -->
                                    <option title="Credit Voucher" value="5">Credit Voucher</option>
                                </optgroup>
                                <optgroup label="PAID" style="display:none">
                                    <option title="Paid" value="6">Paid</option>
                                </optgroup>            
                                <!-- <optgroup label="COMPLEMENTARY">
                                    <option value="7">Complementary</option>
                                </optgroup> -->
                            </select>

                            </div>
                            </td>
                        </tr>
                    </tbody>

                    </table>
                    </div>
                </div >
                    <!-- ADD PAID fin-->

                                                  <!-- PAID  Y EXTRACARGOS-->
                                                    <div class="animated fadeIn col-lg-4 col-md-4 col-sm-4 col-xs-12"  id="vent1" style="display:none;">
                                                        <div class="tile-stats">
                                                        <table class="data table no-margin">
                                                            <thead>
                                                                <tr>
                                                                <th class="text-danger">Paid</th>
                                                                <th >Total Paid $ <input disabled  type="text"  readonly="readonly" style="cursor:no-drop; text-align: right;  font-size: 1em; color:#090; font-weight: bold;  width: 40%; float:right;" value="<?php echo number_format($pagado, 2, '.', ','); ?>"  /></th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            
                                                            
  
                                                            <tbody>
                                                                <tr>
                                                                    <td style=" text-align: right;   font-weight:bold; ">
                                                                    Amount 
                                                                    </td>
                                                                    <td>
                                                                        <input  type="hidden" id="opcion_pago_2">

                                                                        <input disabled type="text"   class="form-control" size="12"style="text-align: right;  font-size: 20px; color:#090; font-weight: bold; width: 142%; float:right;" value="" onkeypress="return solopagodriver(event);"  onkeyup="dupliPago(); ponDecimales(2);" placeholder="$0.00" autocomplete="off" />

                                                                        <input disabled type="text"  size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />

                                                                        <input disabled type="text" name="collect"  title="Paid Driver" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />

                                                                        <input disabled type="text" name="prepaid"  title="Amount Paid" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />

                                                                        <a disabled style="display:none; margin-right: 320px;" id="pago_agente" ><img style="cursor:pointer; width: 0px; height: 26px; margin-top:83px; margin-right: 9px;" src="<?php echo $data['rootUrl']; ?>global/img/admin/charge.png" /></a>
                                                                        <a  disabled style="display:none; id="pago_agente1" ><img  src="<?php echo $data['rootUrl']; ?>global/img/admin/charge.png" /></a>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                            <tbody>
                                                                <tr>
                                                                    <td style=" text-align: right;   font-weight:bold; ">
                                                                         Amount Paid
                                                                    </td>
                                                                    <td style=" text-align-last: center;   font-weight:bold; ">
                                                                        <select disabled class="select2_single form-control" tabindex="-1" >
                                                                            <option style="color:red;" id="" value="0">((( Amount Paid )))</option>
                                                                            <optgroup   label="PRE-PAID">
                                                                                <option value="20">Credit Card NO Fee</option>
                                                                                <option value="21">Credit Card with Fee</option>
                                                                                <option value="22">Cash</option>
                                                                                <option value="23">Check</option>
                                                                            </optgroup>
                                                                            <option style="color:blue;" id="" value="1">((( Paid Driver )))</option>
                                                                            <optgroup   label="COLLECT ON BOARD">
                                                                                <option value="24">Credit Card NO Fee</option>
                                                                                <option value="25">Credit Card with Fee</option>
                                                                                <option value="26">Cash</option>
                                                                                <option value="27">Check</option>
                                                                            </optgroup>
                                                                        </select>


                        <div class="paymentvertblack" style="padding: 5px;  text-align: center; margin-top: 10px; height: 31px;">

                            <div>
                                <input type="button"  name="btnExit" style=" background-color: #006394; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; padding:5px; width:39px; height: 24px; font-size:9px; margin-top: 3px; margin-left: -124px; font-weight: bold;"  size="20"  value="EXIT" />
                            </div>
                            
                            <div>
                                <input type="button" name="btnCancelar" style=" background-color: grey; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; margin-left: -26px; margin-top: -24px; padding:5px; padding-left:3px; width:49px; font-weight: bold; font-size:9px;"  size="20"  disabled="true"   />
                            </div>
                            
                            <div>
                                <input type="button" name="btnAceptar"  size="20" value="SAVE"  style=" border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; width:68px; height: 24px; font-size:9px; font-weight: bold; margin-left: 98px; margin-top: -24px;"  disabled="true" />
                            </div>
                        </div>


                            </td>
                        </tr>
                    </tbody>
                    </table>
            <table class="oliveti" style="width: 31%; border: 2px solid #000; margin-left: 715px; margin-top: -353px; height: 158px; border-radius: 0px 0px 0px 0px; display:none;">
    <caption class="olivo" style=" font-weight:bold; font-size:16px; color:#fff; border-radius:0px 25px 0px 0px;">Extra Charges & Discounts</caption>


                <td>&nbsp;</td>


                <tr style="width: 700px;" >
                    <td>
                        <label  style=" float:right; font-size:14px; margin-top:-25px; "><strong style="padding-bottom:10px; color: #000;">Discount&nbsp;%</strong></label>
                    </td>

                    <td>
                        <input type="number" name="descuento" id="descuento" class="descuentos"  style="text-align: right; margin-top: -21px;  margin-right: 6px; color:#000; font-size: 22px;font-weight: bold; height:25px; width:80px; border: #33F solid thin; float:right;" maxlength="3"  max="100" min="0" onkeypress="return descuentoporc(event);" onkeyup="desporc();" onchange="desporc();" value="0" autocomplete="off"/>
                    </td>
                </tr>

                <tr style="width: 700px;" >
                    <td>
                        <label  style="float:right; font-size:14px;  margin-top: -2px; "><strong style="padding-bottom:10px; color:#000;">Discount&nbsp;&nbsp;&nbsp;$</strong></label>

                    </td>

                    <td>                                      
                        <input type="text" name="descuento_valor"  id="descuento_valor" class="descuentos"  size="12"  style="float:right; border: 1px #33F solid; text-align: right; margin-top: 7px;  margin-right: 6px;   color:#000; font-size: 22px; font-weight: bold; height: 25px; width:80px;" value="0.00"  onkeypress="return solodescuento(event);" onkeyup="desval(); ponDecimales(2);" autocomplete="off"  />
                    </td>
                </tr>

                <td>&nbsp;</td>


                <tr  style="width: 700px;">

                    <td style="width: 700px;">
                        <label  style="float:right;  font-size:14px;  margin-top: -23px; width: 125px;"><strong style="padding-bottom:10px; color: #000;">Extra Charges&nbsp;$</strong></label>
                    </td>

                    <td>
                        <input type="text" name="extra"  id="extra" size="12" class="extracargos" style="float:right;  text-align: right; color:#000; margin-top: -17px; margin-right:6px;  width:80px; height:25px;  border: 1px #33F solid; font-family: sans-serif; font-size: 22px; font-weight:bold;" value="0.00" onkeypress="return soloextra(event);" onkeyup="resetextra(); ponDecimales(2);" autocomplete="off" />
                        
                    </td>
                </tr>

            </table>
        </div>
  </div>

   <!-- PAID Y EXTRACARGOS FIN -->
                                                  
<!-- PAID2  -->
                    <div id="miVentana2" class="animated pulse col-lg-4 col-md-4 col-sm-4 col-xs-12" style="display:none">
                        <div class="tile-stats">
                        <table class="data table no-margin">
                            <thead>
                                <tr>
                                <th class="text-danger">Paid</th>
                                <th >Total Paid $ <input id="saldoPagado" disabled  type="text"  readonly="readonly" style="cursor:no-drop; text-align: right;  font-size: 1em; color:#090; font-weight: bold;  width: 40%; float:right;" value="<?php echo number_format($pagado, 2, '.', ','); ?>"  /></th>
                                                                    <th></th>
                                </tr>
                            </thead>
                            
                            <tbody>
                                <tr>
                                    <td  style=" text-align: right;   font-weight:bold; ">
                                    Amount
                                    </td>
                                    <td id="dolares"  >
                                <input type="text" id="pago_driver" name="pago_driver" size="12" class="form-control" style="text-align: right;  font-size: 20px; color:#090; font-weight: bold; width: 141%; float:right;" value="" onkeypress="return solopagodriver(event);"  onkeyup="dupliPago(); ponDecimales(2);" placeholder="$0.00" autocomplete="off"/>

                                <input type="text" id="pago_driver2" name="pago_driver2" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />
                                <input type="text" name="tempwf"  id="tempwf" title="temp W/Fees" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo $cargos; ?>" />
                                <input type="text" name="tempppwf"  id="tempppwf" title="temp prepaid W/Fees" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo $cargospp; ?>" />
                                
                                
                                    </td>
                                </tr>
                            </tbody>
                            <tbody>
                                <tr>
                                    <td  style=" text-align: right;   font-weight:bold; ">
                                         Amount Paid
                                    </td>
                                    <td  style=" text-align-last: center;   font-weight:bold; ">
                                    <select name="opcion_pago1" class="select2_single form-control" id="op_pago_id1" disabled= "disabled" onchange="calculos();">
                                        
                                        <option style="color:red;" id="" value="0">((( Amount Paid )))</option>
                                        <optgroup   label="PRE-PAID">
                                            <option value="20">Credit Card NO Fee</option>
                                            <option value="21">Credit Card with Fee</option>
                                            <option value="22">Cash</option>
                                            <option value="23">Check</option>
                                        </optgroup>
                                        <option style="color:blue;" id="" value="1">((( Paid Driver )))</option>
                                        <optgroup   label="COLLECT ON BOARD">
                                            <option value="24">Credit Card NO Fee</option>
                                            <option value="25">Credit Card with Fee</option>
                                            <option value="26">Cash</option>
                                            <option value="27">Check</option>
                                        </optgroup>       


                                    </select>
                                <div class="paymentvertblack" style="padding: 9px;  text-align: center; margin-top: 9px;">

                                    <div>
                                        <input type="button" id="btnExit" name="btnExit" style=" background-color: #006394; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; padding:5px; width:39px; height: 24px; font-size:9px; margin-top: 3px; margin-left: -124px; font-weight: bold;"  size="20"  value="EXIT" onclick="Exit();"  />
                                    </div>

                                    <div>
                                        <input type="button" id="btnCancelar" name="btnCancelar" style=" background-color: grey; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; margin-left: -26px; margin-top: -24px; padding:5px; padding-left:3px; width:49px; font-weight: bold; font-size:9px;"  size="20" disabled="true"  value="CANCEL" onclick="resetal(); reset2();"  />
                                    </div>

                                    <div>
                                        <input type="button" id="btnAceptar" name="btnAceptar"  size="20" value="SAVE"  style=" border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; width:68px; height: 24px; font-size:9px; font-weight: bold; margin-left: 98px; margin-top: -24px;" onclick="ocultarVentana2();" disabled="true" />
                                    </div>

                                    <div>    
                                        <input type="button" id="btnPagolinea" name="btnPagolinea"  size="20" value="MAKE CHARGE"  style=" display:none; border-color: palegreen; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; padding:5px; padding-left:2px; width:68px; height: 24px; font-weight: bold; margin-right: -100px; margin-top: -24px; font-size:8px;  color:#fff; background-color:#006400;" onclick="" disabled="true" />
                                    </div>

                                    <div>
                                        <input type="button" id="btndecline" name="btndecline"  size="20" value="CANCEL"  style=" display:none; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; padding:5px; padding-left:3px; width:49px; height: 24px; font-weight: bold; margin-top: -24px; font-size:9px; margin-left: -26px; color:#fff; background-color:red;" onclick="declinar();" disabled="true" />
                                    </div>

                                    <div>
                                        <input type="button" id="btncancol" name="btncancol"  size="20" value="CANCEL"  style="display:none; background-color:red; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; padding:5px; padding-left:3px; width:49px; height: 24px; font-weight: bold; margin-top: -24px; font-size:9px; margin-left: -26px; color:#fff;" onclick="Exit_Cob();" disabled="true" />
                                    </div>

                                    
                                </div>
                                    </td>
                                </tr>
                            </tbody>
                            </table>

                        </div>
                  </div>

                  <!-- PAID2 FIN -->
                                                  
                                                  
                                                  
                                            
                                                    <!-- NOTAS -->
                                  <div id="notas1" class="animated fadeIn col-md-4 col-sm-4 col-xs-12" >
                                            <div class="x_content">
                                            <!-- <h1 class="text-danger">Notes</h1> -->
                                            <div id="alerts"></div>

                                                        <input id="textpay" name="textpay" type="text" style="display:none;" value="" />
                                                        <?php if($validacion == 0){ ?>
                                                        <div id="" class="col-md-4 col-sm-8 col-xs-12">
                                                            <input type="button" id="btn-addnote" title="add note"  class="btn btn-flat btn-default  btn-xs btn-block oliverty link-button" value="add note" />                    
                                                        </div>

      
                                                        <div id="" class="col-md-4 col-sm-8 col-xs-12">
                                                            <input type="button" id="btn-saving_note" title="saved note" class="btn btn-flat btn-info btn-xs btn-block oliverty"   value="saved note"/>                    
                                                        </div>
                                                        <div id="" class="col-md-4 col-sm-8 col-xs-12">
                                                            <input type="button" id="btn-save2"  title="Save" class="btn btn-flat btn-success btn-xs btn-block oliverty"   value="SAVE"/>                    
                                                        </div>
                                                        <?php } ?>
                                                        <div id="" class="col-md-12 col-sm-12 col-xs-12" >
                                            <textarea    max="5" class="editor-wrapper"  id="comments2" name="comments2" ><?php echo trim($reserva->comments2); ?></textarea>

                                            <textarea  id="comments" name="comments" cols="0" rows="0"  class="editor-wrapper"></textarea>
                                            </div>
                                            </div>
                                            <?php if($msjerror != null){ ?>
                                                <div class="alert alert-danger alert-dismissible fade in" role="alert">
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
                                                    </button>
                                                    <strong>Ups! </strong><?php echo $msjerror?>.
                                                </div>
                                            <?php } ?>
                                    </div>
                                        </div>
                                     <!-- NOTAS FIN -->

                                     <script type="text/javascript">
                                        $(document).ready(function(){
                                            $('#comments').hide();
                                            $('#comments2').show();
                                        $('#btn-addnote').click(function(){
                                            $('#comments').show();
                                            $('#comments2').hide();
                                            $('#comments').focus();
                                        });
                                        $('#btn-saving_note').click(function(){
                                            $('#comments2').show();
                                            $('#comments').hide();
                                            $('#comments2').focus();
                                        });
                                        })
                                        </script>
                                <div class="animated fadeIn col-lg-12 col-md-12 col-sm-12 col-xs-12"  >

                                         <!-- TIKETS -->
                                         <?php //if($reserva->passenger_balance_due <= 0){ $margintop = '-102%;'; ?>
                                           <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <div class="x_content"> <hr>
                                                        <h1 class="text-danger">Agency E-Ticket</h1>
                                                            <div id="alerts"></div>
                                                            <div class="btn-toolbar editor" data-role="editor-toolbar" data-target="#editor-one">
                                                            
                                                            <div id="summary_pdf" style="">
                                                                <?php
                                                                    $rann = rand(22,99999);
                                                                ?>
                                                                <embed id="ticket1"  name="embed_content" src="<?php echo $data['rootUrl']; ?>SUMMARY/E-TICKET-<?php echo $reserva->codconf; ?>.pdf?t=<?php echo $rann?>" type="" />

                                                            </div>
                                                            </div>
                  <!-- <input type="button" class= "btn btn-info btn-sm btn-block oliverty link-button " id="add_id" name="button"  value="Send to <?php //echo $cliente->firstname ." ". $cliente->lastname; ?> ►"  /><br/> -->
                    <a class="hover"  target="_blank"  href="https://chrome.google.com/webstore/detail/pdf-viewer/oemmndcbldboiebfnladdacbdfmadadm?hl=es">If you can't see the E-ticket, add the PDF Viewer extension from this link.. </a>     
     
                                                        </div>
                                                    </div>
                                                    <!-- TIKETS FIM-->

                                         <!-- TIKETS CLIENT-->

                                         <div class="col-md-6 col-sm-6 col-xs-12">
                                            <div class="x_content"> <hr>
                                             <h1 class="text-danger">Passenger E-Ticket</h1>
                                                <div id="alerts"></div>
                                                    <div class="btn-toolbar editor" data-role="editor-toolbar" data-target="#editor-one">
                                                        <div id="summary_pdf" >
                                                            <embed id="ticket2"  name="embed_content" src="<?php echo $data['rootUrl']; ?>SUMMARY-CLIENT/E-TICKET-<?php echo $reserva->codconf; ?>.pdf?t=<?php echo $rann?>" type="" /> <i id="waitmail"></i>
                                                        </div>
                                                    </div>
                                                    <input type="button" class= "btn btn-flat btn-info btn-sm btn-block oliverty link-button " id="add_id" name="button"  value="Send ticket to <?php echo $cliente->username; ?> ►"  /><br/>
                                                     <span id="resultadop" style="text-align: -webkit-center;">
                                                                        <!-- <a class="hover"  target="_blank"  href="https://chrome.google.com/webstore/detail/pdf-viewer/oemmndcbldboiebfnladdacbdfmadadm?hl=es">Si no puedes visualizar el E-ticket agrega la Extension PDF Viewer desde este enlace. </a>      -->
                                                </div>
                                            </div>
                                                    <!-- TIKETS CLIENT FIM-->
                                            <!-- display:none; margin-left: 800px;margin-top: -361px;position: absolute; width: 10%;height: 10%; -->
                                            <div class="col-md-12 col-sm-12 col-xs-12" style="margin: -140px 0px 0px -49px; ">
                                            <a id="eticket"  ><img  style="width: 64px; display:none" class=" pull-right" src ='<?php echo $data['rootUrl'] ?>global/img/e-mail.gif' >
                                         </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
            <!-- end -->
          </div>




          <script>
                    var val = '<?php echo $validacion?>';
                    // var fechasss = '<?php echo $reserva->fecha_salida?>';
                    // var fechasssr = '<?php echo $reserva->fecha_retorno?>';
                    //  alert(fechasss);
                    if(val == 1 ){
                    $jq('#email1').prop('disabled',true);
                    $jq('#phone1').prop('disabled',true);
                    $jq('#numref').prop('disabled',true);
                    $jq('#pax').prop('disabled',true);
                    $jq('#pax2').prop('disabled',true);
                    $jq('#fecha_salida').prop('disabled',true);
                    $jq('#from').prop('disabled',true);
                    $jq('#to').prop('disabled',true);
                    $jq('#pickup1').prop('disabled',true);
                    $jq('#dropoff1').prop('disabled',true);
                    $jq('#ext_from1').prop('disabled',true);
                    $jq('#ext_to1').prop('disabled',true);
                    $jq('#room1').prop('disabled',true);
                    $jq('#comments2').prop('disabled',true);
                    $jq('#op_pago_conductor').prop('disabled',true);
                    $jq('#saldoporpagar').prop('disabled',true);
                    $jq('#id_p1').prop('disabled',true);
                    $jq('#id_dropoff1').prop('disabled',true);


                    $jq('#fecha_retorno').prop('disabled',true);
                    $jq('#from2').prop('disabled',true);
                    $jq('#to2').prop('disabled',true);
                    $jq('#pickup2').prop('disabled',true);
                    $jq('#dropoff2').prop('disabled',true);
                    $jq('#ext_from2').prop('disabled',true);
                    $jq('#ext_to2').prop('disabled',true);

    
                    }else{
                    $jq('#search1').prop('disabled',false);
                    $jq('#search2').prop('disabled',false);
                    }
                    // if (fechasss == '-C-') {
                    //     $jq('#fecha_salida').prop('disabled',true);
                    //     $jq('#from').prop('disabled',true);
                    //     $jq('#to').prop('disabled',true);
                    //     $jq('#pickup1').prop('disabled',true);
                    //     $jq('#dropoff1').prop('disabled',true);
                    //     $jq('#ext_from1').prop('disabled',true);
                    //     $jq('#ext_to1').prop('disabled',true);
                    //     $jq('#room1').prop('disabled',true);
                    //     $jq('#id_p1').prop('disabled',true);
                    //     $jq('#id_dropoff1').prop('disabled',true);
                    // }
                    // if (fechasssr == '-C-') {
                    //     $jq('#fecha_retorno').prop('disabled',true);
                    //     $jq('#from2').prop('disabled',true);
                    //     $jq('#to2').prop('disabled',true);
                    //     $jq('#pickup2').prop('disabled',true);
                    //     $jq('#dropoff2').prop('disabled',true);
                    //     $jq('#ext_from2').prop('disabled',true);
                    //     $jq('#ext_to2').prop('disabled',true);
                    //     $jq('#room2').prop('disabled',true);
                    //     $jq('#id_p2').prop('disabled',true);
                    //     $jq('#id_dropoff2').prop('disabled',true);
                    // }
                </script>




                </div>
            </div> 

                        <!--                        <fieldset id="inputype" style="width:40%;"><legend>INPUT TYPE</legend>-->
            <!-- table width="100%">

                <tr>    <td>
                        <fieldset  id="inputype" style="margin-left:-6px; width:468px;  height:145px; border-radius: 0px 58px 0px 157px; box-shadow: 0 -8px 4px darkgrey;" class="passel"><legend style="border:1px solid #B83A36; background:#fff;margin-left:11.1px;">INPUT TYPE</legend>
                            <div id="opera" class="input">
                                <table width="100%" >
                                    <tr align="left">
                                    <div>
                                        <div style="margin-top:2px; margin-left:2px;">
                                                <label style="position:absolute; margin-left:16px; margin-top:1px; color:#FFFFFF;" id="label">CALL CENTER</label>

                                        </div>
                                        <div style="margin-top:-11px; margin-right:234px;">
                                                <input style="position:absolute; margin-left:19px; margin-top:22px; width:211px; text-align: left; height:18px;" name="nombre" type="text"  id="nombre" class="verdefosub" value="<?php //echo trim($login->nombre . ' (' . $login->usuario . ')'); ?>" readonly="readonly"/>
                                        </div>
                                    </div>
                                    </tr>
                                    <tr><td colspan="2" >
                                            <table width="100%">
                                                <tr>
                                                <div>
                                                        
                                                    <div style="margin-top:2px; margin-left:2px;">
                                                        <label style="position:absolute; margin-top:43px; margin-left:16px; color:#FFFFFF;">AGENCY</label>
                                                    </div>
                                                    <div class="ausu-suggest" style="margin-top:9px; margin-left:-50px;">
                                                        <input type="text" name="agency" onchange="capturar2();" id="agency" class="verdefosub" size="19" maxlength="30" style="position:absolute; margin-top:54px; margin-left:68px; width:207px; height:18px;" value="<?php echo $agencia->company_name; ?>"  autocomplete="off"    />
                                                        <input type="hidden" size="4" value="<?php echo $agencia->id; ?>" name="id_agency" id="id_agency" autocomplete="off"  readonly="readonly"/>
                                                        <input type="hidden" size="4" value="<?php echo $agencia->type_rate; ?>" name="type_rate" id="type_rate" autocomplete="off"  readonly="readonly"/>
                                                        <input type="hidden" size="4" value="0" name="disponible" id="disponible" autocomplete="off"  readonly="readonly"/>
                                                        <input type="hidden" size="4" value="0" name="comision" id="comision" autocomplete="off"  readonly="readonly"/>

                                                    </div>

                                                </div>

                                                        <div style="margin-top:2px; margin-left:2px;">
                                                            <label style="position:absolute; margin-left:233px; margin-top: 42px; color:#FFFFFF;">Employ</label>
                                                        </div>
                                                        <div class="ausu-suggest" style="margin-top:11px; margin-left:-41px;" >
                                                            <input style="position:absolute; width:219px; margin-top:52px; margin-left:277px; height:18px;" name="uagency" type="text"  id="uagency" class="verdefosub" size="11" maxlength="30" value="<?php //echo ($agencia->id != -1) ? $userA->firstname . ' ' . $userA->lastname : ''; ?>"  />
                                                            <input type="hidden" size="4" value="<?php //echo ($agencia->id != -1) ? $userA->id : ''; ?>" name="id_auser" id="id_auser" autocomplete="off" />
                                                        </div>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>

                                    <tr><td colspan="2" >&nbsp;</td></tr>
                                    <tr><td colspan="2">
                                            <table style="margin-top:-15px; margin-right:112px;" align="center" cellspacing="10">
                                                <tr style="position:absolute; margin-left:37px; margin-top:95px;" valign="top">
                                                    <td><label style="color:#FFFFFF;" for="calan_phone"> BY PHONE</label> <input name="canal" <?php
                                                    /*if ($reserva->canal == 'PHONE') {
                                                        echo ' checked="checked" ';
                                                    }*/
                                                        ?>  type="radio" id="calan_phone" value="PHONE" />  </td>
                                                                                            <td><label style="color:#FFFFFF;"  for="calan_mail"> BY MAIL</label> <input name="canal" <?php
                                                                                                /*if ($reserva->canal == 'MAIL') {
                                                                                                    echo ' checked="checked" ';
                                                                                                }*/
                                                        ?> type="radio"  id="calan_mail"  value="MAIL" /> </td>
                                                                                            <td><label style="color:#FFFFFF;" for="calan_web"> WEBSALE </label><input name="canal"  <?php
                                                                                                /*if ($reserva->canal == 'WEBSALE') {
                                                                                                    echo ' checked="checked" ';
                                                                                                }*/
                                                        ?> type="radio" id="calan_web" value="WEBSALE" />  </td>
                                                </tr>
                                            </table>
                                        </td></tr>
                                </table>
                            </div>

                        </fieldset>
                    </td>  


                    <td>
                        <fieldset id="liderpax" style="margin-left:-1px; margin-top:0px; border-radius: 58px 0px 157px 0px; width:470px; height: 145px; box-shadow: 0 -8px 4px darkgrey;" class="pass2"><legend style="border:1px solid #00C; margin-left:15px; background:#fff;">LEADER PASS</legend>
                            <table>
                                <tr>
                                    <td >
                                        <div id="opera" class="input" style="padding-top:5px;">
                                            <table>
                                                <tr>
                                                
                                                    <div>
                                                        <div style="margin-left:22px; margin-top:-14px;">
                                                                <label style="color:#FFFFFF; margin-left:-19px;" id="label" >SEARCH </label>
                                                        </div>

                                                        <div style="margin-left:-1px; margin-top:0px; margin-top: 0px;" class="ausu-suggest" id="opera">
                                                            <input class="verdefosub" style="margin-left:3px; width:441px; height: 18px;" type="text" size="35" value="<?php
                                                       /* if (isset($cliente) && isset($reserva)) {
                                                            if ($cliente->id == $reserva->id_clientes) {
                                                                echo $cliente->lastname . " " . $cliente->firstname . " - E-Mail -" . $cliente->username;
                                                            }
                                                        }*/
                ?>" name="leader" id="leader" autocomplete="off" />

                                                            <input type="hidden" size="4" value="" name="id_leader" id="id_leader" autocomplete="off" disabled="disabled"  readonly="readonly"/>
                                                        </div>

                                                        <div  class="ausu-suggest" style="margin-top:-5px; margin-left:2px; display:none">
                                                            <a id="newClient" style="cursor:pointer; visibility:hidden;" ><img src="<?php //echo $data['rootUrl']; ?>global/img/new.png" alt=""  align="absmiddle" border="0"  style="padding-bottom:0px;" /></a>
                                                        </div>

                                                    </div>
                                                </tr>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div id="opera" class="input" >
                                            <table width="100%">
                                                <tr>
                                                <div style="margin-right:-34px; margin-top:-31px;">
                                                    <div style="margin-right:418px; margin-top:-9px;">
                                                            <input type="hidden" name="idCliente"   id="idCliente"  value="<?php
                                                                /*if (isset($cliente) && isset($reserva)) {
                                                                    if ($cliente->id == $reserva->id_clientes) {
                                                                        echo trim($reserva->id_clientes);
                                                                    }
                                                                }*/
                    ?>" />
                                                            <input type="hidden" name="idPagador" id="idPagador" value="0"  />
                                                            <input type="hidden" name="idPagador_aux" id="idPagador_aux" value="0"  />
                                                            <input type="hidden" name="cliente_apto" id="cliente_apto" value="0"  />
                                                            <label style="margin-top:2px; margin-left:0px; color:#FFFFFF;" id="labeldere12">FIRST NAME</label>
                                                            
                                                    </div>
                                                    <div style="margin-right:240px; margin-top:22px;">
                                                            <input style="position:absolute; margin-left:1px; margin-top:22.3px; width:217px;" name="firstname1" type="text"  id="firstname1"  class="verdefosub" size="15" maxlength="15" value="<?php
                                                            /*if (isset($reserva)) {
                                                                echo $reserva->firsname;
                                                            }*/
                    ?>" />	
                                                    </div>
                                                    <div style="margin-left:22px; margin-top:-14px;">
                                                            <label style="color:#FFFFFF; margin-top: -20px; margin-right: 196px;" id="labeldere12" >LAST NAME </label>
                                                    </div>

                                                    <div style="margin-left:22px; margin-top:-24px;">
                                                            <input style="position:absolute; margin-left:207px; margin-top:22px; width:181px;" name="lastname1" type="text"  id="lastname1" class="verdefosub" size="15" maxlength="15" value="<?php
                                                            /*if (isset($reserva)) {
                                                                echo $reserva->lasname;
                                                            }*/
                    ?>" />
                                                    </div>

                                                </div>
                                                </tr>
                                                <tr>
                                                <label style="color:#FFFFFF; margin-top:24px; margin-left:2px;" id="email">E-MAIL</label>
                                                <div style="margin-left:2px; margin-top:-4px;">
                                                        <div style="margin-top:2px;">
                                                        </div>
                                                        <div style="margin-right:2px; margin-top:2px;">
                                                                <input style="position:absolute; margin-left:-1px; margin-top:66px; width:217px; " name="email1" type="text"  id="email1" class="verdefosub" size="15" value="<?php
                                                                /*if (isset($reserva)) {
                                                                    echo $reserva->email;
                                                                }*/
                        ?>"/>
                                                        </div>
                                                        <div style="margin-right:2px; margin-top:2px;">
                                                                <label style="color:#FFFFFF; margin-right: 185px; margin-top:24px;" id="labeldere12">PHONE </label>
                                                        </div>
                                                        <div style="margin-right:2px; margin-top:2px;">
                                                                <input style="position:absolute; margin-top: 66px; margin-left:227px; width:125px; " name="phone1" type="text"  id="phone1" class="verdefosub" size="15" maxlength="15" value="<?php
                                                                /*if (isset($cliente) && isset($reserva)) {
                                                                    if ($cliente->id == $reserva->id_clientes) {
                                                                        echo $cliente->phone;
                                                                    }
                                                                }
                                                                ?>" /> 
                                                                <?php
                                                                if (isset($cliente) && isset($reserva)) {
                                                                    if ($cliente->id == $reserva->id_clientes) {
                                                                        echo $cliente->celphone;
                                                                    }
                                                                }
                                                                ?>" /> 
                                                                
                                                                <input  type="hidden" name="type_cliente"  id="type_cliente" value="<?php
                                                                if (isset($cliente) && isset($reserva)) {
                                                                    if ($cliente->id == $reserva->id_clientes) {
                                                                        echo $cliente->tipo_client;
                                                                    }
                                                                }*/
                                                                ?>" />    
                                                        </div>
                                                    
                                                </div>

                                                </tr>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </fieldset>
                    </td>

                </tr>
            </table> -->

            <!--            <fieldset id="boo" ><legend>BOOKING</legend>-->
            <!-- <fieldset id="boo" style="width:952px; height: 65px; border-radius: 26%;margin-top: 3px;" class="booking2" ><legend style="border:1px solid #00C; background:#fff;">BOOKING</legend>
                <input type="hidden" name="id_oneway" id="id_tipo_ticket" value="<?php
                                                        /*if (isset($reserva)) {
                                                            if ($reserva->tipo_ticket == 'oneway') {
                                                                echo 1;
                                                            } else {
                                                                echo 2;
                                                            }
                                                        }
                ?>"/>

                <div id="opera" class="input" style="padding-top:5px;"> <label style="color:#00f;"><strong>ONE WAY</strong> </label> <input name="tipo_ticket"  id="oneway" onclick="capturar(); reset_roundtrip();" type="radio" value="1"
                    <?php
                    if (isset($reserva)) {
                        if ($reserva->tipo_ticket == 'oneway') {
                            echo ' checked ';
                        }
                    }
                    ?>

                    <?php
                    if (isset($reserva)) {
                        if ($reserva->tipo_ticket != 'oneway') {
                            echo ' enabled ';
                        }
                    }
                    ?>/></div>
                <div id="opera" class="input" style="padding-top:5px;"> <label style="color:#AC1B29;"><strong>ROUND TRIP</strong></label><input name="tipo_ticket" id="roundtrip" type="radio" value="2" onclick="capturar();" <?php
                    if (isset($reserva)) {
                        if ($reserva->tipo_ticket != 'oneway') {
                            echo ' checked ';
                        }
                    }*/
                    ?> /> </div>
                <div id="opera" class="input" style="padding-top:5px;"> <label style="color:#4B0082;" style="padding-right:5px;"><strong>TYPE OF PASS</strong></label>
                    <div style="margin-left:97px; margin-top:1px;">
                        <select name="tipo_pass" id="tipo_pass" onclick="cargando();residente();" disabled="true" >
                            <option style="color:red;" value="0">NO RESIDENT</option>
                            <option style="color:blue;" value="1">RESIDENT</option>
                        </select>
                    </div>
                    
                    <input type="text" name="resident" id="resident" value="<?php echo $residente; ?>" style="display:none; position:absolute; margin-left:10px; margin-top:34px; width:55px;" />

                </div>
                <div><label id="labeldere" style=" margin-right:565px; margin-top:4px; width: 167px; color:#4B0082;"><strong>Customer With Disabilities</strong></label></div>
                <div id="opera" class="input" style="margin-left:386px; margin-top:-15.1px;" >
                    <input style="" id="byr" name="byr" type="checkbox" value="1" <?php
                    /*if (isset($reserva)) {
                        if ($reserva->customer_disabilities == 1) {
                            echo ' checked ';
                        }
                    }*/
                                                                                                                                            ?> />
                                      
                </div>
                <div style="margin-left:0px; margin-top:-1px;">
                
                <div id="opera" class="input"  style="padding-top:10px; clear:left;">
                    <label style="width:45px; margin-left:470px; margin-top:-58px;color:#000000;"><strong>ADULT</strong></label>
                    <input name="pax" type="number" min="1"  id="pax" size="2" maxlength="2" readonly="readonly" value="<?php echo $reserva->pax ?>"  style="border:1px solid #AFAFAF; color:#AFAFAF; font-weight: bold;text-align: center; width:40px; margin-top:-58px;" onchange="
                            var a = document.getElementById('pax').value();
                            if (isNaN(a)) {
                                return false;
                            } else {
                                var max = 100 - a;
                                if (max < 0) {
                                    var valor = 100 - $('#pax2').val();
                                    document.getElementById('pax').value = valor;
                                    $('#pax2').attr('max', valor);
                                } else {
                                    $('#pax2').attr('max', max);
                                    if ($('#pax2').val() > max) {
                                        $('#pax2').attr('value', max);
                                    }
                                }
                            }
                           "   />
                </div>
                
                <div id="opera" class="input"  style="padding-top:10px;">
                    <label style="width:45px; margin-top:-58px; color:#000000;"  ><STRONG>CHILD</STRONG></label>
                    <input name="pax2" type="number"  id="pax2" size="2" maxlength="2" readonly="readonly" value="<?php echo $reserva->pax2 ?>" style="border:1px solid #AFAFAF; color:#AFAFAF; font-weight: bold; text-align: center; width:40px; margin-top:-58px;" min="0" max="15" onchange="
                            var a = document.getElementById('pax2').value;
                            if (isNaN(a)) {
                                return false;
                            } else {
                                var max = 16 - a;
                                if (max <= 0) {
                                    var valor = 16 - $('#pax').val();
                                    document.getElementById('pax2').value = valor;
                                    $('#pax2').attr('max', valor);
                                } else {
                                    if ($('#pax').val() > max) {
                                        $('#pax').attr('value', max);
                                    }
                                }
                            }"  />
                </div>
                <div id="opera" class="input"  style="padding-top:10px;">
                    <label style="width:45px; margin-top:-58px; height:18px; color:#000;"  ><strong>TOTAL</strong></label>
                    <input style="color:#AFAFAF; border:1px solid #AFAFAF; margin-top:-58px; height:18px; text-align: center; width: 40px;" name="totalpax" type="text"  id="totalpax" size="2" maxlength="2" value=""  readonly="readonly"/>
                </div>
                <div id="opera" class="input"  style="padding-top:10px;">
                    <label style="width:45px; margin-left:-12px; margin-top:-58px; color:#000;"  ><strong>INFANT</strong></label>
                    <input name="infat" type="number" readonly="readonly" id="infat" size="2" maxlength="2" value="<?php //echo $reserva->pax3; ?>" min="0" max="16" style="border:1px solid #AFAFAF; color:#AFAFAF; font-weight: bold; text-align: center; width:40px; margin-top:-58px;margin-left:8px;" />
                </div>
                    
                </div>

            </fieldset> -->
            <!--&nbsp;-->

<!--            <table width="200"  cellspacing="0" class="sup" >
                <tr>
                    <td width="167" ><label > <strong>SUPERCLUB#</strong></label></td>
                    <td width="27"><label id="labeldere"><span id="number_supu">N/A</span></label></td>
                </tr>
                <tr>
                    <td><label> <strong>POINTS BALANCE</strong></label></td>
                    <td><label id="labeldere"><span id="points">N/A</span></label></td>
                </tr>
                <tr>
                    <td><label > <strong>POINTS REQUIRED
                                <span style="font-size: 8px;">FOR THIS TRIP</span>

                            </strong></label></td>
                    <td><label id="labeldere" >N/A</label></td>
                </tr>
            </table>-->
            <!--<fieldset id="onew" style="border-radius: 7%; margin-top:0px;  height:293px; padding-top: 15px;  box-shadow: 4px 6px 7px 1px #708090;" class="cerati"><legend style="margin-top:4px; border:1px solid #00C; background:#fff;">ONE WAY</legend>
                
                <table style="margin-top:0px; margin-left:0px;" align="left" cellspacing="0" border="0">                                       

                    <tr>  
                        
                        <td>
                            <div>
                                <select style="position:absolute; border: #000 2px solid; width:177px; margin-left: 16px; margin-top:-4.3px; border-radius: 0px 0px 0px 0px; font-weight:bold;" id="estado_oneway" name="estado_oneway" onchange="passenger_balance(); fecha_ns_one();">

                                    <optgroup  label="STATUS">

                                        <option style="font-weight:bold;" value="1">CONFIRMED</option>
                                        <option style="font-weight:bold;" value="4">CANCELED</option>
                                        <option style="font-weight:bold;" value="5">CANCELED W/FEE</option>                            
                                        <option style="font-weight:bold;" value="2">NO SHOW</option>
                                        <option style="font-weight:bold;" value="3">NO SHOW W/FEE</option>
                                        <option style="font-weight:bold;" value="6">OPEN W/FEE</option>


                                    </optgroup>

                                </select>
                            </div>
                        </td>
                        
                        <td>
                            <div id="bck1" class="ceratix" style="border: #fff 1.3px solid; width:664px; height:46px; margin-left:7px; margin-top:2px; border-radius: 10px 10px 10px 10px;">
                                <div style="margin-top:4px; margin-left: 24px;">
                                  <label id="tarifone" style="margin-left:165px;  color:#FFFFFF;">RATE</label> 
                                </div>
                                <div>                     
                                    <input type="text" name="tari_one"  id="tari_one" size="10" maxlength="15" style="border-radius: 0px 0px 0px 0px; border: #000 2px solid; background-color: #757575; color:#FFF; text-align:center; width:140px; margin-left:188.5px; margin-top: 1.2px; height: 14px;" disabled="disabled" value="<?php  /*if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '3') {  echo 'Web Fare Price'; } else if ($reserva->tarifa_one == '4') {  echo 'Super Promo Price'; } else if ($reserva->tarifa_one == '5') {  echo 'Super Discount Price'; }*/ ?> " autocomplete="off"/>
                                </div>
                            </div>                            
                        </td>
                        
                        <td>
                            <div>
                                <div style="margin-top:-42.5px; margin-left: -115px;">
                                    <label id="departure_ns" style="position:absolute; margin-left:-215px; margin-top:42.5px; color:#FFFFFF;">DEPARTURE</label>
                                </div>
                                <div>
                                    <input type="text" name="fec_salida_ns"  id="fec_salida_ns" title="(Y - M - D)" size="10" maxlength="15" disabled="disabled" style="border-radius: 0px 0px 0px 0px; border: #000 2px solid; background-color: #757575; color:#FFF; text-align:center; width:83px; margin-left:-330px; height: 12px; padding-top:3px; margin-top: 56.5px;" value="<?php //if (isset($reserva)) {  echo ($reserva->fecha_salida_ns == "0000-00-00"?"00-00-0000":date('Y-m-d', strtotime($reserva->fecha_salida_ns))); }  ?>" autocomplete="off"/>
                                </div>

                            </div>
                        </td>
                        
                    </tr>
                    
                </table>

                <table style="margin-top:0px; margin-left:0px;" align="left" cellspacing="0" border="0">  
                    
                    <tr>    
                        
                        <td>                            

                            <a href="" id="dataclick1" style="position:absolute; margin-left:7px; margin-top:1px;" ><img src ='<?php //echo $data['rootUrl'] ?>global/img/calendar.png' width='25' height='25'></a>
                            
                        </td>
                        <td> 
                            <div id="opera" class="input" style="">

                                <div><label style="position:absolute; width:75px; color:#FFFFFF; margin-left:29px; margin-top: 12px;" >DEPARTURE</label></div>

                                
                                <div>

                                <input type="text" name="fecha_salida"  id="fecha_salida" size="10" title="(M - D - Y)" maxlength="15" style="width:87px; margin-left:29px; padding-top:2px; margin-top: 32px; text-align: center;" value="<?php  /*if($reserva->fecha_salida == '-N/A-') { echo 'N/S'; } else if($reserva->fecha_salida == '-N/S W/F-') { echo 'N/S W/FEE'; } else if($reserva->fecha_salida == '-C W/F-') { echo 'CANC W/FEE'; } else if($reserva->fecha_salida == '-C-') { echo 'CANC'; } else if($reserva->fecha_salida == '-OP-') { echo 'OPEN W/FEE'; } else {  if (isset($reserva)) {  echo ($reserva->fecha_salida == "0000-00-00"?"00-00-0000":date('m-d-Y', strtotime($reserva->fecha_salida))); } }*/?>" onchange="fechale();" autocomplete="off"/>
                                </div>

                            </div>
                        </td>
                        
                        <td>
                            <div id="opera" class="input" style="" >
                                <div id="explo">  <label style="position:absolute; width:45px; color:#FFFFFF; margin-left: -14px; margin-top:-16px;"  > FROM</label></div>
                                <div id="explo" align="left"> 
                                    <select name="fromt"  style="position:absolute; width:178px; height:25px; margin-top: 4px; margin-left:-14px;" id="from">
                                        <option value=""></option>
                                        <?php /*foreach ($data["areas"] as $e) { ?>
                                            <option value="<?php echo $e["id"]; ?>" <?php
                                        if (isset($reserva)) {
                                            echo (trim($reserva->fromt) == trim($e["id"])) ? 'selected' : '';
                                        } else {
                                            echo (trim($e['nombre'] == trim("ORLANDO") ? 'selected' : ''));
                                        }*/
                                            ?> ><?php //echo $e["nombre"]; ?></option>
                                                <?php //} ?>
                                    </select>
                                </div>
                            </div>
                            
                        </td>
                        
                        <td>
                            <div id="opera" class="input" style=""  >
                                <div id="explo"><label style="position:absolute; width:45px; color:#FFFFFF; margin-left: 31px; margin-top: 12px;"  > TO</label></div>
                                <div id="explo" align="left">
                                    <select name="to"  id="to" style="width:178px; height:25px; margin-top: 32px; margin-left:29px;">
                                        <?php /*foreach ($to_areas as $area) { ?>
                                            <option value="<?php echo $area['trip_to']; ?>"  <?php echo ($area["trip_to"] == $reserva->tot ? 'selected' : '') ?> >
                                                <?php echo $area['nombre']; ?>
                                            </option>
                                        <?php } ?>
                                    </select>
                                    <input type="hidden" name="valto" id="valto" value="<?php
                                        if (isset($reserva)) {
                                            echo $reserva->tot;
                                        }*/
                                        ?>"/>
                                </div>
                            </div>
                        </td>    
                        
                        
                        <td>
                            <div id="mascaraP" style="display: none;">
                            </div>
                            <div id="popup" style="display: none;">
                                <div class="content-popup">
                                </div>
                            </div>

                            <div id="clienteN" style="display:none; width: 700px; margin-left: 100px;" ></div>

                            <div id="opera" class="input" style="">
                                <div style="width:50px; margin-top: -5px;" id="popup1">  <label style="position:absolute; width:20px; color:#FFFFFF; margin-top: 17px; margin-left: 73px;"> TRIP</label><a id="search" onclick="activa_one(); comprobarScreen(); cargando();" style="position:absolute; cursor:pointer;color: #fff; margin-left: 82px; margin-top: 5px;"><img src ='<?php echo $data['rootUrl'] ?>global/img/search.png' width='25' height='25'></a>
                                -->
                                    <input type="hidden" id="valorcomision01" name="valorcomision01" value="<?php /* echo $subto['comi1'] */ ?>" /></div>
                                
                                <div style="width:50px;"> 
                                    <input type="hidden" id="trip_no_c" name="trip_no_c"  value="<?php
                                    if (isset($reserva)) {
                                        echo $reserva->trip_no;
                                    }
                                        ?>"/>
                                        <!--<input type="text"  name="trip_no" id="trip_no" size="3" maxlength="3" style="text-align:center; margin-top:37px; margin-left:72px; height: 21px; width:83px;"   value="<?php /*if (isset($reserva)) {
                                        //echo $reserva->trip_no;
                                    } ?>"  readonly="readonly"/>
                                </div>


                            </div>
                        </td>
                        
                        <td>
                            <div id="opera" class="input"  style="">
                                <div style="width:50px;">  <label style="position:absolute; width:45px; margin-left:92px; margin-top: 12px; color:#FFFFFF;"  > DEP.TIME</label></div>

                                <input name="departure1" type="text"  id="departure1" size="5" maxlength="8" style="text-align:center; height:21px; width:72px; margin-left:92px; margin-top:32px;" value="<?php
                                /*if (isset($reserva)) {
                                    echo date("g:i a", strtotime($reserva->deptime1));
                                }
                                ?>" readonly="readonly"/>

                            </div>
                            
                        </td>
                        
                        

                            
                            
                    </tr>
                    
                </table>
                
                <table style="margin-top:-11px; margin-left:0px;" align="left" cellspacing="0" border="0">  
                    
                    <tr>  
                        
                        <td>
                        
                            <div id="opera" class="input"  style="clear:left; ">
                                <div style="width:265px;">  <label style="position:absolute; margin-left:0px; margin-top:8px; width:150px;  color:#FFFFFF;"  >PICK UP POINT/ADDRESS</label></div>
                                <div style="width:200px;  margin-left:0px; margin-top:29px;">
                                    <div class="ausu-suggest" >
                                        <input name="pickup1" type="text"  id="pickup1" onkeyup="resetpickup1();" onchange="changepickup1();" size="40" maxlength="55" value="<?php
                                        if (isset($pickup1) && $pickup1 != "") {
                                            echo $pickup1->place;
                                        }
                                        ?>" autocomplete="off"/>
                                        <input name="id_p1" type="hidden"  id="id_p1" size="40" maxlength="55" value="<?php
                                        if (isset($pickup1) && $pickup1 != "") {
                                            echo $pickup1->id;
                                        }
                                        ?>" />
                                    </div>
                                </div>
                            </div>
                            
                        </td>
                        
                        <td>
                            <div id="opera" class="input"  >
                                <div style="width:265px;">  <label style="position:absolute; margin-left:8px; margin-top:8px; width:250px;  color:#FFFFFF;"  >DROP OFF POINT/ADDRESS</label></div>
                                <div style="width:210px;">
                                    <div class="ausu-suggest" >
                                        <input name="dropoff1" style=" margin-left: 8px; margin-top:29px; width: 280px;" type="text"  id="dropoff1" size="39" maxlength="55" value="<?php
                                        if (isset($drop1) && $drop1 != "") {
                                            echo $drop1->place;
                                        }
                                        ?>" autocomplete="off"/>
                                        <input name="id_dropoff1" type="hidden"  id="id_dropoff1" size="39" maxlength="55" value="<?php
                                        if (isset($drop1) && $drop1 != "") {
                                            echo $drop1->id;
                                        }
                                        ?>" />
                                    </div>
                                </div>
                            </div>
                        </td>
                        
                        <td>
                            <div id="opera" class="input" style="" >
                                <div style="width:50px;">  <label style="position:absolute; width:45px; margin-left:15px; margin-top:8px; color:#FFFFFF;"  >ARR.TIME</label></div>
                                <div style="width:50px;">
                                    <input name="arrival1" type="text"  id="arrival1" size="5" maxlength="8" style="text-align:center; height: 22px; margin-left: 14px; margin-top:29px;  width:72px;"  value="<?php
                                    if (isset($reserva)) {
                                        echo date("g:i a", strtotime($reserva->arrtime1));
                                    }
                                    ?>" readonly="readonly" />
                                </div>
                            </div>
                        </td>
                        
                    </tr>
                    
                </table>
                    
                    
                <table style="margin-top:18px; margin-left:0px;" align="left" cellspacing="0" border="0">
                    
                    <tr>

                        <td>
                            <div id="opera" class="input">
                                <div><label style="position:absolute; margin-left:0px; margin-top:-20px; color:#FFFFFF;">EXTENSION AREA:</label></div>
                                <div>
                                <select name="ext_from1" id="ext_from1" style='width:287px; height:25px;' onchange="change_ext_from1();" >
                                    <option value="0"></option>
                                    <?php foreach ($extenFrom1 as $ex) { ?>
                                        <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion1->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                    <?php } ?>          
                                </select>

                                </div>
                            </div>                            
                        </td>
                        
                        <td>                            
                            <div id="opera" class="input" > 
                                <div><label style="position:absolute; color:#FFFFFF; margin-left:-14px; margin-top:-20px;">EXTENSION AREA:</label></div>
                                <div>
                                <select name="ext_to1" id="ext_to1" style="width:286.5px; margin-left:-14px; height:25px; margin-top:0px;" onchange="change_ext_to1();">
                                    <option value="0"></option>
                                    <?php foreach ($extenTo1 as $ex) { ?>
                                        <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion2->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                    <?php } ?>
                                </select>

                                </div>
                            </div>                            
                        </td>
                        
                        <td>
                            <div id="opera" class="input">

                                <div><label style="position:absolute; margin-left: -14px; margin-top:-20px; color:#FFFFFF;" >ROOM #</label></div>

                                <div>
                                    <input name="room1" type="text"  id="room1" size="4" maxlength="6" style=" width:72px;  margin-left: -15px; margin-top:-1px; height:22px;" value="<?php echo $reserva->room1; ?>" />
                                </div>

                            </div>
                        </td>
                </tr>

                    
                </table>
                
                <table style="margin-top:7px; margin-left:0px;" align="left" cellspacing="0" border="0">

                    <tr>
                        <td>
                            <div id="opera" class="input"  style="">

                                <div style="width:300px;">  <label style="position:absolute; margin-left: 0px; margin-top: -10px; width:250px;  color:#FFFFFF;"  >EXTENSION PICK UP POINT/ADDRESS</label></div>
                                <div style="width:200px;">
                                    <div class="ausu-suggest" >
                                        <input name="exten1" type="text"  id="exten1" size="46" maxlength="55" style="margin-left: 0px; margin-top: 11px; width:320px;"  value="<?php echo $reserva->pickup_exten1; ?>" <?php
                                        if ($extencion1->id == 0) {
                                            echo ' disabled="disabled" ';
                                        }
                                        ?>  autocomplete="off"/>
                                        <input name="id_ext_pikup1" type="hidden"  id="id_ext_pikup1" size="40" maxlength="55" value="" />
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div id="opera" class="input" >
                                <div style="width:265px;">  <label style="position:absolute; margin-left: 13px; margin-top: -10px; width:250px;  color:#FFFFFF; "  >EXTENSION DROP OFF POINT/ADDRESS</label></div>
                                <div class="ausu-suggest" >
                                    <input name="exten2" type="text"  id="exten2" size="47" maxlength="55" style="margin-left: 13px; margin-top: 11px; width:320px;" value="<?php echo $reserva->pickup_exten2; ?>"  <?php
                                    if ($extencion2->id == 0) {
                                        echo ' disabled="disabled" ';
                                    }*/
                                    ?>  autocomplete="off"/>
                                    <input name="id_ext_pikup2" type="hidden"  id="id_ext_pikup2" size="40" maxlength="55" value="" />

                                </div>
                            </div>
                        </td>
                    </tr>
                    
                </table>

            </fieldset> -->


            <!--Estados de Select-->
            <!--<input type="text"  name="estado_one"  id="estado_one"  style="display:none; width:25px;  margin-left: 30px; margin-top:4px;" value="<?php //echo $reserva->estado_one; ?>" />
            <input type="text"  name="estado_round"  id="estado_round"  style="display:none; width:25px;  margin-left: 30px; margin-top:4px;" value="<?php //echo $reserva->estado_round; ?>" />
            <fieldset id="round" style="border-radius: 5%;  margin-top:7px; height:310px; padding-top: 13px;  box-shadow: 4px 6px 7px 1px #708090;" class="rojillo"><legend style="border:1px solid #B83A36; background:#fff;"><font color="#990000">ROUND TRIP</font></legend>
            
            <table style="margin-top:0px; margin-left:0px;" align="left" cellspacing="0" border="0">                                       

                <tr>  
                        
                    <td>                
                        <div>
                            <select   style="position:absolute; border: #000 2px solid; width:177px; margin-left: 18px; margin-top:-4px; font-weight:bold;" id="estado_roundtrip" name="estado_roundtrip" onchange="passenger_balance(); fecha_ns_round();">

                                <optgroup  label="STATUS">

                                    <option  style="font-weight:bold;" value="1">CONFIRMED</option>
                                    <option  style="font-weight:bold;" value="4">CANCELED</option>
                                    <option  style="font-weight:bold;" value="5">CANCELED W/FEE</option>                            
                                    <option  style="font-weight:bold;" value="2">NO SHOW</option>
                                    <option  style="font-weight:bold;" value="3">NO SHOW W/FEE</option>
                                    <option  style="font-weight:bold;" value="6">OPEN W/FEE</option>

                                </optgroup>

                            </select>

                        </div>
                    </td>
                
                    <td>
                        <div class="rojo" style="border: #fff 1.3px solid; width:664px; height:46px; margin-left:7px; margin-top:6px; border-radius: 10px 10px 10px 10px;">
                            <div style="margin-top:3px; margin-left: 24px;">
                                <label id="tarifround" style="position:absolute; margin-left:169px; color:#FFFFFF;">RATE</label>

                            </div>

                            <div>                     
                                  <input type="text" name="tari_round"  id="tari_round" size="10" maxlength="15" style="border: #000 2px solid; background-color: #757575; color:#FFF; text-align:center; width:132px; margin-left:193px; margin-top: 14px; height: 14px; padding-top: 2px;" value="<?php  /*if($reserva->tarifa_round == '1') { echo 'Standard Price'; } else if($reserva->tarifa_round == '6') { echo 'Special Price'; } else if($reserva->tarifa_round == '0') { echo ''; } else if ($reserva->tarifa_round == '2') {  echo 'Super Flex Price'; } else if ($reserva->tarifa_round == '3') {  echo 'Web Fare Price'; } else if ($reserva->tarifa_round == '4') {  echo 'Super Promo Price'; } else if ($reserva->tarifa_round == '5') {  echo 'Super Discount Price'; }?>" autocomplete="off"/>
                            </div>

                        </div>
                    </td>
                    
                    <td>
                        <div>

                            <div style="margin-top:-42.5px; margin-left: -115px;">
                                <label id="departure_ns2" style="position: absolute; margin-left:-217px; margin-top:44px; color:#FFFFFF;">DEPARTURE</label>
                            </div>

                            <div>

                                <input type="text" name="fec_retorno_ns"  id="fec_retorno_ns" title="(Y - M - D)" size="10" maxlength="15" disabled="disabled" style="border: #000 2px solid; background-color: #757575; color:#FFF; text-align:center; width:84px; margin-left:-332px; height: 13px; padding-top:3px; margin-top: 57px;" value="<?php if($reserva->fecha_retorno_ns == 'N/A') { echo ''; } else {  echo ($reserva->fecha_retorno_ns == "0000-00-00"?"00-00-0000":date('Y-m-d', strtotime($reserva->fecha_retorno_ns))); } ?>" autocomplete="off"/>

                            </div>

                        </div>
                    </td>
                    
                </tr>
                
            </table>
                
                
            <table style="margin-top:-6px; margin-left:0px;" align="left" cellspacing="0" border="0"> 
                
                <tr>
                    <td>
                     <a href="" id="dataclick2" style="position:absolute; margin-left:5px; margin-top:5px;" ><img src ='<?php echo $data['rootUrl'] ?>global/img/calendar2.png' width='25' height='25'></a>                         
                    </td>
                    
                    <td>
                        <div id="opera" class="input">

                            <div><label style="position:absolute; width:75px; color:#FFFFFF; margin-left:28px; margin-top:19px;">DEPARTURE</label></div>
                                
                            <div>
                                <input name="fecha_retorno" type="text"  id="fecha_retorno" style="text-align:center; width:87px; margin-top:40px; margin-left:28px; padding-top:2px;" size="10" title="(M - D - Y)" maxlength="15" value="<?php if ($reserva->fecha_retorno == '-N/A-') { echo 'N/S';  }else if($reserva->fecha_retorno == '-N/S W/F-') { echo 'N/S W/FEE'; } else if($reserva->fecha_retorno == '-C W/F-') { echo 'CANC W/FEE'; } else if($reserva->fecha_retorno == '-C-') { echo 'CANC'; } else if($reserva->fecha_retorno == '-OP-') { echo 'OPEN W/FEE'; } else {  if (isset($reserva) && $reserva->tipo_ticket != 'oneway') { echo ($reserva->fecha_retorno == "0000-00-00"?"00-00-0000" : date('m-d-Y', strtotime($reserva->fecha_retorno))); } } ?>" onchange="fechale2();" autocomplete="off" />
                            </div>
                        </div>
                    </td>
                        
                    <td>
                        <div id="opera" class="input" style="" >
                            <div id="explo">  <label style="position:absolute; width:45px; color:#FFFFFF; margin-left: -14px; margin-top:-13px;"> FROM</label></div>
                            <div id="explo" align="left">
                                <select name="fromt2"  style="position:absolute; width:178px; height:25.5px; margin-top:8px; margin-left:-14px;" id="from2" >
                                    <option value=""></option>
                                        <?php foreach ($to_areas as $area) { ?>
                                        <option value="<?php echo $area['trip_to']; ?>"  <?php echo ($area["trip_to"] == $reserva->fromt2 ? 'selected' : '') ?>  >
                                        <?php echo $area['nombre']; ?>
                                        </option>
                                        <?php } ?>

                                </select>
                            </div>
                        </div>
                    </td>
                    
                    <td>
                        <div id="opera" class="input" style=""  >
                            <div id="explo">  <label style="position:absolute; width:45px; color:#FFFFFF; margin-left: 32px; margin-top: 19px;"  > TO</label></div>
                            <div id="explo" align="left">
                                <select name="to2"  id="to2" style="width:177px; height:25px; margin-top:40px; margin-left:30px;" >
                                        <?php foreach ($data["to_areas2"] as $area) { ?>
                                        <option value="<?php echo $area['trip_to']; ?>"  <?php echo ($area["trip_to"] == $reserva->tot2 ? 'selected' : '') ?>  >
                                        <?php echo $area['nombre']; ?>
                                        </option>
                                        <?php } */?>
                                </select>
                            </div>
                        </div>
                    </td>
                    
                    <td>                        
                        <div id="opera" class="input" style=""  >
                            <div style="width:50px;" id="popup2">  <label style="position:absolute; width:20px; color:#FFFFFF; margin-left: 75px; margin-top: 19px;"  > TRIP</label><a id="search2" onclick="activa_round(); comprobarScreen(); cargando();" style="position:absolute; cursor:pointer;color: #fff; margin-top: 7px; margin-left: 81px;" ><img src ='<?php //echo $data['rootUrl'] ?>global/img/search.png' width='25' height='25'></a> 
                                <input type="hidden" id="valorcomision02" name="valorcomision02" value="<?php /* echo $subto['comi2'] */ ?>" />
                            </div>
                            -->
                            <div style="width:50px;"><input type="hidden" id="trip_no2_c" name="trip_no2_c" style="height: 22px; width:75px;" value="<?php
                                if (isset($reserva)) {
                                    echo $reserva->trip_no2;
                                }
                                ?>"/>
                                <!-- <input name="trip_no2" type="text"  style="text-align:center; margin-top:39px; height:22px; width:83px; margin-left: 73px;" id="trip_no2" size="3" maxlength="3" value="<?php
                                                            /*if (isset($reserva)) {
                                                                echo ($reserva->trip_no2 != 0 ? $reserva->trip_no2 : "");
                                                            }
                                                            ?>"  readonly="readonly"/>
                            </div>
                        </div>
                    <td>
                        
                    <td>                        
                        <div id="opera" class="input"  style="">
                            <div style="width:50px;">  <label style="position:absolute; width:45px;  color:#FFFFFF; margin-top: 19px; margin-left: 91px;"  > DEP.TIME</label></div>
                            <div style="width:50px;">
                                <input name="departure2" type="text" style="text-align:center; height: 22px; margin-top:39px; width:71.5px; margin-left:91px;" id="departure2" size="5" maxlength="8" value="<?php
                                if (isset($reserva)) {
                                    echo ($reserva->deptime2 != "00:00:00" ? date("g:i a", strtotime($reserva->deptime2)) : "");
                                }
                                ?>" readonly="readonly"/>
                            </div>
                        </div>
                    </td>
                    
                </tr>   
                
            </table>
                    
            <table style="margin-top:20px; margin-left:0px;" align="left" cellspacing="0" border="0"> 
                
                <tr>
                
                    <td>
                        
                        <div id="opera" class="input">
                            <div style="width:265px;">  <label style="position:absolute; width:150px; color:#FFFFFF; margin-left:0px; margin-top:-20px;">PICK UP POINT/ADDRESS</label></div>
                            <div style="width:200px;">
                                <div class="ausu-suggest" >
                                    <input name="pickup2" type="text"  id="pickup2" size="40" maxlength="55" onkeyup="resetpickup2();" onchange="changepickup2();" value="<?php
                                    if (isset($pickup2) && $pickup2 != "") {
                                        echo $pickup2->place;
                                    }
                                    ?>" autocomplete="off"/>
                                    <input name="id_pickup2" type="hidden"  id="id_pickup2" size="40" maxlength="55" value="<?php
                                    if (isset($pickup2) && $pickup2 != "") {
                                        echo $pickup2->id;
                                    }
                                    ?>" />
                                </div>
                            </div>
                        </div>
                    </td>
                
                    <td>
                        <div id="opera" class="input"  >
                            <div style="width:265px;">  <label style="position:absolute; width:250px; margin-left:8px; margin-top:-20px; color:#FFFFFF;">DROP OFF POINT/ADDRESS</label></div>
                            <div style="width:200px;">
                                <div class="ausu-suggest" >
                                    <input name="dpoff2" type="text" style="margin-left:8px; width: 280px; margin-top: 0px;" id="dropoff2" size="39" maxlength="55" value="<?php
                                    if (isset($drop2) && $drop2 != "") {
                                        echo $drop2->place;
                                    }
                                    ?>" autocomplete="off"/>
                                    <input name="id_dropoff2" type="hidden"  id="id_dropoff2" size="40" maxlength="55" value="<?php
                                    if (isset($drop2) && $drop2 != "") {
                                        echo $drop2->id;
                                    }
                                    ?>" />
                                </div>
                            </div>
                        </div>
                    </td>
                    
                    <td>
                        <div id="opera" class="input">
                            <div style="width:50px;">  <label style="position:absolute; width:45px;  color:#FFFFFF; margin-left:15px; margin-top:-20px;"  >ARR.TIME</label></div>
                            <div style="width:50px;">
                                <input name="arrival2" type="text" style="height: 22px; margin-left: 14px;  width:72px; margin-top: 0px; text-align: center;" id="arrival2" size="5" maxlength="8" value="<?php
                                if (isset($reserva)) {
                                    echo ($reserva->arrtime2 != "00:00:00" ? date("g:i a", strtotime($reserva->arrtime2)) : "");
                                }
                                ?>" readonly="readonly" />
                            </div>
                        </div>
                    </td>

                </tr>
                
            </table>
                
            <table style="margin-top:21px; margin-left:0px;" align="left" cellspacing="0" border="0"> 
                
                <tr>
                
                    <td>
                        
                        <div id="opera" class="input">
                            <div> <label style="position:absolute; margin-left:-1px; margin-top:-19px; color:#FFFFFF;">EXTENSION AREA:</label></div>
                            <div>
                                <select name="ext_from2" id="ext_from2" style="width:287px; height:25px; margin-left: 0px; margin-top:1px;" onchange ="change_ext_from2();" >
                                    <option value="0"></option>
                                    <?php foreach ($extenFrom2 as $ex) { ?>
                                        <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion3->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                    <?php } ?>
                                </select> 
                            </div>   
                        </div>
                    </td>

                    <td>
                            <div id="opera" class="input" >

                                <div> <label style="position:absolute; margin-left:-13px; margin-top:-19px; color:#FFFFFF;">EXTENSION AREA:</label></div>
                                <div>
                                    <select name="ext_to2" id="ext_to2" style="width:286.5px; margin-left:-14px; height:25px; margin-top:1px;" onchange="change_ext_to2();">
                                        <option value="0"></option>
                                        <?php foreach ($extenTo2 as $ex) { ?>
                                            <option value="<?php echo $ex['id'] ?>"  <?php echo ($extencion4->id == $ex['id']) ? ' selected ' : ''; ?> > <?php echo $ex['place'] . ' ' . $ex['address'] ?></option>
                                        <?php } ?>
                                    </select> 
                                </div>    
                            </div>
                    </td>
                    
                    <td>
                
                            <div id="opera" class="input" >

                                <div><label style="position:absolute; margin-left:-16px; margin-top:-19px; color:#FFFFFF;">ROOM #</label></div>
                                <div>
                                    <input name="room2" type="text" style=" width:72px; margin-left:-16px; margin-top:1px; height:21px;" id="room2" size="4" maxlength="6" value="<?php echo $reserva->room2; ?>" />
                                </div>   
                            </div>
                        
                    </td>
                    
                    
                </tr>
                
            </table>
                
            <table style="margin-top:7px; margin-left:0px;" align="left" cellspacing="0" border="0"> 
                
                <tr>
                    
                    <td>
                        <div id="opera" class="input">
                            <div style="width:300px;">  <label style="margin-left: -1px; margin-top: -7px; width:250px; color:#FFFFFF;">EXTENSION PICK UP POINT/ADDRESS</label></div>
                            <div style="width:200px;">
                                <div class="ausu-suggest" >
                                    <input name="exten3" type="text" style="margin-left: 0px; width: 320px; "  id="exten3" size="46" maxlength="55" value="<?php echo $reserva->pickup_exten3; ?>"   <?php
                                    if ($extencion3->id == 0) {
                                        echo ' disabled="disabled" ';
                                    }
                                    ?> autocomplete="off" />
                                    <input name="id_ext_pikup3" type="hidden"  id="id_ext_pikup3" size="40" maxlength="55" value="" />
                                </div>
                            </div>
                        </div>
                    </td>
                    
                    <td>
                        <div id="opera" class="input">
                            <div style="width:265px;"><label style=" margin-left: 12px; margin-top: -7px; width: 310px;  color:#FFFFFF;"  >EXTENSION DROP OFF POINT/ADDRESS</label></div>
                            <div style="width:200px;">
                                <div class="ausu-suggest" >
                                    <input name="exten4" type="text"  style="margin-left: 13px; width: 320px; " id="exten4" size="47" maxlength="55" value="<?php echo $reserva->pickup_exten4; ?>"  <?php
                                    if ($extencion4->id == 0) {
                                        echo ' disabled="disabled" ';
                                    }*/
                                    ?>  autocomplete="off" />
                                    <input name="id_ext_pikup4" type="hidden"  id="id_ext_pikup4" size="40" maxlength="55" value="" />
                                </div>
                            </div>
                        </div>
                    </td>
                    
                </tr>
                
            </table>
                
            </fieldset> -->
<fieldset id="pymen" style="display:none; margin-top:8px; height:433px; border-radius: 5%;" class="super" ><legend style="border:1px solid #00C; background:#fff" >PAYMENT INFORMATIONS</legend>
                <input type="hidden" value="0" >
                <table width="100%">
                    <tr><td>
                            <div id="opera" class="input" style="padding-top:5px; width:450px;">
                                <table width="100%" id="tr_complementary"  style="display:
                                <?php
                                if ($agencia->id == -1) {
                                    echo 'block';
                                } else {
                                    echo 'none';
                                }
                                ?>;display:none;" ><tr>
                                        <td width="2%">
                                            <input  id="opcion_pago_complementary" value="7"  type="radio"  <?php echo ($typo_pago == strtoupper('Complementary')) ? ' checked ' : ''; ?>    ></td>
                                        <td width="20%"><label for="opcion_pago_complementary">Complementary</label></td>
                                    </tr></table>
                                <table width="100%" height="125" id="tableorder" style="display:none;">
                                    <tr>
                                        <td  colspan="3" width="34%" height="" align="center"  >
                                            <table width="100%" align="center" id="tableTypeSaldo"
                                                   style="display:
                                                   <?php
                                                   if ($agencia->id != -1 && $agencia->type_rate == 0) {
                                                       echo 'block';
                                                   } else {
                                                       echo 'none';
                                                   }
                                                   ?>;" >
                                                <tr>
                                                    <td colspan="6"   height="20" id="titlett" align="center"  ><strong>PAYMENT OPTION</strong></td>
                                                </tr>

                                                <tr>
                                                    <td>&nbsp;</td>
                                                    <td width="2%">
                                                        <input  id="opcion_saldo1" value="1" type="radio"  <?php echo ($typo_saldo == 'FULL') ? ' checked ' : ''; ?> ></td>
                                                    <td width="20%">Paid Full</td>
                                                    <td width="2%"><input   value="2" <?php echo ($typo_saldo == 'BALANCE') ? ' checked ' : ''; ?>   type="radio"></td>
                                                    <td width="20%">Paid Balance</td>
                                                    <td>&nbsp;</td>
                                                <tr>
                                                <tr><td colspan="6"><hr /></td></tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td  width="34%" height="35" id="titlett" align="left"  ><strong>PRED-PAID</strong></td>
                                        <td  width="34%" height="35" id="titlett" align="left"  ><strong>COLLECT ON BOARD</strong></td>
                                        <td  width="34%" height="35" id="titlett" align="left"  ><strong>VOUCHER</strong></td>
                                    </tr>
                                    <tr style="display:none;">
                                        <td valign="top"  >
                                            <table style="width:160px;">
                                                <tr>
                                                    <td colspan="2"></td>
                                                </tr>
                                                <tr id="tipo_passager" style="height:20px;width:160px; display:block;">
                                                    <td width="5"><input   value="2" agencypago="true" type="radio" class="opcion_pago" <?php echo ($typo_pago == strtoupper('Passenger Credit Card') || $typo_pago == strtoupper('Credit Card')) ? ' checked ' : ''; ?>></td>
                                                    <td nowrap="nowrap" width="" align="left"><label  for="opcion_pago_passager" class="opcion_pago">Credit Card no fee</label></td>
                                                </tr>
                                                <tr id="tipo_agency" style="height:20px; width:160px;  display:block">
                                                    <td width="5"><input    value="1" agencypago="true" type="radio" class="opcion_pago" <?php echo ($typo_pago == strtoupper('Agency Credit Card')) ? ' checked ' : ''; ?>></td>
                                                    <td  nowrap="nowrap" width="" align="left"> <label  for="opcion_pago_agency" class="opcion_pago">Credit Card with fee</label></td>
                                                </tr>
                                                <tr id="tipo_passager_3" style="height:20px;width:160px; display:block">
                                                    <td width="5"><input   value="6" agencypago="true" type="radio" class="opcion_pago" <?php echo ($typo_pago == strtoupper('Cash in terminal')) ? ' checked ' : ''; ?>></td>
                                                    <td nowrap="nowrap" > <label  for="opcion_pago_predpaid_cash" class="">Cash</label></td>
                                                </tr>
                                                <tr  style="height:20px;width:160px; display:block">
                                                    <td width="5"><input    value="10" agencypago="true" type="radio" class="opcion_pago"></td>
                                                    <td nowrap="nowrap" > <label for="opcion_pago_predpaid_check" class="">Check</label></td>
                                                </tr>

                                            </table>
                                        </td>
                                        <td valign="top">
                                            <table style="width:160px;" >
                                                <tr>
                                                    <td colspan="2"></td>
                                                </tr>
                                                <!--<?php if ($agen_account['opcion3'] != 0) { ?>
                                                                                                                                                                                            >
                                                <?php } ?>
                                                <?php if ($agen_account['opcion4'] != 0) { ?> 
                                                 <tr id="tipo_Cash">
                                                                                                                                                                                                                                                    <td>
                                                                                                                                                                                                                                        >
                                                <?php } ?>
                                                </tr>-->
                                                <tr id="tipo_passager_2" style="">
                                                    <td width="5"><input    value="8" agencypago="true" type="radio" class="opcion_pago" ></td>
                                                    <td nowrap="nowrap" width="" align="left"><label for="opcion_pago_passager_2" class="opcion_pago">Credit Card no fee</label></td>
                                                </tr>
                                                <tr id="tipo_CrediFee">
                                                    <td width="5"><input  value="3" type="radio" class="opcion_pago" <?php echo ($tipo_pago == strtoupper('Credit Card+ 4 % FEE')) ? ' checked ' : ''; ?>></td>
                                                    <td align="left"  nowrap="nowrap" > <label  for="opcion_pago_CrediFee" class="opcion_pago">Credit Card with fee</label></td>
                                                </tr>
                                                <tr id="tipo_Cash">
                                                    <td width="5"><input   value="4" type="radio" class="opcion_pago" <?php echo ($tipo_pago == strtoupper('Cash')) ? ' checked ' : ''; ?>></td>
                                                    <td align="left"><label  for="opcion_pago_Cash" class="opcion_pago">Cash</label></td>
                                                </tr>
                                                <tr id="tipo_Cash_2">
                                                    <td width="5"><input  id="opcion_pago_Cash_2" value="9" type="radio" class="opcion_pago"></td>
                                                    <td align="left"><label  for="opcion_pago_Cash_2" class="opcion_pago">Check</label></td>
                                                </tr>
                                            </table>
                                        </td>
                                        <td align="left" valign="top" >
                                        <?php if ($agen_account['opcion5'] != 0) { ?>
                                                <div id="tipo_Voucher" style="">
                                                    <table>
                                                        <tr>
                                                            <td>
                                                                <input  id="opcion_pago_Voucher" value="5" type="radio"   <?php echo ($typo_pago == strtoupper('Credit Voucher')) ? ' checked ' : ''; ?> >
                                                            </td>
                                                            <td>
                                                                <label id="label_tipo_Cash" for="opcion_pago_Voucher" class="opcion_pago">Credit Voucher</label>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                        <?php } ?>
                                        </td>
                                    </tr>
                                </table>
                                <!--Aqui-->
                                <div id="opera" class="input" style="width: 525px; margin-top:-73px; margin-left:-5px;">
                                    <table>
                                        <tr>
                                            <td>
                                                <table>
                                                    <tr>
                        <!--                                <td style="width:50px">  &nbsp;
                                                            <a id="enviarF" style="display:none" ><img src="<?php /*echo $data['rootUrl']; */?>global/img/admin/charge.png" /></a>
                                                        </td>-->
                                                        <td style="width:60px;">
                                                            &nbsp;
<!--                                                            <a id="btn-save2" title="Save"><img width="50" height="40" src="<?php /*echo $data['rootUrl']; */?>global/img/admin/save2.png" /></a>-->

<!--                                                            <input type="button" style="display:none" id="enviar_escondido" value="0"  />
                                                            <a  id="pago_agente" style="display:block" ><img style="width: 77px; margin-left:3px;  margin-top: 164px;cursor:pointer" src="<?php /*echo $data['rootUrl']; */?>global/img/admin/charge.png" /></a>-->
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>

                                            <td>
<!--                                                <table style="margin-left:-8px; filter: alpha(opacity=35); background-color: #a4a4a4; height: 5px; -moz-opacity: 0.3; opacity: 0.3; -khtml-opacity: 0.3;" border="0" width="446" align="center">
                                                    <tbody>
                                                    <tr>
                                                    <td> </td>
                                                    </tr>
                                                    </tbody>
                                                    </table>-->


                                                <table>
                                                    <tr>
                                                    </tr>
                                                    <tr>
                                                        <td>
<!--                                                            <label  style="padding-left:22px; font-size:16px; color:#4B0082; "><strong style="padding-bottom:10px;">TOTAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ </strong></label>-->
                                                        </td>
                                                        <td>
                                                            <!--                                                            <label  style="font-size:16px; padding-left:3px; font-weight:bold;" id="totalPagar" ></label>-->
                                                            <!--                                                            <font  style="float: left; height:23px; text-align: center;border: #AC1B29 solid thin; background-color: #AC1B29; width: 104px; margin-top:3px; font-size:22px; padding-left:3px; font-weight:bold; color:#fff;" id="totalPagar" ></font>
                                                                                                                        <input name="totP" type="hidden"  id="totP" value="" />-->
                                                        </td>
                                                    </tr>
                                                    <tr>

                                                        <td>
<!--                                                            <label  style="padding-left:21px; font-size:14px; margin-top: 6px; "><strong style="padding-bottom:0px; color:#090;">Total Amount Paid</strong></label>-->
                                                        </td>
                                                        <td>
<!--                                                            ><label id="saldoPagado" <strong style="font-size:16px; padding-left:20px;" >$  <?php /*echo number_format($pagado, 2, '.', ',');*/ ?></strong></label>-->
                                                            
                                                        </td>
                                                    </tr>
<!--                                                    <td>&nbsp;</td>-->
                                                    <tr style="">
                                                        <td>
<!--                                                            <label  style="padding-left:20px; font-size:12px; "><strong   id="txtamountpendiente" style="padding-bottom:0px; color:#F00">Amount to Collect </strong></label>-->
                                                        </td>
<!--                                                        <td><select name="opcion_pago" id="op_pago_id" style="margin-left:10px;">
                                                                <optgroup label="COLLECT ON BOARD">
                                                                    <option value="8">Credit Card no fee</option>
                                                                    <option value="3">Credit Card with fee</option>
                                                                    <option value="4">Cash</option>
                                                                    <option value="9">Check</option>
                                                                </optgroup>
                                                                <optgroup label="VOUCHER">
                                                                    <option value="5">Credit Voucher</option>
                                                                </optgroup>
                                                                <optgroup label="COMPLEMENTARY">
                                                                    <option value="7">Complementary</option>
                                                                </optgroup>
                                                            </select>
                                                            <label style="font-family: Verdana, Geneva, sans-serif; color:#4B0082; font-size: 16px; font-weight: bold; margin-left:14px;    margin-top: -4px;" id="saldoporpagar" >$  <?php /*echo number_format(($saldoxPagar), 2, '.', ',');*/ ?></label>
                                                                                                                        <label style="font-family: Verdana, Geneva, sans-serif; color:#4B0082; font-size: 16px; font-weight: bold; margin-left:27px;    margin-top: -5px;" id="" >$  </label>
                                                            
                                                        </td>-->
                                                    </tr>
<!--                                                    <td>&nbsp;</td>-->

                                                    <tr id="tr_otheramount"   ><td>
<!--                                                            <label  style="padding-left:20px; width:146px; font-size:16px; color:#4B0082;"><strong style="padding-bottom:10px;">Other Amount&nbsp;$</strong></label>    </td>-->
                                                        <td>
<!--                                                            <input type="text" id="otheramount" name="otheramount" style="text-align: center;font-size: 22px; float:left;width:100px; font-weight:bold; font-family:Verdana, Geneva, sans-serif; color: #fff;border: #AC1B29 solid thin; background-color: #AC1B29; width: 104px;float:left;width:106px; font-weight:bold; font-family:Verdana, Geneva, sans-serif; color:fff;"" value="<?php /*echo number_format($reserva->otheramount, 2, '.', ','); */?>" onkeyup="CalcularTotalTotal();"  />-->
<!--                                                             <input type="text" id="otheramount" name="otheramount" style="text-align: center;font-size: 22px;font-weight: bold;color: #fff;border: #AC1B29 solid thin; background-color: #AC1B29; width: 104px;float:left;width:106px; font-weight:bold; font-family:Verdana, Geneva, sans-serif; color:fff;" value="" onkeyup="CalcularTotalTotal();"  />-->
                                                        </td>
                                                    </tr>
<!--                                                    <td>&nbsp;</td>-->
<!--                                                    <tr id="pay_amount_html" style="height: 50px;">
                                                        <td>
                                                            <label  style="padding-left:22px; font-size:16px;color:#4B0082;"><strong style="padding-bottom:10px;">Add Payment&nbsp;&nbsp;$ </strong></label>
                                                        </td>
                                                        <td>
                                                            <input autocomplete="off" type="text" class="txtNumbers"  name="pay_amount" id="pay_amount" value=""  style="padding-left:5px; text-align: center;font-size: 22px;font-weight: bold;color: #fff;border: 1px #33F solid; background-color: #00f; padding-left:5px; width:100px; height:20px;float:left; margin-top:4px;" />
                                                            <input autocomplete="off" type="text" class="txtNumbers"  name="pay_amount" id="pay_amount" value=""  style="padding-left:5px; width:100px; height:20px;float:left;" />
                                                            <select name="opcion_pago_2" style="margin-left:10px; margin-top: -20px;">
                                                                <optgroup label="PRED-PAID">
                                                                    <option value="2">Credit Card no fee</option>
                                                                    <option value="1">Credit Card with fee</option>
                                                                    <option value="6">Cash</option>
                                                                    <option value="10">Check</option>
                                                                </optgroup>
                                                                <optgroup label="COLLECT ON BOARD">
                                                                    <option value="8">Credit Card no fee</option>
                                                                    <option value="3">Credit Card with fee</option>
                                                                    <option value="4">Cash</option>
                                                                    <option value="9">Check</option>
                                                                </optgroup>

                                                            </select>
                                                        </td>
                                                    </tr>-->
                                                </table>
                                            </td>
                                            <td>
                                                <div id="estadoTranssacion">

                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                            </div>
                        </td>



                        <td>


                        </td>


                    </tr>
                    <tr>
                        <td colspan="2">

                        </td>
                    </tr>
                </table>
                </td>
                </tr>


                <input type="text"  value="0.00"  style="display:none; border: 1px #33F solid; margin-top: -58px;  margin-right: -123px; text-align: right; height: 25px; font-size: 22px; width:106px;" autocomplete="off" />
                
                <table class="oliveti" style="width: 39%; border: 2px solid #000; margin-left: 10px; margin-top: -7px; height: 159px;">
                    <caption class="rojo" style=" font-weight:bold; font-size:16px; color:#fff; border-radius: 25px 0px 0px 0px; border: 2px #000 solid;">Passenger Payment Information</caption>


                    <tr  style=" height:33px; width:180px; ">

                        <td style="width: 700px; margin-top:-49px; ">
                            <label  style="padding-left:92px; font-size:16px;"><strong   id="txtamountpendiente" style="padding-bottom:0px; color:#000;">Amount to Collect&nbsp;$</strong></label>
                        </td>
                        <td>
                            <input type="text"   class="verd"  title="" value="" style="font-family: sans-serif; font-size: 22px; color:#000; font-weight: bold; margin-top: 0px; margin-right:6px; text-align:right; width: 106px;"  onKeyUp="dupliac(); ponDecimales(2);"   onkeypress="return soloNumeros(event); "  autocomplete="off" />    
                            <input type="text"  class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />             
                            
                        </td>
                    </tr>                    
                   

                    <tr style="height:33px; width: 700px; " >
                        <td>

                            <label  style=" padding-left:77px; font-size:16px; margin-left: 68px; margin-top: -53px; "><strong style="padding-bottom:10px; color:#000;">Paid Driver&nbsp;$</strong></label>
                            <input type="button"  name="btn_rever_cob" title="Reverse Payment" class="button_sliding_bg" style="display:none; position:absolute; background-color: #8c261a; border-color: lavenderblush; cursor:pointer; color:#fff; margin-left: 11px; margin-top: -2px; padding:2.1px; padding-left:3px; width:17px; height:18px; font-weight: bold; font-size:9px;"  size="20"   value="X" onclick="rever_collect_on_board();"  />
                        </td>
                        <td>

                            <input type="text"  class="brown2" style="display:none; font-family: sans-serif; font-size: 22px; color:#000; font-weight: bold; padding-left:23px; margin-left: -22px; width: 83px;" value="<?php echo number_format($pagado, 2, '.', ''); ?>" onKeyUp="CalcularTotalTotal();" onclick="CalcularTotalTotal();"  />

                            <input autocomplete="off" readonly="readonly" type="text"   class="brown3"   style="text-align: right; height: 25px; font-size: 22px;font-weight: bold;color: #000; border: #33F solid thin; margin-top: -3px; margin-right:6px; width: 104px; float:left; width:106px; font-weight:bold; color:#000;" value="<?php echo number_format($reserva->paid_driver, 2, '.', ''); ?>" onKeyUp="CalcularTotalTotal();" onclick="valida_pago(this,'one');" />
                            <input  type="text"   style="display:none;" value=""  />
                            <input type="text"   class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                            

                        </td>
                        
                        <div style="position:absolute; margin-left:8px; margin-top:12px;">
                                    
                            <div  style="display:none; position:absolute; margin-left:380px; margin-top:100px;" class="triangulo1"></div>
                            <div  style="display:none; position:absolute; margin-left:395px; margin-top:100px;" class="triangulo2"></div>
                            <div  style="display:none; position:absolute; margin-left:410px; margin-top:100px;" class="triangulo3"></div>
                            <div  style="display:none; position:absolute; margin-left:425px; margin-top:100px;" class="triangulo4"></div>
                            <div  style="display:none; position:absolute; margin-left:440px; margin-top:100px;" class="triangulo5"></div>
                            <div  style="display:none; position:absolute; margin-left:455px; margin-top:100px;" class="triangulo6"></div>
                            <div style="display:none; position:absolute; margin-left:470px; margin-top:100px;" class="triangulo7"></div>
                            <div  style="display:none; position:absolute; margin-left:485px; margin-top:100px;" class="triangulo8"></div>
                            <div  style="display:none; position:absolute; margin-left:500px; margin-top:100px;" class="triangulo9"></div>
                            <div  style="display:none; position:absolute; margin-left:515px; margin-top:100px;" class="triangulo10"></div>

                        </div>
                        
                        
                    </tr>

                    <tr style="height:33px; width: 700px; " >
                        <td>
                            <label  style=" padding-left:77px; font-size:16px; margin-top: -30px; margin-left: -29px;"><strong id="Passenger_Balance_Due" style="padding-bottom:10px; color:#000;">Passenger Balance Due&nbsp;$</strong></label>

                        </td>

                        <td>
                            <!--<?php /*echo number_format($reserva->passenger_balance_due, 2, '.', '');*/?>-->
                            <input type="text" class="ama2"  readonly="readonly" style="border: 1px #33F solid; margin-top: -1px; margin-right:6px; text-align: right; height: 25px; font-size: 22px; font-weight:bold; width:106px;" value=""  autocomplete="off" />
                            <input  type="text"   style="display:none;" value=""  />
                            <input type="text"  class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  

                        </td>
                    </tr>



                </table>


                <table class="oliveti" style="width: 39%; border: 2px solid #000; margin-left: 10px; margin-top: 6px; height: 185px; ">

                    <caption class="cerati" style="  font-weight:bold; font-size:16px; color:#fff; border: 2px #000 solid;">Agency Payment Information</caption>

                    <tr style="height:3px; width: 700px;">
                        <td>
                            <b style="display:none; font-size: 18px; margin-left: 3px; ">Agency Request to Collect&nbsp;$</b>
                        </td>
                        <td>
                            <input type="text"   style="display:none; margin-top: 2px; margin-left: 10px; text-align: center; height: 25px; font-size: 22px; font-weight: bold; color: #000;border: #AC1B29 solid thin; width: 103px; float:left; width:106px; font-weight:bold; color:fff; border: 1px #33F solid;" value="<?php echo $reserva->otheramount; ?>" onkeyup="CalcularTotalTotal();ClkPay_Amount();" onclick="valida_pago(this,'one');" autocomplete="off" />
                            <input type="text"  value="0.00"  style="display:none; margin-left: 366px; margin-top: -252px; padding-left:5px; width:160px; height:25px;  border: 1px solid #000;" autocomplete="off"  />
                            <input type="text"  class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                        </td>
                    </tr>    
                    <tr style="height:33px; width: 700px;">
                        <td>
                            <b style="font-size: 16px; padding-left: 124px; margin-top:3px;">Total Net Fare&nbsp;$</b>
                        </td>
                        <td>
                            <!--                            <font  class="orangered" style=" height:25px; text-align: right; float: right; border: 1px #33F solid; width: 106px; margin-top:-8px;  margin-right: 6px; font-size:22px; font-weight:bold; color:#fff;" id="totalPagar" ></font>-->
                            <input type="text"  class="orangered" style="height:25px; text-align: right; float: right; border: 1px #33F solid; width: 106px; margin-top:-8px;  margin-right: 6px; font-size:22px; font-weight:bold; color:#fff;" value="" readonly="readonly" autocomplete="off" />
                            <input type="text"  class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                            <input type="hidden"  value="" /> 

                        </td>
                    </tr>
                    <tr id="pay_amount_html" style="height: 33px; width: 700px;">
                        <td>
                            <b style="position: absolute; margin-top: -12px; color:#000;font-size: 16px; margin-left:101px;">Amount Pre-Paid&nbsp;$</b>                                       
                            <input type="button"  name="btn_rever_prepaid" title="Reverse Payment" class="button_sliding_bg" style="display:none; position:absolute; background-color: #8c261a; border-color: lavenderblush; cursor:pointer; color:#fff; margin-left: 254px; margin-top: -13px; z-index: 1; padding:2.1px; width:17px; height:17px; font-weight: bold; font-size:9px;"  size="20"   value="X" onclick="rever_prepaid();"  />
                            <input type="button"  name="btn_remove_prepaid1" title="Remove Payment" class="button_sliding_bg3" style="display:none; position:absolute; background-color: #E21F26; border-color: lavenderblush; cursor:pointer; color:#fff; margin-left: 251px; margin-top: 8px; padding:2.1px; padding-left:3px; width:108px; height:16px; font-weight: bold; font-size:9px; padding-top:2.5px; font-style: oblique; border: 1px solid #000;"  size="20"   value="Remove Payment" onclick=""  />
                        </td>
                        <td>
                            <input type="text"  readonly="readonly" class="azu" value="<?php echo number_format($reserva->pred_paid_amount, 2, '.', ''); ?>"  onKeyUp="CalcularTotalTotal();" style="margin-top:-8px; margin-left: 2px; width: 106px; height:25px;  text-align: right; font-size: 22px; font-weight: bold; color: #000; border: 1px #33F solid;" onclick="valida_pago2(this,'two')" autocomplete="off"/>
                            <input type="text"  style="display:none;" value="" />
                            <input type="text"   class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                        </td>
                    <div style="position:absolute; margin-left:8px; margin-top:-1px;">
                                    
                        <div  style="display:none; position:absolute; margin-left:380px; margin-top:93px;" class="circle1"></div>
                        <div  style="display:none; position:absolute; margin-left:395px; margin-top:93px;" class="circle2"></div>
                        <div  style="display:none; position:absolute; margin-left:410px; margin-top:93px;" class="circle3"></div>
                        <div  style="display:none; position:absolute; margin-left:425px; margin-top:93px;" class="circle4"></div>
                        <div  style="display:none; position:absolute; margin-left:440px; margin-top:93px;" class="circle5"></div>
                        <div  style="display:none; position:absolute; margin-left:455px; margin-top:93px;" class="circle6"></div>
                        <div  style="display:none; position:absolute; margin-left:470px; margin-top:93px;" class="circle7"></div>
                        <div  style="display:none; position:absolute; margin-left:485px; margin-top:93px;" class="circle8"></div>
                        <div  style="display:none; position:absolute; margin-left:500px; margin-top:93px;" class="circle9"></div>
                        <div  style="display:none; position:absolute; margin-left:515px; margin-top:93px;" class="circle10"></div>

                    </div>   
                        
                        
                    </tr>
                    
<!--                    <tr>
                        <td>
                            
                        </td>
                    </tr>-->

                    <tr style="height:33px; width: 700px;">
                        <td>
                            <b style="padding-left:123px;"><strong style="position:absolute; margin-top: -4px; margin-left:-33px; color:#000;font-size: 16px; font-weight:bold;">Total Amount Paid&nbsp;$</strong></b>                                         
                        </td>
                        <td>
                            <input type="text"  class="verdefos3"   value="<?php echo number_format($reserva->total_paid, 2, '.', ''); ?>"  style="text-align: right; border: 1px #33F solid; width:106px; margin-top:-6px; margin-left: 1px;  height: 25px; font-size: 22px; font-weight: bold;" readonly="readonly" autocomplete="off"/>
                            <input type="text"   style="display:none;" value="" />
                            <input type="text"   class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                        </td>


                    </tr>  

                    <tr style="height:33px; width: 700px;">
                        <td>
                            <b style="padding-left:123px;"><strong style="position:absolute; margin-top: -5px; margin-left:-51px; color:#000;font-size: 16px; font-weight:bold;">Agency Balance Due&nbsp;$</strong></b>                                         
                        </td>
                        <td>
                            <input type="text"    class="roge"  style="text-align: right; border: 1px #33F solid; margin-top:-8px; margin-left: 1px; height: 25px; font-size: 22px; width:106px; font-weight: bold;" value="" readonly="readonly" autocomplete="off"/>
                            <input type="text"   class="" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />  
                            
                        </td>


                    </tr>  



                    <div>
                        <input title="Add Payment" class="button_sliding_bg" type="button"  name="pay_driver" onclick="mostrarVentana2();" style="position:absolute; border-color: #000; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; margin-left: 386.2px; margin-top: -92px; height: 24px; cursor:pointer; color: #fff; font-weight: 700; width: 156px;  padding: 3px; padding-left: 2px; font-style: oblique;" value="Add Payment"/>
                    </div>
                    
                    <div>
                        
                    
                     <a id="delpaykk" name="delpaykk" class="button_sliding_bg2"  style="display:none; cursor:pointer; position:absolute; font-style: italic; margin-left: 386px; color: #fff; margin-top: 6.4px; font-weight: bold; font-size: 10px; padding-top: 6px; height: 2px; width: 118.5px; text-decoration:none;" href="javascript:ventanaSecundaria('<?php echo $data['rootUrl'] ?>admin/pagos/recibirId/<?php echo $reserva->id ?>/<?php echo $tipo_reserva ?>')"  onClick="">REMOVE PAYMENTS</a>
    
                    
                    </div>

                    <table width="100%" style="position:absolute; background-color: transparent; margin-top: -373px;; margin-left:547px; height:175px; width:180px;">
             
                        <tr>
                            <td style="margin-left:1px; margin-top:0px;">

                    
                            <div id="miVentana2" style="position: absolute; width: 175px; height: 169px; top:-21px; left: 2px;  font-family:Verdana, Arial, Helvetica, sans-serif; font-size: 12px; font-weight: normal; border: #333333 3px solid; background-color: #FAFAFA; color: #000000; display:none; ">

                                <div style="font-weight: bold; text-align: center; color: #FFFFFF; padding: 5px; background-color:#006394">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

        <!--    <label  style="padding-left:57px; font-size:16px; "><strong style="padding-bottom:10px; color: #000; margin-left:-55px;">$</strong></label> -->
                                <p>
                                    <label  id="tap" style="padding-left:57px; font-size:10px; "><strong style="padding-bottom:10px; color:#090; margin-left:-50px;">Total Amount Paid $</strong></label> 
                                    <input type="text"   readonly="readonly" style="text-align: right; font-family: sans-serif; font-size: 10px; color:#090; font-weight: bold; padding-left:4px; margin-left: 126px; margin-top: -16px; width: 38px;" value="<?php echo number_format($pagado, 2, '.', ''); ?>"  />
                                </p>

                                <label  id="dolares" name="dolares" style="padding-left:39px; font-size:16px; "><strong style="padding-bottom:10px; color:#006394; ">$</strong></label> 

                                <!--class="money"-->
                                <!--ponDecimales(2);-->
                                <input type="text" size="12" style="font-size: 22px; font-weight:bold; text-align:right; margin-top:-21px; margin-left:54px; width:114px; height:20px;" value="" onkeypress="return solopagodriver(event);"  onkeyup="dupliPago(); ponDecimales(2);" placeholder="0.00" autocomplete="off"/>

                                <input type="text"  n size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />

                                

<!--                                <input type="text" id="temp_driver"  name="temp_driver" title="Temp Driver" size="12" style=" margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />
                                
                                <input type="text" id="temp_prepaid"  name="temp_prepaid" title="Temp Prepaid" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />
                                -->
                                
                                <input type="text"   title="temp W/Fees" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo $cargos; ?>" />
                                <input type="text"  title="temp prepaid W/Fees" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo $cargospp; ?>" />
                                
                                
<!--                                <input type="text" id="collect" name="collect" title="Paid Driver" size="12" style=" margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo number_format($reserva->paid_driver, 2, '.', ''); ?>" />

                                <input type="text" id="prepaid" name="prepaid" title="Amount Paid" size="12" style="display:none;  margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo number_format($reserva->pred_paid_amount, 2, '.', ''); ?>" />
-->


        <!--    <input name="someTextBox" type="text" id="someTextBox" size="12" style="display:none; margin-top:9px; margin-left:27px; width:114px; height:20px;" value="0.00" />-->


                                <select name="opcion_pago1"  style="margin-left:9px; margin-top: 8px;" disabled= "disabled" onclick="calculos();">
                                    <option style="color:red;" id="" value="0">((( Amount Paid )))</option>
                                    <optgroup label="PRE-PAID">
                                        <option value="20">Credit Card NO Fee</option>
                                        <option value="21">Credit Card with Fee</option>
                                        <option value="22">Cash</option>
                                        <option value="23">Check</option>
                                    </optgroup>
                                    <option style="color:blue;" id="" value="1">((( Paid Driver )))</option>
                                    <optgroup label="COLLECT ON BOARD">
                                        <option value="24">Credit Card NO Fee</option>
                                        <option value="25">Credit Card with Fee</option>
                                        <option value="26">Cash</option>
                                        <option value="27">Check</option>
                                    </optgroup>       


                                </select>

                                <div class="paymentvertblack" style="padding: 9px;  text-align: center; margin-top: 9px;">

<!--                                <input type="button" id="btnExit" name="btnExit" onclick="Exit();" style=" background-color: #006394; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; padding:1px; width:43px; font-weight: 700;" size="20"  value="Exit"  />
                                    <input type="button" id="btnCancelar" name="btnCancelar" onclick="resetal();reset2();" style="background-color: #006394; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; font-weight: 700;"  size="20" value="Reset"  />
                                    <input type="button" id="btnAceptar" name="btnAceptar" size="20" value="Save"  style="border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; font-weight: 700;" onclick="ocultarVentana2();" disabled="true" />-->
                                    <div>
                                        <input type="button"  name="btnExit" style=" background-color: #006394; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; padding:5px; width:39px; height: 24px; font-size:9px; margin-top: 3px; margin-left: -124px; font-weight: bold;"  size="20"  value="EXIT" onclick="Exit();"  />
                                    </div>

                                    <div>
                                        <input type="button"  name="btnCancelar" style=" background-color: grey; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; cursor:pointer; color:#fff; margin-left: -26px; margin-top: -24px; padding:5px; padding-left:3px; width:49px; font-weight: bold; font-size:9px;"  size="20" disabled="true"  value="CANCEL" onclick="resetal(); reset2();"  />
                                    </div>

                                    <div>
                                        <input type="button" name="btnAceptar"  size="20" value="SAVE"  style=" border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; width:68px; height: 24px; font-size:9px; font-weight: bold; margin-left: 98px; margin-top: -24px;" onclick="ocultarVentana2();" disabled="true" />
                                    </div>

                                    <div>    
                                        <input type="button"  name="btnPagolinea"  size="20" value="MAKE CHARGE"  style=" display:none; border-color: palegreen; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; padding:5px; padding-left:2px; width:68px; height: 24px; font-weight: bold; margin-right: -100px; margin-top: -24px; font-size:8px;  color:#fff; background-color:#006400;" onclick="" disabled="true" />
                                    </div>

                                    <div>
                                        <input type="button" name="btndecline"  size="20" value="CANCEL"  style=" display:none; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; padding:5px; padding-left:3px; width:49px; height: 24px; font-weight: bold; margin-top: -24px; font-size:9px; margin-left: -26px; color:#fff; background-color:red;" onclick="declinar();" disabled="true" />
                                    </div>

                                    <div>
                                        <input type="button"  name="btncancol"  size="20" value="CANCEL"  style="display:none; background-color:red; border-color: #fff; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px; padding:5px; padding-left:3px; width:49px; height: 24px; font-weight: bold; margin-top: -24px; font-size:9px; margin-left: -26px; color:#fff;" onclick="Exit_Cob();" disabled="true" />
                                    </div>

                                    
                                </div>

                            </div> 
                            
                       </td>            
                </tr>
                
            </table>
                   
                <img class="ventana-imagen-class" style="display: none; margin-left:549px; margin-top:-396px; width: 181px; height: 175px; " src="<?php echo $data['rootUrl']; ?>global/img/admin/ventana.png" />

                </table>


                <table class="oliveti" style="width: 22%; border: 2px solid #000; margin-left: 732px; margin-top: -394px; height: 155px; border-radius: 0px 0px 0px 0px;">

                    <caption class="olivo" style=" font-weight:bold; font-size:15px; color:#fff; border-radius:0px 25px 0px 0px; border: 2px #000 solid;">Extra Charges & Discounts</caption>



                    <td>&nbsp;</td>


                    <tr style="width: 700px;" >
                        <td>
                            <label  style=" float:right; font-size:14px; margin-top:-19px; "><strong style="padding-bottom:10px; color: #000;">Discount&nbsp;%</strong></label>
                        </td>

                        <td>
                            <input type="number"    class="descuentos"  maxlength="3" style="text-align: right; margin-top: -21px;  margin-right: 6px; color:#000; font-size: 22px;font-weight: bold; height:25px; width:80px; border: #33F solid thin; float:right;" onkeypress="return descuentoporc(event);" onkeyup="desporc();" onchange="desporc();" max="100" min="0"  value="0" autocomplete="off"/>
                            <input type="number" name="descuentop" id="descuentop" class="descuentos" maxlength="3" class="txtNumbers" value=""  autocomplete="off" style="display:none; text-align: right; color:#000; font-size: 22px;font-weight: bold; border: #33F solid thin; float:right; margin-top: -21px;  margin-right: 6px; height:25px; width:80px; " />
                        </td>
                    </tr>

                    <tr style="width: 700px;" >
                        <td>
                            <label  style="float:right; font-size:14px;  margin-top: 8px; "><strong style="padding-bottom:10px; color:#000;">Discount&nbsp;&nbsp;&nbsp;$</strong></label>

                        </td>

                        <td>                      
                            <input type="text" name="descuento_valor"  class="descuentos"  size="12"  style="float:right; border: 1px #33F solid; margin-top: 7px; margin-right: 6px; text-align: right; color:#000; font-size: 22px; font-weight: bold; height: 25px; width:80px;" value="<?php echo $reserva->descuento_valor; ?>" onkeypress="return solodescuento(event);" onkeyup="desval(); ponDecimales(2);" autocomplete="off" />
                            <input type="text" name="descuento_valorp" id="descuento_valorp"   class="descuentos" size="12" style="display:none; float:right; border: 1px #33F solid; margin-top: 7px;  margin-right: 6px;  text-align: right; color:#000; font-size: 22px; font-weight: bold; height: 25px; width:80px;" value="" autocomplete="off" />
                            <input type="text" name="descuento_temporal" id="descuento_temporal"  size="12" style="display:none; text-align: right; width: 47px;" value="0.00" autocomplete="off" />
                        
                        </td>
                    </tr>

                    <td>&nbsp;</td>


                    <tr  style="width: 700px;">

                        <td style="width: 700px;">
                            <label  style="float:right;  font-size:14px;  margin-top: -16px;"><strong style="padding-bottom:10px; color: #000;">Extra Charges&nbsp;$</strong></label>
                        </td>

                        <td>
                            <input name="extra" type="text" size="12" class="extracargos" style="float:right;  text-align: right; color:#000; margin-top: -17px; margin-right:6px;  width:80px; height:25px;  border: 1px #33F solid; font-family: sans-serif; font-size: 22px; font-weight:bold;"  value="<?php echo $reserva->extra_charge; ?>" onkeypress="return soloextra(event);" onkeyup="resetextra(); ponDecimales(2);" autocomplete="off" />
                            <input type="text" name="extrap" id="extrap"   size="12" style="display:none; float:right;  text-align: right; color:#000; margin-top: -21px; margin-right:6px;  width:80px; height:25px;  border: 1px #33F solid; font-family: sans-serif; font-size: 22px;"   value="" />
                            
                        </td>
                    </tr>

                    <div>
                        <a   style="display:none;" ><img style="width:0px; height: 28px; margin-top: -124px; margin-left: 386px; cursor:pointer" src="<?php echo $data['rootUrl']; ?>global/img/admin/charge.png" /></a>
                        <a  style="display:none;"><img style="width:0px; height: 28px; margin-top:-124px; margin-left: 386px;  " src="<?php echo $data['rootUrl']; ?>global/img/admin/chargedisabled.png" /></a>
                        <input type="text" id="pago_tarjeta" name="pago_tarjeta" title="Pago Tarjeta" value="0.00"  style="display:none; position:absolute;  border: 1px #FFF solid; margin-top: 23.2px;  margin-left: 628px; width: 68px; height:12px; text-align:right; font-size: 14px; padding-top:2px; background-color: yellow; color:#000;"  autocomplete="off"  />                                
                 
                    </div>

                    <li class="btn-toolbar" id="btn-save2">
                        
                        <div id="">
                            <input type="button" id="btn-save2" name="btn-save2" class="oliverty"  class=""  style="margin-left: 811px; margin-top: -210px;"  title="Save" value="SAVE" />
                        </div>
                    </li>



                </table>


<!--                <script>
                    $(function () {
                        $("#tabs").tabs();
                    });
                </script>-->

                <!--                <div id="tabs" style="margin-left:547px; margin-top:6px; width:386px; height:177px;">
                                    <ul>
                                        <li><a  href="#tabs-2">Saved Notes</a></li>
                                        <li><a title="Type your notes" href="#tabs-1">Add Notes</a></li>
                
                
                                    </ul>
                
                                    <div id="tabs-2">
                                        <textarea id="comments2" name="comments2" cols="0" rows="0"  disabled="disabled" style="border-color:blue; margin: 13px; width: 377px; height: 137px; margin-top:-11px; margin-left:-15px;"><?php /*echo trim($reserva->comments2); */?></textarea> 
                                    </div>
                                    <div id="tabs-1">
                                        <textarea id="comments" name="comments" cols="0" rows="0" style="border-color:red; margin: 13px; width: 377px; height:137px; margin-top:-11px; margin-left:-15px;"></textarea> 
                                    </div>
                
                
                                </div>-->



<!--                 <div style="margin-left:547px; margin-top:8px;">
                    <ul class="tabs" style=" width:97%;">

                        <li style=""><a href="#tab1">Saved Notes</a></li>
                        <li><a href="#tab2">Add Notes</a></li>

                    </ul>

                    <div class="tab_container" style="height:176px; width: 392px; ">
                        <div id="tab1" class="tab_content">

                            <textarea  name="comments2" cols="0" rows="0"  disabled="disabled" style=" width: 377px; height: 160px; margin-left:-15px; margin-top:-15px; "><?php //echo trim($reserva->comments2); ?></textarea>

                        </div>
                        <div id="tab2" class="tab_content">
                            <textarea  name="comments" cols="0" rows="0" style=" width: 377px; height: 137px; margin-left:-15px; margin-top:-11px;"></textarea>
                        </div>
                    </div>

                </div>     -->
                
                <!--Boton Para eliminar Pagos-->
                
                <div class="" style="position: absolute; margin-left: 452px; margin-top: 54px;" id="btn-pagos3">
                    <a  style="margin-left: -3px; margin-top: -9px;" class="" id="btn-pagos3"> 
                        <label  style="float:right;  font-size:14px;  margin-top: -189px; margin-left:-22px;"><strong id="labelpay" style="display:none; padding-bottom:10px; color: #ff4500;"><i>Payments</i></strong></label>
                        <span id="histo_pagos" class="pagos" title="" onclick="historia_pagos();" style="position:absolute; cursor:pointer; margin-left: -3px; margin-top: -220px; color:#4B0082; width: 32px; height: 32px; ">&nbsp;</span>                    
                    </a>
                </div>
                
               <div>             
                
               <div id="titulo_tabla" class="azufre" style="border-collapse:collapse; display:none; position:absolute; text-align:center; margin-top:0px; margin-left:412px; height:25px; width:529px; font-weight:bold; font-size:15px; color:#fff; border-radius:0px 0px 0px 0px; border: 0px #000 solid;"><marquee style="margin-left:50px;" scrolldelay=350 width=200 BEHAVIOR=alternate>History of Payments</marquee><img id="cerrar" title="close" onclick="cerrar_historia();" style="position:absolute; margin-left:125px; margin-top:0px; width:13px; height:14px; cursor:pointer;" src ='<?php echo $data['rootUrl'] ?>global/img/remove.png' width='12px' height='12px'>
                <table id="encabezado" class="grid2" cellspacing="1">
                  <thead>
                    <tr>
                        <td style="width: 173.5px; background-color:#fff; border-left: 1px solid #d7d7d7; border-right: 1px solid #d7d7d7; border-bottom: 1px solid #d7d7d7;border-top: 1px solid #d7d7d7;">
                            <span id="resultado_cob" style="text-align: -webkit-center;"></span>
                            <input type="button" id="btn_remove_cob" name="btn_remove_cob" title="" class="" style="display:none; cursor:pointer; position: absolute;  background-color: #E21F26; border-color: lavenderblush;  color:#fff; margin-left: -53px; margin-top: -9px; padding:2.1px; padding-left:3px; width:106px; height:16px; font-weight: bold; font-size:11px; padding-top:1.5px; font-style: oblique; border: 1px solid #000; border-radius:5px 5px 5px 5px;  -moz-box-shadow: 0px 2px 0 #696969; -webkit-box-shadow: 0px 2px 0 #696969;"  size="20"   value="Remove Payment" onclick=""  />
                        </td>
                        <td style="text-align: center; width:149.5px; background: #f60018; color: #fff;">Method</td>
                        <td style="text-align: center; width:140px; background: #f60018; color: #fff;">Type Pay</td>
                        <td style="text-align: center; width:76px; background: #f60018; color: #fff;">Paid</td>
                        <td style="text-align: center; width:161px; background: #f60018; color: #fff;">Date</td>
                    </tr>
                  </thead>
                </table>
                </div>
                   
                <div id = "historia_pagos" class="oliveti" style="display:none; position:absolute; overflow-y: scroll; height:176px; width:529px; margin-left:412px; margin-top:39px;">
                           
                
                <table class="grid2" cellspacing="1" id="grid2" style="background-color:#fff;">

                    <tbody>
                        <?php
                        
                        $sql_pagos = "SELECT id, pago, tipo_pago, pagado, fecha FROM reservas_pago where id_reserva= '$reserva->id' AND pagado <> '0.00' order by fecha DESC";
                        $rs_pagos = Doo::db()->query($sql_pagos);
                        $pagos_tabla = $rs_pagos->fetchAll();

                        foreach ($pagos_tabla as $p):
                            
                            ?>
                            <tr class="alternar">

                                <td id = "rad<?php echo $p['id']; ?>" style="text-align:center; width: 188px; border-left: 1px solid #d7d7d7; border-right: 1px solid #d7d7d7; border-bottom: 1px solid #d7d7d7;border-top: 1px solid #d7d7d7;" ><input type="radio" id="<?php echo $p['id']; ?>" name="item" style="height: 13px; width: 13px;" onclick="radiale();" title ="<?php /*echo $p['id']; */?>"   value="<?php echo $p['id']; ?>" /></td>                                
                                <td id = "metodo<?php echo $p['id']; ?>" style="text-align: left; font-size:10px; width:170px; border-left: 1px solid #d7d7d7; border-right: 1px solid #d7d7d7; border-bottom: 1px solid #d7d7d7;border-top: 1px solid #d7d7d7;"><?php echo $p['pago']; ?><input type="text" id="pago<?php echo $p['id']; ?>" style="display:none; width: 82px;" value="<?php echo $p['pago']; ?>"/></td>
                                <td id = "tipo<?php echo $p['id']; ?>" style="text-align: left; font-size:9px; width:158px; border-left: 1px solid #d7d7d7; border-right: 1px solid #d7d7d7; border-bottom: 1px solid #d7d7d7;border-top: 1px solid #d7d7d7;"><?php echo $p['tipo_pago']; ?><input type="text" id="tipo_pago<?php echo $p['id']; ?>" style="display:none; width: 82px;" value="<?php echo $p['tipo_pago']; ?>"/></td>
                                <td id = "pag<?php echo $p['id']; ?>" style="text-align: right; font-size:10px; width:78px; border-left: 1px solid #d7d7d7; border-right: 1px solid #d7d7d7; border-bottom: 1px solid #d7d7d7;border-top: 1px solid #d7d7d7;"><?php echo $p['pagado']; ?><input type="text" id="pagado<?php echo $p['id']; ?>" style="display:none; width: 42px;" value="<?php echo $p['pagado']; ?>"/></td>
                                <td id = "fecha<?php echo $p['id']; ?>" style="text-align: center; font-size:9px; width:150px; border-left: 1px solid #d7d7d7; border-right: 1px solid #d7d7d7; border-bottom: 1px solid #d7d7d7;border-top: 1px solid #d7d7d7;"><?php echo $p['fecha']; ?></td>

                            </tr>
                            
                        <?php endforeach; ?>
                    </tbody>

                </table>
<!--                <marquee style="font-size:10px;" width=515 direction=right>
                Save after you delete payments.
                </marquee> -->


                </div>
            
            </div>



            </fieldset>           

            
            <!-- Cajas de texto donde se mustran los valores de la tabla al presionar un radio-->
            
            <input type="text" id="id_radio" name="id_radio" style="display:none;">  
            <input type="text" id="pago_tabla" name="pago_tabla" style="display:none;"> 
            <input type="text" id="metodo_pago_tabla" name="metodo_pago_tabla" style="display:none;"> 
            <input type="text" id="tipo_pago_tabla" name="tipo_pago_tabla" style="display:none;"> 
            
            <input type="text" id="rango" name="rango" style="display:none;" value="10"> 
            
<!--            <div class="" style="position: absolute; margin-left: 452px; margin-top: 70px;" class="" id="btn-pagos3">
                <a  style="margin-left: -3px; margin-top: -9px;" class="" id="btn-pagos3">                      
                    <span class="pagos" title="Payments" onclick="historia_pagos();" style="position:absolute; cursor:pointer; margin-left: 11px; margin-top: 30px; color:#4B0082; width: 32px; height: 32px; ">&nbsp;</span>                    
                </a>
            </div>-->
            
            
            
            <select id="opcion_pago_2" name="opcion_pago_2" style="margin-left:401px; margin-top: -201px; display:none;">
                <optgroup label="PRED-PAID">
                    <option value="2">Credit Card no fee</option>
                    <option value="1">Credit Card with fee</option>
                    <option value="6">Cash</option>
                    <option value="10">Check</option>
                </optgroup>
                <optgroup label="COLLECT ON BOARD">
                    <option value="8">Credit Card no fee</option>
                    <option value="3">Credit Card with fee</option>
                    <option value="4">Cash</option>
                    <option value="9">Check</option>
                </optgroup>
            </select>


            <select id="opcion_pago_3" name="opcion_pago_3" style="display:none; margin-left:424px; margin-top: -168px;">
                <optgroup label="PRED-PAID">
                    <option value="2">Credit Card no fee</option>
                    <option value="1">Credit Card with fee</option>
                    <option value="6">Cash</option>
                    <option value="10">Check</option>
                </optgroup>
                <optgroup label="COLLECT ON BOARD">
                    <option value="8">Credit Card no fee</option>
                    <option value="3">Credit Card with fee</option>
                    <option value="4">Cash</option>
                    <option value="9">Check</option>
                </optgroup>
            </select>

            <input type="button" style="display:none" id="enviar_escondido" value="0"  />




        </div>
        


<!--        <input title="Add Payment" class="button_sliding_bg" type="button" id="pay_driver" name="pay_driver" onclick="mostrarVentana2();" style="border-color: #000; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 9px; border-top-right-radius: 9px; margin-left: 573px; margin-top: -400px; height: 26px; cursor:pointer; color: #fff; font-weight: 700; width: 179px;  padding: 3px; padding-left: 2px;" value="Add Payment"/>-->
        <td align="right">

        </td>

        <select  style="display:none; margin-left:414px; margin-top:-327px; display: none;">
            <optgroup label="COLLECT ON BOARD">
                <option value="8">Credit Card no fee</option>
                <option value="3">Credit Card with fee</option>
                <option value="4">Cash</option>
                <option value="9">Check</option>
            </optgroup>
            <optgroup label="VOUCHER">
                <option value="5">Credit Voucher</option>
            </optgroup>
            <!-- <optgroup label="COMPLEMENTARY">
                <option value="7">Complementary</option>
            </optgroup> -->
        </select>

        <select   style="display:none; margin-left:411px; margin-top:-221px; display: none;">
            <optgroup label="COLLECT ON BOARD">
                <option value="8">Credit Card no fee</option>
                <option value="3">Credit Card with fee</option>
                <option value="4">Cash</option>
                <option value="9">Check</option>
            </optgroup>
            <optgroup label="VOUCHER">
                <option value="5">Credit Voucher</option>
            </optgroup>
            <!-- <optgroup label="COMPLEMENTARY">
                <option value="7">Complementary</option>
            </optgroup> -->
        </select>
        
        <select  style="display: none; margin-left:410.2px; margin-top:-277px;" value="9" onclick="valida_voucher();" onchange="captura(); passenger_balance();" >
            <optgroup label="COLLECT ON BOARD">
                <option value="8">Credit Card no fee</option>
                <option value="3">Credit Card with fee</option>
                <option value="4">Cash</option>
                <option value="9">Check</option>
            </optgroup>
            <optgroup label="VOUCHER">
                <option value="5">Credit Voucher</option>
            </optgroup>
            <optgroup label="PAID">
                <option value="6">Paid</option>
            </optgroup>            
            <!-- <optgroup label="COMPLEMENTARY">
                <option value="7">Complementary</option>
            </optgroup> -->
        </select>


        <input type="text" id="saldoPagado2"  style=" display:none; font-family: sans-serif; font-size: 22px; color:#000; font-weight: bold; padding-left:23px; margin-left: -32px; width: 83px;" value="" />

        <input name="opc_ap"  type="text" id="opc_ap" size="12" style="display:none;" value="" />
        <input name="PAP"  type="text" id="PAP" size="12" style="display:none;" value="0.00" />
        <input name="PAP2"  type="text" id="PAP2" size="12" style="display:none;" value="0.00" />         
        <input name="etb"  type="text" id="etb" size="12" style="display:none;" value="0.00" />
        <input name="paid_drivert"  type="text" id="paid_drivert" size="12" style="display:none;" value="<?php echo number_format($reserva->paid_driver, 2, '.', ''); ?>" />
        <input name="pred_paid_amountt"  type="text" id="pred_paid_amountt" size="12" style="display:none;" value="<?php echo number_format($reserva->pred_paid_amount, 2, '.', ''); ?>" />

        <input name="tot_charge"  type="text" id="tot_charge" size="12" style="display:none;" value="<?php echo number_format($reserva->total_charge, 2, '.', ''); ?>" />
        <!--paid driver edition-->
        <input name="p_d_e"  type="text" id="p_d_e" size="12" style="display:none;" value="<?php echo $reserva->paid_driver ?>" />
        <!--pay amount edition-->
        <input name="p_a_e"  type="text" id="p_a_e" size="12" style="display:none;" value="<?php echo $reserva->pred_paid_amount ?>" />
        <input name="totalbalance"  type="text" id="totalbalance" size="12" style="display:none;" value="0.00" />



<div id="userr"></div>
<div id="puestosEnUso"></div>

<div id="dialog_states__trips" title="Seats available on trips" style="display:none;">
    <div>
        <div id="states__trips_conte"></div>
    </div>
</div>
<div id="userr"></div>
<div id="dialog" title="History of changes of the reserve" style="display:none;">
    <div style="overflow-y: scroll;height:250px;">
        <table class="grid2" cellspacing="1" id="grid2">
            <thead>
                <tr>
                    <td>Action</td>
                    <td>User</td>
                    <td>Date</td>
                    <td>&nbsp;</td>
                </tr>
            </thead>
            <tbody>
<?php foreach ($rastro as $rr) { ?>
                    <tr class="row1">
                        <td><?php echo $rr['tipo_cambio']; ?></td>
                        <td><?php echo $rr['usuario']; ?></td>
                        <td><?php echo date('M-d-Y', strtotime($rr['fecha'])); ?></td>
                        <td onclick="detalles_rastro('<?php echo $rr['id'] ?>');"><img src="<?php echo $data['rootUrl'] ?>global/img/admin/info.png" width="24" height="24" title="Details of change" /></td>
                    </tr>
<?php } ?>
            </tbody>
        </table>
    </div>
</div>



<div id="dialog2" title="History of Payments [Transportation]" style="display:none; width:558px; margin-left:0px; height:124.8px;">
    <div style="overflow-y: scroll;height:270px; width:579px; margin-left:-11px;">
        <table style="margin-left:0px; width:564px;" class="grid2" cellspacing="1" id="grid2">
            <thead>
                <tr>
                    <td style="font-weight:bold; text-align: center; width:560px; height:30px;">DETAILS</td>                    
                    <td style="font-weight:bold; text-align: center; width:100px;">STATUS</td>
                    <td style="font-weight:bold; text-align: center; width:210px;">DATE</td>
                </tr>
            </thead>
            <tbody>
                <?php
                $sql122 = "SELECT id_reserva, detalles, fecha, tipo_usuario FROM reservas_rastro where id_reserva=$reserva->id AND tipo_usuario = 'Removed' order by fecha DESC;";
                $rs12 = Doo::db()->query($sql122);
                $pagos2 = $rs12->fetchAll();
                
                foreach ($pagos2 as $p):
                    
                    ?>
                    <tr class="row1">

                        <td style="text-align: left; width:560px; height:30px;"><?php echo '<pre>'; echo $p['detalles']; echo '<pre>';?></td>
                        <td style="text-align: center; color: red; font-weight:bold;"><?php echo $p['tipo_usuario']; ?></td>
                        <td style="text-align: center;"><?php echo $p['fecha']; ?></td>                       

                    </tr>
                <?php endforeach; ?>
            </tbody>
            
        </table>
        

    </div>

</div>

<div id="dialog_message_rastro" style="display:none" title="Details of change">
    <div id="conten_rastro">
    </div>
</div>


<div id="dialog-trip-pregunta" title="Time limit for booking" style="display:none">
    <p>
        <div id="reloj_temporizador" class="temporizador"></div>
        <div id="mensaje_trips_pregunta">    </div>
    </p>
</div>



<!--Capturamos valor del tipo de pago para ajustarlo a la funcion CalcularTotalTotal -->

<input type="text" id="op_pago" name="op_pago" size="12" style="display:none;" value="<?php echo $reserva->op_pago; ?>" />


<input type="button" id="btnBD" name="btnBD" size="20" value="Balance_Due"  style="display:none; cursor:pointer; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px;" onclick="bal_due();"  />

<input type="button" id="btnABD" name="btnABD" size="20" value="Agency_Balance_Due"  style="display:none; cursor:pointer; border-color: red; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-left-radius: 5px; border-top-right-radius: 5px;" onclick="agen_bal_due();"  />

<input type="button" id="btn_Other" name="btn_Other" size="10" value="Amount to Collect $"  style="display:none; cursor:pointer; margin-left:130px; margin-top:-396px; font-weight: bold; font-size: 16px; width: 163px; height: 27px;  border-color: red; " onclick="calc_other();"  />


<div style="display:none;" id="resultado"></div>

<div style="display:none;" id="result"></div>

<input type="text" name="selectcond" id="selectcond" value="" style="display:none; position:absolute; margin-left:0px; margin-top:0px;" />

<input type="text" id="temp"  name="temp" title="Fees" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo number_format($reserva->total_charge, 2, '.', ''); ?>" />

<input type="text" id="temp_copy"  name="temp_copy" title="" size="12" style="display:none;" value="" />


<input type="text" id="temp_driver"  name="temp_driver" title="Temp Driver" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />
                                
<input type="text" id="temp_prepaid"  name="temp_prepaid" title="Temp Prepaid" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="0.00" />

<input type="text" id="collect" name="collect" title="Paid Driver" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo number_format($reserva->paid_driver, 2, '.', ''); ?>" />

<input type="text" id="prepaid" name="prepaid" title="Amount Paid" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:20px;" value="<?php echo number_format($reserva->pred_paid_amount, 2, '.', ''); ?>" />

                                

<input type="text" id="no_pago"  name="no_pago" title="# pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="no_prep"  name="no_prep" title="# prep" size="12" style="display:none; margin-top:4px; margin-left:417px; width:18px; height:11px;" value="0" />


<input type="text" id="pago_1"  name="pago_1" title="pago # 1" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago1"  name="pago1" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago1"  name="tipo_pago1" title="tipo pago1" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado1"  name="pagado1" title="pagado1" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob1"  name="estado_cob1" title="estado_cob1" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />

<input type="text" id="pago_pre1"  name="pago_pre1" title="pago # 1" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre1"  name="pagopre1" title="pago prep1" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre1"  name="tipo_pagopre1" title="tipo pagopre1" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre1"  name="pagadopre1" title="pagadopre1" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre1"  name="estado_pre1" title="estado_pre1" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />



<input type="text" id="pago_2"  name="pago_2" title="pago # 2" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago2"  name="pago2" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago2"  name="tipo_pago2" title="tipo pago2" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado2"  name="pagado2" title="pagado2" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob2"  name="estado_cob2" title="estado_cob2" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />



<input type="text" id="pago_pre2"  name="pago_pre2" title="pago # 2" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre2"  name="pagopre2" title="pago prep2" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre2"  name="tipo_pagopre2" title="tipo pagopre2" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre2"  name="pagadopre2" title="pagadopre2" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre2"  name="estado_pre2" title="estado_pre2" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_3"  name="pago_3" title="pago # 3" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago3"  name="pago3" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago3"  name="tipo_pago3" title="tipo pago3" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado3"  name="pagado3" title="pagado3" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob3"  name="estado_cob3" title="estado_cob3" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />



<input type="text" id="pago_pre3"  name="pago_pre3" title="pago # 3" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre3"  name="pagopre3" title="pago prep3" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre3"  name="tipo_pagopre3" title="tipo pagopre3" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre3"  name="pagadopre3" title="pagadopre3" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre3"  name="estado_pre3" title="estado_pre3" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_4"  name="pago_4" title="pago # 4" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago4"  name="pago4" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago4"  name="tipo_pago4" title="tipo pago4" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado4"  name="pagado4" title="pagado4" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob4"  name="estado_cob4" title="estado_cob4" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />



<input type="text" id="pago_pre4"  name="pago_pre4" title="pago # 4" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre4"  name="pagopre4" title="pago prep4" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre4"  name="tipo_pagopre4" title="tipo pagopre4" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre4"  name="pagadopre4" title="pagadopre4" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre4"  name="estado_pre4" title="estado_pre4" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />



<input type="text" id="pago_5"  name="pago_5" title="pago # 5" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago5"  name="pago5" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago5"  name="tipo_pago5" title="tipo pago5" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado5"  name="pagado5" title="pagado5" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob5"  name="estado_cob5" title="estado_cob5" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />


<input type="text" id="pago_pre5"  name="pago_pre5" title="pago # 5" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre5"  name="pagopre5" title="pago prep5" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre5"  name="tipo_pagopre5" title="tipo pagopre5" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre5"  name="pagadopre5" title="pagadopre5" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre5"  name="estado_pre5" title="estado_pre5" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_6"  name="pago_6" title="pago # 6" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago6"  name="pago6" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago6"  name="tipo_pago6" title="tipo pago6" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado6"  name="pagado6" title="pagado6" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob6"  name="estado_cob6" title="estado_cob6" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />


<input type="text" id="pago_pre6"  name="pago_pre6" title="pago # 6" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre6"  name="pagopre6" title="pago prep6" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre6"  name="tipo_pagopre6" title="tipo pagopre6" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre6"  name="pagadopre6" title="pagadopre6" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre6"  name="estado_pre6" title="estado_pre6" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_7"  name="pago_7" title="pago # 7" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago7"  name="pago7" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago7"  name="tipo_pago7" title="tipo pago7" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado7"  name="pagado7" title="pagado7" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob7"  name="estado_cob7" title="estado_cob7" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />


<input type="text" id="pago_pre7"  name="pago_pre7" title="pago # 7" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre7"  name="pagopre7" title="pago prep7" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre7"  name="tipo_pagopre7" title="tipo pagopre7" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre7"  name="pagadopre7" title="pagadopre7" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre7"  name="estado_pre7" title="estado_pre7" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_8"  name="pago_8" title="pago # 8" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago8"  name="pago8" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago8"  name="tipo_pago8" title="tipo pago8" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado8"  name="pagado8" title="pagado8" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob8"  name="estado_cob8" title="estado_cob8" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />


<input type="text" id="pago_pre8"  name="pago_pre8" title="pago # 8" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre8"  name="pagopre8" title="pago prep8" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre8"  name="tipo_pagopre8" title="tipo pagopre8" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre8"  name="pagadopre8" title="pagadopre8" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre8"  name="estado_pre8" title="estado_pre8" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_9"  name="pago_9" title="pago # 9" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago9"  name="pago9" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago9"  name="tipo_pago9" title="tipo pago9" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado9"  name="pagado9" title="pagado9" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob9"  name="estado_cob9" title="estado_cob9" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />



<input type="text" id="pago_pre9"  name="pago_pre9" title="pago # 9" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre9"  name="pagopre9" title="pago prep9" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre9"  name="tipo_pagopre9" title="tipo pagopre9" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre9"  name="pagadopre9" title="pagadopre9" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre9"  name="estado_pre9" title="estado_pre9" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />




<input type="text" id="pago_10"  name="pago_10" title="pago # 10" size="12" style="display:none; margin-top:4px; margin-left:17px; width:18px; height:11px;" value="0" />
<input type="text" id="pago10"  name="pago10" title="pago" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pago10"  name="tipo_pago10" title="tipo pago10" size="12" style="display:none; margin-top:4px; margin-left:17px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagado10"  name="pagado10" title="pagado10" size="12" style="display:none; margin-top:4px; margin-left:17px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_cob10"  name="estado_cob10" title="estado_cob10" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />


<input type="text" id="pago_pre10"  name="pago_pre10" title="pago # 10" size="12" style="display:none; margin-top:4px; margin-left:63px; width:18px; height:11px;" value="0" />
<input type="text" id="pagopre10"  name="pagopre10" title="pago prep10" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="tipo_pagopre10"  name="tipo_pagopre10" title="tipo pagopre10" size="12" style="display:none; margin-top:4px; margin-left:16px; width:114px; height:11px; font-size: 9px;" value="" />
<input type="text" id="pagadopre10"  name="pagadopre10" title="pagadopre10" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="0.00" />
<input type="text" id="estado_pre10"  name="estado_pre10" title="estado_pre10" size="12" style="display:none; margin-top:4px; margin-left:16px; width:59px; height:11px; text-align:right;" value="" />


<input type="text" style="display:none; margin-left: 158px; margin-top: 5px; width:30px; color: #0B55C4; font-weight: bold; font-size: 18px; text-align: center;" name="idagencia" id="idagencia"  size="10" maxlength="10"  value="<?php echo $voucher; ?>" autocomplete="off"/>
<input type="text" style="display:none;" name="est" id="est"  size="10" maxlength="10"  value="<?php echo $canal; ?>" autocomplete="off"/>

<input type="text" style="display:none; margin-left:10px; width:50px;" name="tarifaone"     id="tarifaone"   size="15"  value="<?php echo $reserva->tarifa_one; ?>" />
<input type="text" style="display:none;  margin-left:10px; width:50px;" name="tarifaround"   id="tarifaround" size="15"  value="<?php echo $reserva->tarifa_round; ?>" />

<input type="text" style="display:none; margin-left:10px; width:50px;" name="tarifaone_edit"     id="tarifaone_edit"   size="15"  value="<?php echo $reserva->tarifa_one; ?>" />
<input type="text" style="display:none; margin-left:10px; width:50px;" name="tarifaround_edit"   id="tarifaround_edit" size="15"  value="<?php echo $reserva->tarifa_round; ?>" />

<input type="radio" name="tipo_ticket2"  id="oneway2"    style="display:none;" value="1" />
<input type="radio" name="tipo_ticket2"  id="roundtrip2" style="display:none;" value="2" />

<!--<a style="display:none; margin-left: 0px; margin-top: 0px; position: relative;"><img src ='<?php echo $data['rootUrl'] ?>global/img/download_summary.gif' width="85px" height="85px" margin-left="0px" margin-top="0px">-->



<!--<form action="<?php echo $data['rootUrl'] ?>admin/reporte/cargar" id="formulario2" method="post" name="formulario2" onsubmit="onEnviar();">                        
    <input id="variable" name="variable" style="display:none;" value="<?php /*echo $reserva->id;*/ ?>"  />
    <input id="idf" name="idf" style="display:none;" value="2" />
    <input class="button" type="submit" value="Download ▼"  title="" style="display:none; position:absolute; cursor:pointer; margin-top: -249px; margin-left: 348px; padding: 4px; height: 22px; width: 108px; color: #ffffff; font-weight: 700; font-size:11px; border:1px solid #33449C;" />
</form>-->
        
<fieldset style="display: none; margin-left: 15px;  margin-right: -20.6em; border: 2px solid #ececec; background-color: transparent; margin-top: -244px; height: 575px; width: 100px;">
                        
<legend style="color:#0B55C4; background: #fff; border: 1px solid #00C">E-TICKET</legend>

    <div style="background-color: #ffffff; width:430px; height:552px; float:left; margin-left:0px; margin-top:0px;">
        
        <embed height="100%" width="100%" name="embed_content" src="<?php echo $data['rootUrl']; ?>SUMMARY/E-TICKET-<?php echo $reserva->codconf; ?>.pdf" type="" />

    </div>
    <!-- DESHABILITAR EL CLICK DERECHO -->
<!-- <script type='text/javascript'>
$(function(){
    $(document).bind("contextmenu",function(e){
        return false;
    });
});
</script> -->

</fieldset>
        
<!--<form action="<?php /*echo $data['rootUrl'] */?>admin/reporte/cargar" id="formulario3" method="post" name="formulario3" onsubmit="onEnviar();">                        
    <input id="variable" name="variable" style="display:none;" value="<?php /*echo $reserva->id; */?>"  />
    <input id="idf" name="idf" style="display:none;" value="3" />
    <input class="" type="submit" value="Send to e-mail ►"  title="" style="display:none; position:absolute; cursor:pointer; margin-top: -16px; margin-left: 349px; padding: 4px; height: 22px; width: 108px; color: #ffffff; font-weight: 700; font-size:11px; border:1px solid #33449C;" />
</form>-->

<!-- <input type="button" class= "button2"  name="button" style="display:none; position:absolute; cursor:pointer; margin-top: -16px; margin-left: 349px; padding: 4px; height: 22px; width: 108px; color: #ffffff; font-weight: 700; font-size:11px; border:1px solid #33449C;" value="Send to e-mail ►"  />
<a class="hover" style="display:none; position:absolute; font-size:10px; margin-left:16px; margin-top:18px;" target="_blank"  href="https://chrome.google.com/webstore/detail/pdf-viewer/oemmndcbldboiebfnladdacbdfmadadm?hl=es">Si no puedes visualizar el E-ticket agrega la Extension PDF Viewer desde este enlace.</a> -->     
        
<main style="display: none">
    <!--  <h2>Editar Reserva</h2>-->
    <input type="radio" id="mostrar-modal" name="modal" onclick="pregunta(event);"/>
    <label id="lbl_edit" class="flotante" style="margin-left:-384px; color:#fff;" for="mostrar-modal">Editar</label>
  <!--  <input type="radio" id="cerrar-modal" name="modal"/>
    <label class="" style="margin-left:-43.3%; margin-top:-13.80%; color:#fff;" for="cerrar-modal">CERRAR</label> href='<?php /*echo $data['rootUrl']*/?>admin/reservas/'-->
    <div id="modal">
  
    </div>
</main>
        

<!--            <table width="246" cellspacing="0" class="sup2" style="margin-top: 2px;">-->
            <table class="" border="1" width="256" height="205" cellspacing="0" class="sup2" style="background-color:#FFFFFF; display: none; margin-top:-20px; box-shadow: 0 -1px 20px #1E9196;">
                <tr class="blackblue">
                    <td width="136" style="text-align:center; color:#fff; font-size: 14px; font-weight:bold;" ><label><strong>QUOTE</strong></label></td>
                    <td width="54"  style="text-align:center; font-size: 14px; font-weight:bold;"><label style="color:#fff;"><strong>ADULT</strong></label></td>
                    <td width="48"  style="text-align:center; font-size: 14px; font-weight:bold;"><label style="color:#fff;"><strong>CHILD</strong></label></td>
                </tr>
                <tr>
                    <td><label style="font-size: 14px; font-weight:bold; float:right; color:#4B0082;"><strong>Line Transportation</strong></label></td>
                    <td style="text-align:center; color:blue;"><span name ="transporadult" value="" style="font-size: 15px; font-weight:bold;"></span></td>
                <input type="hidden"  />
                <input type="hidden"  />
                <td style="text-align:center; color:blue;"><span name ="transporechil"  style="font-size: 15px; font-weight:bold;"></span></td>
                </tr>
                <tr>
                    <td><label style="float:right; color:#4B0082; font-size: 14px; font-weight:bold; "><strong>Extensions</strong></label></td>
                    <td style="text-align:center; color:red;"><span  style="font-size: 15px;font-weight:bold; "></span></td>
                    <td style="text-align:center; color:red;"><span  style="font-size: 15px;font-weight:bold; "></span></td>
                </tr>

                <tr>
                    <td><label style="float:right; color:#4B0082; font-size: 14px; font-weight:bold;"><strong>Sub-total per Pax</strong></label></td>                 

                    <td style="text-align:center; color:#4B0082;"><span  style="font-size: 15px; font-weight:bold; "></span></td>
                    <td style="text-align:center; color:#4B0082;"><span  style="font-size: 15px; font-weight:bold; "></span></td>

                </tr>
                <tr>
<!--                    <td><label style="text-align: center; color:#fff; font-size: 16px; font-weight:bold;" ><strong>TOTAL</strong></label></td>
                    <td style="text-align:center;" colspan="2"><label style="color:#fff;"><strong   id="totaltotal" style="font-size: 18px; font-weight:bold; " >$ 00.0</strong></label></td>-->

                    <td  style="float:center; text-align: center; color:#4B0082; font-size: 16px; font-weight:bold;"><label><strong>TOTAL&nbsp;</strong></label></td>
<!--                    <td style="text-align:center;" colspan="2"><label style="color:#4B0082;"><strong id="totaltotal" style="font-size: 18px; font-weight:bold; ">$ 00.0</strong></label></td>-->
                    <td style="text-align:center;" colspan="2"><label style="color:#4B0082; font-size: 18px; font-weight:bold;">$<strong  style="font-size: 18px; font-weight:bold; ">$ 00.0</strong></label></td>
                    

                <div id="enviarDatos"></div>

                <!--Standard Price Trip No 1-->

                <input size="5" type="hidden" id="subtoadult1" name="subtoadult1" title="subtoadult1 standard price adult trip1" value="<?php echo $reserva->precio_trip1_a; ?>" />
                <input size="5" type="hidden" id="subtochild1" name="subtochild1" title="subtochild1 standard price child trip1" value="<?php echo $reserva->precio_trip1_c; ?>" />

                <!--SuperFlex Trip No1-->
                <input size="5" type="hidden" id="subtoadult22" name="subtoadult22" title="subtoadult22 Super Flex price adult trip1" value="<?php echo $reserva->precio_trip1_a; ?>" />
                <input size="5" type="hidden" id="subtochild22" name="subtochild22" title="subtochild22 Super Flex price child trip1" value="<?php echo $reserva->precio_trip1_c; ?>" />
                
                <!--Web Fare Trip No1-->
                <input size="5" type="hidden" id="subtoadultwf1" name="subtoadultwf1" title="subtoadultwf1 Web Fare price adult trip1" value="<?php echo $reserva->precio_trip1_a; ?>" />
                <input size="5" type="hidden" id="subtochildwf1" name="subtochildwf1" title="subtochildwf1 Web Fare price child trip1" value="<?php echo $reserva->precio_trip1_c; ?>" />
                
                <!--Super Promo Trip No1-->
                <input size="5" type="hidden" id="subtoadultsp1" name="subtoadultsp1" title="subtoadultsp1 Super Promo price adult trip1" value="<?php echo $reserva->precio_trip1_a; ?>" />
                <input size="5" type="hidden" id="subtochildsp1" name="subtochildsp1" title="subtoadultsp1 Super Promo price child trip1" value="<?php echo $reserva->precio_trip1_c; ?>" />
                
                <!--Super Discount Trip No1-->
                <input size="5" type="hidden" id="subtoadultsd1" name="subtoadultsd1" title="subtoadultsd1 Super Discount price adult trip1" value="<?php echo $reserva->precio_trip1_a; ?>" />
                <input size="5" type="hidden" id="subtochildsd1" name="subtochildsd1" title="subtochildsd1 Super Discount price chils trip1" value="<?php echo $reserva->precio_trip1_c; ?>" />
                

                <input size="5" type="hidden" id="price_exten01" name="price_exten01" value="<?php echo $reserva->precio_exten1_a; ?>" />
                <input size="5" type="hidden" id="price_exten02" name="price_exten02" value="<?php echo $reserva->precio_exten2_a; ?>" />
                <input size="5" type="hidden" id="price_exten03" name="price_exten03" value="<?php echo $reserva->precio_exten3_a; ?>"  />
                <input size="5" type="hidden" id="price_exten04" name="price_exten04" value="<?php echo $reserva->precio_exten4_a; ?>" />


                <!--Standard Price Trip No 2-->
                <input size="5" type="hidden" id="subtoadult2" name="subtoadult2" title="subtoadult2 standard price adult trip2" value="<?php echo $reserva->precio_trip2_a; ?>" />
                <input size="5" type="hidden" id="subtochild2" name="subtochild2" title="subtochild2 standard price child trip2" value="<?php echo $reserva->precio_trip2_c; ?>" />

                <!--SuperFlex Trip No2-->
                <input size="5" type="hidden" id="subtoadult4" name="subtoadult4" title="subtoadult4 super Flex price adult trip2" value="<?php echo $reserva->precio_trip2_a; ?>" />
                <input size="5" type="hidden" id="subtochild4" name="subtochild4" title="subtochild4 super Flex price child trip2" value="<?php echo $reserva->precio_trip2_c; ?>" />
                
                
                <!--Web Fare Trip No2-->
                <input size="5" type="hidden" id="subtoadultwf2" name="subtoadultwf2" title="subtoadultwf1 Web Fare price adult trip2" value="<?php echo $reserva->precio_trip2_a; ?>" />
                <input size="5" type="hidden" id="subtochildwf2" name="subtochildwf2" title="subtochildwf1 Web Fare price child trip2" value="<?php echo $reserva->precio_trip2_c; ?>" />
                
                <!--Super Promo Trip No2-->
                <input size="5" type="hidden" id="subtoadultsp2" name="subtoadultsp2" title="subtoadultsp1 Super Promo price adult trip2" value="<?php echo $reserva->precio_trip2_a; ?>" />
                <input size="5" type="hidden" id="subtochildsp2" name="subtochildsp2" title="subtoadultsp1 Super Promo price child trip1" value="<?php echo $reserva->precio_trip2_c; ?>" />
                
                <!--Super Discount Trip No2-->
                <input size="5" type="hidden" id="subtoadultsd2" name="subtoadultsd2" title="subtoadultsd1 Super Discount price adult trip2" value="<?php echo $reserva->precio_trip2_a; ?>" />
                <input size="5" type="hidden" id="subtochildsd2" name="subtochildsd2" title="subtochildsd1 Super Discount price chils trip2" value="<?php echo $reserva->precio_trip2_c; ?>" />


                <input size="5" type="hidden" id="subtoadult1_o" name="subtoadult1_o" value="<?php echo $reserva->precio_trip1_a; ?>" />
                <input size="5" type="hidden" id="subtochild1_o" name="subtochild1_o" value="<?php echo $reserva->precio_trip1_c; ?>" />
                <input size="5" type="hidden" id="subtoadult2_o" name="subtoadult2_o" value="<?php echo $reserva->precio_trip2_a; ?>" />
                <input size="5" type="hidden" id="subtochild2_o" name="subtochild2_o" value="<?php echo $reserva->precio_trip2_c; ?>" />                
                <input size="5" type="hidden" id="price_exten01_o" name="price_exten01_o" value="<?php echo $reserva->precio_exten1_a; ?>" />
                <input size="5" type="hidden" id="price_exten02_o" name="price_exten02_o" value="<?php echo $reserva->precio_exten2_a; ?>" />
                <input size="5" type="hidden" id="price_exten03_o" name="price_exten03_o" value="<?php echo $reserva->precio_exten3_a; ?>"  />
                <input size="5" type="hidden" id="price_exten04_o" name="price_exten04_o" value="<?php echo $reserva->precio_exten4_a; ?>" />


                <input size="5" type="hidden" id="price1" name="price1" value="<?php echo $reserva->id1; ?>" />
                <input size="5" type="hidden" id="price2" name="price2" value="<?php echo $reserva->id2; ?>" />

                </tr>
                
                <input type="text" name="fec_salida_ns1"  id="fec_salida_ns1"  size="10" maxlength="15"  style="display:none;" value="" autocomplete="off"/>
                <input type="text" name="fec_retorno_ns1"  id="fec_retorno_ns1"  size="10" maxlength="15"  style="display:none;" value="" autocomplete="off"/>
                
                 <!--<tr>
                    <td>&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;
                        </td>
                    <td colspan="2">&nbsp;
            
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;
            
                        </td>
                    <td colspan="2">&nbsp;
                        </td>
                </tr>
                <tr>
                    <td>&nbsp;
                        </td>
                    <td colspan="2">&nbsp;
            
            
                    </td>
                </tr>
                <tr>
                    <td>&nbsp;
            
                        </td>
                    <td colspan="2">&nbsp;
                        </td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                </tr>
            
                <tr>
                    <td>&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td colspan="2">&nbsp;</td>
                </tr>-->

            </table >

            <!--            <fieldset id="pymen" style="height:375px;" ><legend >PAYMENT INFORMATIONS brown4</legend>-->
            </form> 


<!--        <div class="" id="save2" style="position:fixed; overflow: visible; z-index: 1000; margin-left: 382px; margin-top: -1761px; font-weight: bold; font-size: 39px; display:none;">
            <a style="margin-left: 21px; margin-top: -160px; position: absolute;" ><img src ='<?php echo $data['rootUrl'] ?>global/img/eclipse.gif' width="155px" height="155px" margin-left="85px" margin-top="-127px">
            <a style="margin-left: 60px; margin-top: -118px; position: absolute;"><img src ='<?php echo $data['rootUrl'] ?>global/img/loading_trips.gif' width="75px" height="75px" margin-left="85px" margin-top="-127px">
            <div class="cssload-loader" style="position:absolute; color:#4682B4; text-align:center; margin-left: 6px; margin-top: 72px; font-size: 28px;">Loading</div>
        </div> -->

<div id="save2" style="display:none; position:fixed; overflow: visible; z-index: 1000; margin-left: 122px; margin-top: -1573px; color:transparent;">
    <center>
    <div class="loader" id="loader"></div>
    <div class="loader" id="loader2"></div>
    <div class="loader" id="loader3"></div>
    <div class="loader" id="loader4"></div>
            Delete the "loader3" and "loader4" divs for a 2-layer loader
            You can also change the animation durations or delays, that looks also pretty cool 
<!--    <span style="font-weight:bold;" id="text">LOADING...</span>-->
    <p id="text" style="font-weight:bold;" class="saving">Loading<span>.</span><span>.</span><span>.</span></p>
</div>

<input type="text" style="display:none; margin-left: 0px; margin-top: 0px; width:85px; color: #0B55C4; font-weight: bold; font-size: 10px; text-align: center;" name="tipo_reserva" id="tipo_reserva"  size="10" maxlength="10"  value="Editado" autocomplete="off"/>
<input type="text" style="display:none; margin-left: 0px; margin-top: 0px; width:30px; color: #0B55C4; font-weight: bold; font-size: 10px; text-align: center;" name="total_pasajeros" id="total_pasajeros"  size="10" maxlength="10"  value="<?php echo $total_pasajeros ?>" autocomplete="off"/>
<input type="text" style="display:none; margin-left: 0px; margin-top: 0px; width:30px; color: #0B55C4; font-weight: bold; font-size: 10px; text-align: center;" name="trip_1" id="trip_1"  size="10" maxlength="10"  value="<?php echo $trip_no ?>" autocomplete="off"/>
<input type="text" style="display:none; margin-left: 0px; margin-top: 0px; width:30px; color: #0B55C4; font-weight: bold; font-size: 10px; text-align: center;" name="trip_2" id="trip_2"  size="10" maxlength="10"  value="<?php echo $trip_no2 ?>" autocomplete="off"/>

</div>




<div class="" id="sur2015" style="position:absolute; overflow: visible; z-index: 1000; margin-left: 0px; margin-top: 0px; font-weight: bold; font-size: 16px; display:none;">                
     
            <!-- <a href=''><img src ='<?php //echo $data['rootUrl'] ?>global/img/sur2015.gif' width="115px" height="85px" margin-left="0px" margin-top="0px"> -->
        
</div> 

<!--<input type="button" name="print" value="" title="Print Credit/Card" style="margin-left: 91px; margin-top: 47px;color: #AC1B29; font-weight: bold; width: 49px;  height: 34px; font-size: 12px;" onclick="window.print();">-->
<!--<img title= "Print Credit Card" onclick="window.print();" style="position:absolute; margin-left: 97px; margin-top: 74px; "src ='<?php echo $data['rootUrl'] ?>global/img/print.png' width="35px" height="35px" margin-left="0px" margin-top="0px">-->

<div class="toolbar-list">


    

                        
    
</div>






    




<script type="text/javascript">
    
function historia_pagos(){/*PAGOS*/
        
    var paid_driver = "<?php echo $paid_driver; ?>";
    var pay_amount = "<?php echo $pred_paid_amount; ?>";           
        
    if(paid_driver > '0.00' || pay_amount > '0.00' ){
        
        document.getElementById('titulo_tabla').style.display = '';
        document.getElementById('historia_pagos').style.display = '';
        //document.getElementById('btn_remove_cob').style.display = '';       
        
    }else{
        
        alert("No Payments Entered");        
        document.getElementById('titulo_tabla').style.display = 'none';
        document.getElementById('historia_pagos').style.display = 'none';
        //document.getElementById('btn_remove_cob').style.display = 'none';
               
        
    }
    
}

</script>

<script type="text/javascript">
    
function cerrar_historia(){  
        
        var radio = document.getElementById('id_radio').value;       
        
        if(radio == ''){
            
            document.getElementById('titulo_tabla').style.display = 'none'; 
            document.getElementById('historia_pagos').style.display = 'none';
            
            
        }else{
            
            //pasamos el id al radio para deshabilitarlo
            document.getElementById(radio).checked = false;        
            document.getElementById('titulo_tabla').style.display = 'none'; 
            document.getElementById('historia_pagos').style.display = 'none';            
            document.getElementById('id_radio').value = "";        
            document.getElementById('pago_tabla').value = "";
            document.getElementById('metodo_pago_tabla').value = "";        
            document.getElementById('tipo_pago_tabla').value = "";     
            
        }
        
        
}

</script>
           
<script type="text/javascript">
    
    function cancelar(){/*PAGOS PREPAGADOS*/
        
       
       var pago_driver = parseFloat($("#pago_driver").val());
//       var pago_driver = document.getElementById("pago_driver").value;
       
       var temp_prepaid = parseFloat($("#temp_prepaid").val());       
       var prepaid = parseFloat($("#prepaid").val());  
       
       if (pago_driver % 1 == 0) { /*valor entero*/
           
            var result2 = parseFloat(prepaid) - parseFloat(pago_driver);  

            //$("#temp_driver").val((result).toFixed(2));
            $("#prepaid").val((result2).toFixed(2));
        

       } else { /*valor decimal*/
                                    
           var temp_prepaid = parseFloat($("#temp_prepaid").val());             
           var prepaid = parseFloat($("#prepaid").val());  
           var parte_entera = (parseFloat(pago_driver))/1.04;           
           var cargo = (parseFloat(pago_driver) - parseFloat(parte_entera)).toFixed(2);       
           var result = parseFloat(temp_prepaid) - parseFloat(cargo);             
           var result2 = prepaid - pago_driver;

           $("#temp_prepaid").val((result).toFixed(2));
           $("#prepaid").val((result2).toFixed(2));
       
        }
       
       //******////
       
//       var parte_entera = parseFloat(pago_driver)/1.04;           
//       var cargo = parseFloat(pago_driver) - parseFloat(parte_entera);       
//       var result = temp_prepaid - cargo;  
//       var result2 = prepaid - pago_driver;
//       
//       $("#temp_prepaid").val((result).toFixed(2));
//       $("#prepaid").val((result2).toFixed(2));
//       
//       alert(result2);
//       exit;
       
       var no_prep =  document.getElementById("no_prep").value;
                
                if(no_prep == 1){
                    document.getElementById("no_prep").value = 0;
                    document.getElementById('pago_pre1').value = '0';
                    document.getElementById('pagopre1').value = '';
                    document.getElementById('tipo_pagopre1').value = '';
                    document.getElementById('pagadopre1').value = '0.00';                    
                    
                }else if(no_prep == 2){
                    document.getElementById("no_prep").value = 1;
                    document.getElementById('pago_pre2').value = '0';
                    document.getElementById('pagopre2').value = '';
                    document.getElementById('tipo_pagopre2').value = '';
                    document.getElementById('pagadopre2').value = '0.00';     
                    
                }else if(no_prep == 3){
                    document.getElementById("no_prep").value = 2;
                    document.getElementById('pago_pre3').value = '0';
                    document.getElementById('pagopre3').value = '';
                    document.getElementById('tipo_pagopre3').value = '';
                    document.getElementById('pagadopre3').value = '0.00';     
                    
                }else if(no_prep == 4){
                    document.getElementById("no_prep").value = 3;
                    document.getElementById('pago_pre4').value = '0';
                    document.getElementById('pagopre4').value = '';
                    document.getElementById('tipo_pagopre4').value = '';
                    document.getElementById('pagadopre4').value = '0.00';     
                    
                }else if(no_prep == 5){
                    document.getElementById("no_prep").value = 4;
                    document.getElementById('pago_pre5').value = '0';
                    document.getElementById('pagopre5').value = '';
                    document.getElementById('tipo_pagopre5').value = '';
                    document.getElementById('pagadopre5').value = '0.00';     
                    
                }else if(no_prep == 6){
                    document.getElementById("no_prep").value = 5;
                    document.getElementById('pago_pre6').value = '0';
                    document.getElementById('pagopre6').value = '';
                    document.getElementById('tipo_pagopre6').value = '';
                    document.getElementById('pagadopre6').value = '0.00';     
                    
                }else if(no_prep == 7){
                    document.getElementById("no_prep").value = 6;
                    document.getElementById('pago_pre7').value = '0';
                    document.getElementById('pagopre7').value = '';
                    document.getElementById('tipo_pagopre7').value = '';
                    document.getElementById('pagadopre7').value = '0.00';     
                    
                }else if(no_prep == 8){
                    document.getElementById("no_prep").value = 7;
                    document.getElementById('pago_pre8').value = '0';
                    document.getElementById('pagopre8').value = '';
                    document.getElementById('tipo_pagopre8').value = '';
                    document.getElementById('pagadopre8').value = '0.00';     
                    
                }else if(no_prep == 9){
                    document.getElementById("no_prep").value = 8;
                    document.getElementById('pago_pre9').value = '0';
                    document.getElementById('pagopre9').value = '';
                    document.getElementById('tipo_pagopre9').value = '';
                    document.getElementById('pagadopre9').value = '0.00';     
                    
                }else if(no_prep == 10){
                    document.getElementById("no_prep").value = 9;
                    document.getElementById('pago_pre10').value = '0';
                    document.getElementById('pagopre10').value = '';
                    document.getElementById('tipo_pagopre10').value = '';
                    document.getElementById('pagadopre10').value = '0.00';     
                    
                }
                
       //document.getElementById('prepaid').value = "0.00"; 
       //document.getElementById('temp_prepaid').value = "0.00"; 
       document.getElementById("pago_driver").disabled = false;
       document.getElementById('pago_driver').placeholder = "0.00"; 
       document.getElementById('pago_tarjeta').value = "0.00"; 
       document.getElementById("btnPagolinea").disabled = true;
       document.getElementById("btnPagolinea").style.display = "none";
       document.getElementById("btndecline").style.display = "none"; 
       document.getElementById("btnAceptar").disabled = true;
       document.getElementById("btnAceptar").style.background = "lightgray";        
                
        mostrarVentana2();

       
    
    }
    
</script>

<script type="text/javascript">
    
    function cancelar_collect_on_board(){
        
       
       var pago_driver = parseFloat($("#pago_driver").val());      
       var temp_driver = parseFloat($("#temp_driver").val());       
       var collect = parseFloat($("#collect").val());    
       
       if (pago_driver % 1 == 0) { /*valor entero*/           
                                   
            var result2 = parseFloat(collect) - parseFloat(pago_driver);          
            //$("#temp_driver").val((result).toFixed(2));
            $("#collect").val((result2).toFixed(2));
        

       } else { /*valor decimal*/         
                   
           var parte_entera = parseFloat(pago_driver)/1.04;           
             
           var cargo = (parseFloat(pago_driver) - parseFloat(parte_entera)).toFixed(2);           
           var result = parseFloat(temp_driver) - parseFloat(cargo);  
           var result2 = collect - pago_driver;

           $("#temp_driver").val((result).toFixed(2));
           $("#collect").val((result2).toFixed(2));
       
        }
       
       
       var no_pago =  document.getElementById("no_pago").value;
                
                if(no_pago == 1){
                    document.getElementById("no_pago").value = 0;
                    document.getElementById('pago_1').value = '0';
                    document.getElementById('pago1').value = '';
                    document.getElementById('tipo_pago1').value = '';
                    document.getElementById('pagado1').value = '0.00';                    
                    
                }else if(no_pago == 2){
                    document.getElementById("no_pago").value = 1;
                    document.getElementById('pago_2').value = '0';
                    document.getElementById('pago2').value = '';
                    document.getElementById('tipo_pago2').value = '';
                    document.getElementById('pagado2').value = '0.00';     
                    
                }else if(no_pago == 3){
                    document.getElementById("no_pago").value = 2;
                    document.getElementById('pago_3').value = '0';
                    document.getElementById('pago3').value = '';
                    document.getElementById('tipo_pago3').value = '';
                    document.getElementById('pagado3').value = '0.00';     
                    
                }else if(no_pago == 4){
                    document.getElementById("no_pago").value = 3;
                    document.getElementById('pago_4').value = '0';
                    document.getElementById('pago4').value = '';
                    document.getElementById('tipo_pago4').value = '';
                    document.getElementById('pagado4').value = '0.00';     
                    
                }else if(no_pago == 5){
                    document.getElementById("no_pago").value = 4;
                    document.getElementById('pago_5').value = '0';
                    document.getElementById('pago5').value = '';
                    document.getElementById('tipo_pago5').value = '';
                    document.getElementById('pagado5').value = '0.00';     
                    
                }else if(no_pago == 6){
                    document.getElementById("no_pago").value = 5;
                    document.getElementById('pago_6').value = '0';
                    document.getElementById('pago6').value = '';
                    document.getElementById('tipo_pago6').value = '';
                    document.getElementById('pagado6').value = '0.00';     
                    
                }else if(no_pago == 7){
                    document.getElementById("no_pago").value = 6;
                    document.getElementById('pago_7').value = '0';
                    document.getElementById('pago7').value = '';
                    document.getElementById('tipo_pago7').value = '';
                    document.getElementById('pagado7').value = '0.00';     
                    
                }else if(no_pago == 8){
                    document.getElementById("no_pago").value = 7;
                    document.getElementById('pago_8').value = '0';
                    document.getElementById('pago8').value = '';
                    document.getElementById('tipo_pago8').value = '';
                    document.getElementById('pagado8').value = '0.00';     
                    
                }else if(no_pago == 9){
                    document.getElementById("no_pago").value = 8;
                    document.getElementById('pago_9').value = '0';
                    document.getElementById('pago9').value = '';
                    document.getElementById('tipo_pago9').value = '';
                    document.getElementById('pagado9').value = '0.00';     
                    
                }else if(no_pago == 10){
                    document.getElementById("no_pago").value = 9;
                    document.getElementById('pago_10').value = '0';
                    document.getElementById('pago10').value = '';
                    document.getElementById('tipo_pago10').value = '';
                    document.getElementById('pagado10').value = '0.00';     
                    
                }
                
       //document.getElementById('prepaid').value = "0.00"; 
       //document.getElementById('temp_prepaid').value = "0.00"; 
       document.getElementById("pago_driver").disabled = false;
       document.getElementById('pago_driver').placeholder = "0.00";       
       document.getElementById("btnPagolinea").disabled = true;
       document.getElementById("btnPagolinea").style.display = "none";
       document.getElementById("btndecline").style.display = "none"; 
       document.getElementById("btncancol").style.display = "none"; 
       document.getElementById("btnAceptar").disabled = true;
       document.getElementById("btnAceptar").style.background = "lightgray";        
       $("#pago_driver").focus();       
       
       mostrarVentana2();

       
    
    }
    
</script>

<script type="text/javascript">
    
    function Exit_Cob()
    {
        var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor
        var no_pago = $("#no_pago").val();   
        var paid_driver = $("#paid_driver").val();
        var pay_amount = $("#pay_amount").val();        
        var pago_driver2 = $("#pago_driver2").val();         
        var temp_driver = $("#temp_driver").val(); 
        var temp_prepaid = $("#temp_prepaid").val();
        var estado_cob1 = $("#estado_cob1").val();
        var estado_cob2 = $("#estado_cob2").val();
        var estado_cob3 = $("#estado_cob3").val();
        var estado_cob4 = $("#estado_cob4").val();
        var estado_cob5 = $("#estado_cob5").val();
        var estado_cob6 = $("#estado_cob6").val();
        var estado_cob7 = $("#estado_cob7").val();
        var estado_cob8 = $("#estado_cob8").val();
        var estado_cob9 = $("#estado_cob9").val();
        var estado_cob10 = $("#estado_cob10").val();
        var collect = $("#collect").val(); 
  
        
//        if(paid_driver == '0.00'){            
//            
//            rever_collect_on_board();            
//            
//        }
        
        //COLLECT ON BOARD (SI HAY PAGOS AL CONDUCTOR)
        
        
        if(paid_driver == '0.00' && pay_amount == '0.00'){
            
            //alert("iguales a ceros ambos"); OK
            
            if(no_pago == '1' && estado_cob1 == 'temp_cob1'){                 
                
                //var collect = parseFloat($("#paid_driver").val()); 
                //var temp_driver = $("#temp_driver").val();          
                var vacio = '';
                var cero = '0.00';                  
                      
                $("#no_pago").val(0);
                $("#pago_1").val(0);
                $("#pago1").val(vacio);
                $("#tipo_pago1").val(vacio);
                $("#pagado1").val(cero);
                $("#pago_driver2").val((0).toFixed(2));
                $("#collect").val((0).toFixed(2));
                $("#temp_driver").val((0).toFixed(2));                
                $("#temp").val((0).toFixed(2));
                //$("#estado_cob1").val(vacio);
                document.getElementById('estado_cob1').value = "";
                document.getElementById('btnPagolinea').style.display = 'none';
                
                CalcularTotalTotal();
                
                document.getElementById("btndecline").style.display = "none"; 
                document.getElementById("btncancol").style.display = "none"; 
                document.getElementById("btnAceptar").disabled = true;
                document.getElementById("btnAceptar").style.background = "lightgray";        
                ventana2.style.display = 'none'; // Y lo hacemos invisible
                $('#vent1').show();
                
            }
            
            
        }
        
        if(paid_driver > '0.00' && pay_amount == '0.00'){            
            
            //alert("paid driver mayor que cero, pay_amount igual a cero"); 
            
            if(no_pago == '1' && estado_cob1 == 'temp_cob1'){                 
                
                var collect = $("#paid_driver").val(); 
                var temp_driver = $("#temp_driver").val();
                var temp_prepaid = $("#temp_prepaid").val();
                var temp = $("#temp").val();
                var temporal = parseFloat(temp) - parseFloat(temp_driver);
                var vacio = '';
                var cero = '0.00';                  
                
                if(tipo_pago1 == 'CREDIT CARD WITH FEE'){              

                    $("#no_pago").val(0);
                    $("#pago_1").val(0);
                    $("#pago1").val(vacio);
                    $("#tipo_pago1").val(vacio);
                    $("#pagado1").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val((collect).toFixed(2));
                    $("#temp_driver").val((0).toFixed(2));                
                    $("#temp").val((temporal).toFixed(2));
                    //$("#estado_cob1").val(vacio);
                    document.getElementById('estado_cob1').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';

                    CalcularTotalTotal();

                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pago1 == 'CREDIT CARD NO FEE' || tipo_pago1 == 'CASH' || tipo_pago1 == 'CHECK'){
                    
                    var temporal = 0;
                    var paid_driver = $("#paid_driver").val();                
                    var temp_driver = $("#temp_driver").val();
                    var temp_prepaid = $("#temp_prepaid").val();
                    var tipo_pago1 = $("#tipo_pago1").val();
                    var temp = $("#temp").val();
                    
                    $("#no_pago").val(0);
                    $("#pago_1").val(0);
                    $("#pago1").val(vacio);
                    $("#tipo_pago1").val(vacio);
                    $("#pagado1").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob1').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();                    
                    
                }       
                
                
                
            }
            
            if(no_pago == '2' && estado_cob2 == 'temp_cob2'){ 
                
                //alert("aqui");
                
                var tipo_pago2 = document.getElementById('tipo_pago2').value;
                var pagado2 = document.getElementById('pagado2').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';                
                
                if(tipo_pago2 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado2) - parseFloat(pagado2/1.04);                 
                    $("#no_pago").val(1);
                    $("#pago_2").val(0);
                    $("#pago2").val(vacio);
                    $("#tipo_pago2").val(vacio);
                    $("#pagado2").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob2').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago2 == 'CREDIT CARD NO FEE' || tipo_pago2 == 'CASH' || tipo_pago2 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(1);
                    $("#pago_2").val(0);
                    $("#pago2").val(vacio);
                    $("#tipo_pago2").val(vacio);
                    $("#pagado2").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob2').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            
            if(no_pago == '3' && estado_cob3 == 'temp_cob3'){ 
                
                var tipo_pago3 = document.getElementById('tipo_pago3').value;
                var pagado3 = document.getElementById('pagado3').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago3 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado3) - parseFloat(pagado3/1.04);                 
                    $("#no_pago").val(2);
                    $("#pago_3").val(0);
                    $("#pago3").val(vacio);
                    $("#tipo_pago3").val(vacio);
                    $("#pagado3").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob3').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago3 == 'CREDIT CARD NO FEE' || tipo_pago3 == 'CASH' || tipo_pago3 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(2);
                    $("#pago_3").val(0);
                    $("#pago3").val(vacio);
                    $("#tipo_pago3").val(vacio);
                    $("#pagado3").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob3').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '4' && estado_cob4 == 'temp_cob4'){ 
                
                var tipo_pago4 = document.getElementById('tipo_pago4').value;
                var pagado4 = document.getElementById('pagado4').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());                
                var vacio = '';
                var cero = '0.00';                
                
                if(tipo_pago4 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado4) - parseFloat(pagado4/1.04);                 
                    $("#no_pago").val(3);
                    $("#pago_4").val(0);
                    $("#pago4").val(vacio);
                    $("#tipo_pago4").val(vacio);
                    $("#pagado4").val(cero);
                    $("#pago_driver4").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob4').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago4 == 'CREDIT CARD NO FEE' || tipo_pago4 == 'CASH' || tipo_pago4 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(3);
                    $("#pago_4").val(0);
                    $("#pago4").val(vacio);
                    $("#tipo_pago4").val(vacio);
                    $("#pagado4").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob4').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '5' && estado_cob5 == 'temp_cob5'){ 
                
                var tipo_pago5 = document.getElementById('tipo_pago5').value;
                var pagado5 = document.getElementById('pagado5').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago5 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado5) - parseFloat(pagado5/1.04);                 
                    $("#no_pago").val(4);
                    $("#pago_5").val(0);
                    $("#pago5").val(vacio);
                    $("#tipo_pago5").val(vacio);
                    $("#pagado5").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob5').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago5 == 'CREDIT CARD NO FEE' || tipo_pago5 == 'CASH' || tipo_pago5 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(4);
                    $("#pago_5").val(0);
                    $("#pago5").val(vacio);
                    $("#tipo_pago5").val(vacio);
                    $("#pagado5").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob5').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '6' && estado_cob6 == 'temp_cob6'){ 
                
                var tipo_pago6 = document.getElementById('tipo_pago6').value;
                var pagado6 = document.getElementById('pagado6').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago6 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado6) - parseFloat(pagado6/1.04);                 
                    $("#no_pago").val(5);
                    $("#pago_6").val(0);
                    $("#pago6").val(vacio);
                    $("#tipo_pago6").val(vacio);
                    $("#pagado6").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob6').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal(); 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago6 == 'CREDIT CARD NO FEE' || tipo_pago6 == 'CASH' || tipo_pago6 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(5);
                    $("#pago_6").val(0);
                    $("#pago6").val(vacio);
                    $("#tipo_pago6").val(vacio);
                    $("#pagado6").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob6').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '7' && estado_cob7 == 'temp_cob7'){ 
                
                var tipo_pago7 = document.getElementById('tipo_pago7').value;
                var pagado7 = document.getElementById('pagado7').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago7 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado7) - parseFloat(pagado7/1.04);                 
                    $("#no_pago").val(6);
                    $("#pago_7").val(0);
                    $("#pago7").val(vacio);
                    $("#tipo_pago7").val(vacio);
                    $("#pagado7").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob7').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago7 == 'CREDIT CARD NO FEE' || tipo_pago7 == 'CASH' || tipo_pago7 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(6);
                    $("#pago_7").val(0);
                    $("#pago7").val(vacio);
                    $("#tipo_pago7").val(vacio);
                    $("#pagado7").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob7').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();                    
                    
                }              
                
                
            }
            
            if(no_pago == '8' && estado_cob8 == 'temp_cob8'){ 
                
                var tipo_pago8 = document.getElementById('tipo_pago8').value;
                var pagado8 = document.getElementById('pagado8').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago8 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado8) - parseFloat(pagado8/1.04);                 
                    $("#no_pago").val(7);
                    $("#pago_8").val(0);
                    $("#pago8").val(vacio);
                    $("#tipo_pago8").val(vacio);
                    $("#pagado8").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob8').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago8 == 'CREDIT CARD NO FEE' || tipo_pago8 == 'CASH' || tipo_pago8 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(7);
                    $("#pago_8").val(0);
                    $("#pago8").val(vacio);
                    $("#tipo_pago8").val(vacio);
                    $("#pagado8").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob8').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '9' && estado_cob9 == 'temp_cob9'){ 
                
                var tipo_pago9 = document.getElementById('tipo_pago9').value;
                var pagado9 = document.getElementById('pagado9').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago9 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado9) - parseFloat(pagado9/1.04);                 
                    $("#no_pago").val(8);
                    $("#pago_9").val(0);
                    $("#pago9").val(vacio);
                    $("#tipo_pago9").val(vacio);
                    $("#pagado9").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob9').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago9 == 'CREDIT CARD NO FEE' || tipo_pago9 == 'CASH' || tipo_pago9 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(8);
                    $("#pago_9").val(0);
                    $("#pago9").val(vacio);
                    $("#tipo_pago9").val(vacio);
                    $("#pagado9").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob9').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '10' && estado_cob10 == 'temp_cob10'){ 
                
                var tipo_pago10 = document.getElementById('tipo_pago10').value;
                var pagado10 = document.getElementById('pagado10').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago10 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado10) - parseFloat(pagado10/1.04);                 
                    $("#no_pago").val(9);
                    $("#pago_10").val(0);
                    $("#pago10").val(vacio);
                    $("#tipo_pago10").val(vacio);
                    $("#pagado10").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob10').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago10 == 'CREDIT CARD NO FEE' || tipo_pago10 == 'CASH' || tipo_pago10 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(9);
                    $("#pago_10").val(0);
                    $("#pago10").val(vacio);
                    $("#tipo_pago10").val(vacio);
                    $("#pagado10").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob10').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal(); 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            
            
        }
        
        if(paid_driver == '0.00' && pay_amount > '0.00'){
            
                        
            if(no_pago == '1' && estado_cob1 == 'temp_cob1'){                 
                
                var collect = parseFloat($("#paid_driver").val()); 
                var temp_driver = $("#temp_driver").val();
                var temp_prepaid = $("#temp_prepaid").val();
                var temp = $("#temp").val();
                var temporal = parseFloat(temp) - parseFloat(temp_driver);
                var vacio = '';
                var cero = '0.00';                  
                      
                $("#no_pago").val(0);
                $("#pago_1").val(0);
                $("#pago1").val(vacio);
                $("#tipo_pago1").val(vacio);
                $("#pagado1").val(cero);
                $("#pago_driver2").val((0).toFixed(2));
                $("#collect").val((collect).toFixed(2));
                $("#temp_driver").val((0).toFixed(2));                
                $("#temp").val((temporal).toFixed(2));
                //$("#estado_cob1").val(vacio);
                document.getElementById('estado_cob1').value = "";
                document.getElementById('btnPagolinea').style.display = 'none';
                
                CalcularTotalTotal();
                
                document.getElementById("btndecline").style.display = "none"; 
                document.getElementById("btncancol").style.display = "none"; 
                document.getElementById("btnAceptar").disabled = true;
                document.getElementById("btnAceptar").style.background = "lightgray";        
                ventana2.style.display = 'none'; // Y lo hacemos invisible
                $('#vent1').show();
                
            }
            
        }
        
                
        if(paid_driver > '0.00' && pay_amount > '0.00'){
            
            //alert("mayores los dos");            
                        
            if(no_pago == '1' && estado_cob1 == 'temp_cob1'){                 
                                               
                var paid_driver = $("#paid_driver").val();                
                var temp_driver = $("#temp_driver").val();
                var temp_prepaid = $("#temp_prepaid").val();
                var tipo_pago1 = $("#tipo_pago1").val();
                var temp = $("#temp").val();
                var temporal = (parseFloat(temp) - parseFloat(temp_driver)).toFixed(2);
                var vacio = '';
                var cero = '0.00';        
                
                if(tipo_pago1 == 'CREDIT CARD WITH FEE'){                    
                
                $("#no_pago").val(0);
                $("#pago_1").val(0);
                $("#pago1").val(vacio);
                $("#tipo_pago1").val(vacio);
                $("#pagado1").val(cero);
                $("#pago_driver2").val((0).toFixed(2));
                $("#collect").val(paid_driver);
                $("#temp_driver").val((0).toFixed(2));                
                $("#temp").val(temporal);
                
                document.getElementById('estado_cob1').value = "";
                document.getElementById('btnPagolinea').style.display = 'none';
                
                CalcularTotalTotal();
                
                document.getElementById("btndecline").style.display = "none"; 
                document.getElementById("btncancol").style.display = "none"; 
                document.getElementById("btnAceptar").disabled = true;
                document.getElementById("btnAceptar").style.background = "lightgray";        
                ventana2.style.display = 'none'; // Y lo hacemos invisible
                $('#vent1').show();
                
                }
                
                if(tipo_pago1 == 'CREDIT CARD NO FEE' || tipo_pago1 == 'CASH' || tipo_pago1 == 'CHECK'){
                    
                    var temporal = 0;
                    var paid_driver = $("#paid_driver").val();                
                    var temp_driver = $("#temp_driver").val();
                    var temp_prepaid = $("#temp_prepaid").val();
                    var tipo_pago1 = $("#tipo_pago1").val();
                    var temp = $("#temp").val();
                    
                    $("#no_pago").val(0);
                    $("#pago_1").val(0);
                    $("#pago1").val(vacio);
                    $("#tipo_pago1").val(vacio);
                    $("#pagado1").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob1').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                    
                }
                
            }
            
            if(no_pago == '2' && estado_cob2 == 'temp_cob2'){ 
                
                var tipo_pago2 = document.getElementById('tipo_pago2').value;
                var pagado2 = document.getElementById('pagado2').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';                
                
                if(tipo_pago2 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado2) - parseFloat(pagado2/1.04);                 
                    $("#no_pago").val(1);
                    $("#pago_2").val(0);
                    $("#pago2").val(vacio);
                    $("#tipo_pago2").val(vacio);
                    $("#pagado2").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob2').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago2 == 'CREDIT CARD NO FEE' || tipo_pago2 == 'CASH' || tipo_pago2 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(1);
                    $("#pago_2").val(0);
                    $("#pago2").val(vacio);
                    $("#tipo_pago2").val(vacio);
                    $("#pagado2").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob2').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            
            if(no_pago == '3' && estado_cob3 == 'temp_cob3'){ 
                
                var tipo_pago3 = document.getElementById('tipo_pago3').value;
                var pagado3 = document.getElementById('pagado3').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago3 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado3) - parseFloat(pagado3/1.04);                 
                    $("#no_pago").val(2);
                    $("#pago_3").val(0);
                    $("#pago3").val(vacio);
                    $("#tipo_pago3").val(vacio);
                    $("#pagado3").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob3').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago3 == 'CREDIT CARD NO FEE' || tipo_pago3 == 'CASH' || tipo_pago3 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(2);
                    $("#pago_3").val(0);
                    $("#pago3").val(vacio);
                    $("#tipo_pago3").val(vacio);
                    $("#pagado3").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob3').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '4' && estado_cob4 == 'temp_cob4'){ 
                
                var tipo_pago4 = document.getElementById('tipo_pago4').value;
                var pagado4 = document.getElementById('pagado4').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';                
                
                if(tipo_pago4 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado4) - parseFloat(pagado4/1.04);                 
                    $("#no_pago").val(3);
                    $("#pago_4").val(0);
                    $("#pago4").val(vacio);
                    $("#tipo_pago4").val(vacio);
                    $("#pagado4").val(cero);
                    $("#pago_driver4").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob4').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago4 == 'CREDIT CARD NO FEE' || tipo_pago4 == 'CASH' || tipo_pago4 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(3);
                    $("#pago_4").val(0);
                    $("#pago4").val(vacio);
                    $("#tipo_pago4").val(vacio);
                    $("#pagado4").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob4').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '5' && estado_cob5 == 'temp_cob5'){ 
                
                var tipo_pago5 = document.getElementById('tipo_pago5').value;
                var pagado5 = document.getElementById('pagado5').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago5 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado5) - parseFloat(pagado5/1.04);                 
                    $("#no_pago").val(4);
                    $("#pago_5").val(0);
                    $("#pago5").val(vacio);
                    $("#tipo_pago5").val(vacio);
                    $("#pagado5").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob5').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago5 == 'CREDIT CARD NO FEE' || tipo_pago5 == 'CASH' || tipo_pago5 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(4);
                    $("#pago_5").val(0);
                    $("#pago5").val(vacio);
                    $("#tipo_pago5").val(vacio);
                    $("#pagado5").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob5').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '6' && estado_cob6 == 'temp_cob6'){ 
                
                var tipo_pago6 = document.getElementById('tipo_pago6').value;
                var pagado6 = document.getElementById('pagado6').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago6 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado6) - parseFloat(pagado6/1.04);                 
                    $("#no_pago").val(5);
                    $("#pago_6").val(0);
                    $("#pago6").val(vacio);
                    $("#tipo_pago6").val(vacio);
                    $("#pagado6").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob6').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal(); 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago6 == 'CREDIT CARD NO FEE' || tipo_pago6 == 'CASH' || tipo_pago6 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(5);
                    $("#pago_6").val(0);
                    $("#pago6").val(vacio);
                    $("#tipo_pago6").val(vacio);
                    $("#pagado6").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob6').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '7' && estado_cob7 == 'temp_cob7'){ 
                
                var tipo_pago7 = document.getElementById('tipo_pago7').value;
                var pagado7 = document.getElementById('pagado7').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago7 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado7) - parseFloat(pagado7/1.04);                 
                    $("#no_pago").val(6);
                    $("#pago_7").val(0);
                    $("#pago7").val(vacio);
                    $("#tipo_pago7").val(vacio);
                    $("#pagado7").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob7').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago7 == 'CREDIT CARD NO FEE' || tipo_pago7 == 'CASH' || tipo_pago7 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(6);
                    $("#pago_7").val(0);
                    $("#pago7").val(vacio);
                    $("#tipo_pago7").val(vacio);
                    $("#pagado7").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob7').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();                    
                    
                }              
                
                
            }
            
            if(no_pago == '8' && estado_cob8 == 'temp_cob8'){ 
                
                var tipo_pago8 = document.getElementById('tipo_pago8').value;
                var pagado8 = document.getElementById('pagado8').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago8 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado8) - parseFloat(pagado8/1.04);                 
                    $("#no_pago").val(7);
                    $("#pago_8").val(0);
                    $("#pago8").val(vacio);
                    $("#tipo_pago8").val(vacio);
                    $("#pagado8").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob8').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago8 == 'CREDIT CARD NO FEE' || tipo_pago8 == 'CASH' || tipo_pago8 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(7);
                    $("#pago_8").val(0);
                    $("#pago8").val(vacio);
                    $("#tipo_pago8").val(vacio);
                    $("#pagado8").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob8').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '9' && estado_cob9 == 'temp_cob9'){ 
                
                var tipo_pago9 = document.getElementById('tipo_pago9').value;
                var pagado9 = document.getElementById('pagado9').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago9 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado9) - parseFloat(pagado9/1.04);                 
                    $("#no_pago").val(8);
                    $("#pago_9").val(0);
                    $("#pago9").val(vacio);
                    $("#tipo_pago9").val(vacio);
                    $("#pagado9").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob9').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();  
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago9 == 'CREDIT CARD NO FEE' || tipo_pago9 == 'CASH' || tipo_pago9 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(8);
                    $("#pago_9").val(0);
                    $("#pago9").val(vacio);
                    $("#tipo_pago9").val(vacio);
                    $("#pagado9").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob9').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }
            
            if(no_pago == '10' && estado_cob10 == 'temp_cob10'){ 
                
                var tipo_pago10 = document.getElementById('tipo_pago10').value;
                var pagado10 = document.getElementById('pagado10').value;
                var temp = parseFloat($("#temp").val());
                var temp_driver = parseFloat($("#temp_driver").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                
                if(tipo_pago10 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagado10) - parseFloat(pagado10/1.04);                 
                    $("#no_pago").val(9);
                    $("#pago_10").val(0);
                    $("#pago10").val(vacio);
                    $("#tipo_pago10").val(vacio);
                    $("#pagado10").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob10').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                 
                                
                if(tipo_pago10 == 'CREDIT CARD NO FEE' || tipo_pago10 == 'CASH' || tipo_pago10 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_pago").val(9);
                    $("#pago_10").val(0);
                    $("#pago10").val(vacio);
                    $("#tipo_pago10").val(vacio);
                    $("#pagado10").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#collect").val(paid_driver);
                    $("#temp_driver").val((temp_driver-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_cob10').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal(); 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";        
                    ventana2.style.display = 'none'; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }              
                
                
            }     
            
            
        }
        
        


    }
</script>

<script type="text/javascript">
    
    function declinar() 
    {
        
        
        var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor
        var pay_amount = document.getElementById('pay_amount').value;        
        var no_prep = document.getElementById('no_prep').value;    
        var pago_driver2 = document.getElementById('pago_driver2').value; 
        var prepaid = document.getElementById('prepaid').value;   
        var temp_prepaid = document.getElementById('temp_prepaid').value;
        var temp_driver = document.getElementById('temp_driver').value;
        
        
        var estado_pre1 = document.getElementById('estado_pre1').value;
        var estado_pre2 = document.getElementById('estado_pre2').value;
        var estado_pre3 = document.getElementById('estado_pre3').value;
        var estado_pre4 = document.getElementById('estado_pre4').value;
        var estado_pre5 = document.getElementById('estado_pre5').value;
        var estado_pre6 = document.getElementById('estado_pre6').value;
        var estado_pre7 = document.getElementById('estado_pre7').value;
        var estado_pre8 = document.getElementById('estado_pre8').value;
        var estado_pre9 = document.getElementById('estado_pre9').value;
        var estado_pre10 = document.getElementById('estado_pre10').value;
        
        if(pay_amount == '0.00'){
            
            rever_prepaid();
            
        }      
        
        //PREPAID (SI HAY PAGOS PREPAGADOS)
        
        if(pay_amount > "0.00" || pay_amount == "0.00"){            
            
               
            if(no_prep == '1' && estado_pre1 == 'temp_pre1'){ 
                
                var prepaid = parseFloat($("#pay_amount").val());  
                var vacio = "";
                var cero ='0.00';
                var temp = "<?php echo $total_charge;?>";
                
                if(prepaid > '0.00'){         
                   pay_amount = prepaid;                   
                }else{
                   pay_amount = 0;
                }
                
                $("#no_prep").val(0);
                $("#pago_pre1").val(0);
                $("#pagopre1").val(vacio);
                $("#tipo_pagopre1").val(vacio);
                $("#pagadopre1").val(cero);
                $("#pago_driver2").val((0).toFixed(2));                  
                $("#prepaid").val((pay_amount).toFixed(2));
                $("#temp_prepaid").val((0).toFixed(2));                
                $("#temp").val(temp);
                //$("#estado_pre1").val(vacio);
                document.getElementById('estado_pre1').value = "";
                document.getElementById('btnPagolinea').style.display = 'none';
                
                CalcularTotalTotal();  
                
                document.getElementById("btndecline").style.display = "none"; 
                document.getElementById("btncancol").style.display = "none"; 
                document.getElementById("btnAceptar").disabled = true;
                document.getElementById("btnAceptar").style.background = "lightgray";
                ventana2.style.display = "none"; // Y lo hacemos invisible
                $('#vent1').show();
            }

            if(no_prep == '2' && estado_pre2 == 'temp_pre2'){  
                
                var tipo_pagopre2 = document.getElementById('tipo_pagopre2').value;
                var pagadopre2 = document.getElementById('pagadopre2').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre2 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre2) - parseFloat(pagadopre2/1.04); 
                    
                    $("#no_prep").val(1);
                    $("#pago_pre2").val(0);
                    $("#pagopre2").val(vacio);
                    $("#tipo_pagopre2").val(vacio);
                    $("#pagadopre2").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre2').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre2 == 'CREDIT CARD NO FEE' || tipo_pagopre2 == 'CASH' || tipo_pagopre2 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(1);
                    $("#pago_pre2").val(0);
                    $("#pagopre2").val(vacio);
                    $("#tipo_pagopre2").val(vacio);
                    $("#pagadopre2").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre2').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
                
            }

            if(no_prep == '3' && estado_pre3 == 'temp_pre3'){  
                
                var tipo_pagopre3 = document.getElementById('tipo_pagopre3').value;
                var pagadopre3 = document.getElementById('pagadopre3').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre3 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre3) - parseFloat(pagadopre3/1.04); 
                    
                    $("#no_prep").val(2);
                    $("#pago_pre3").val(0);
                    $("#pagopre3").val(vacio);
                    $("#tipo_pagopre3").val(vacio);
                    $("#pagadopre3").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre3').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre3 == 'CREDIT CARD NO FEE' || tipo_pagopre3 == 'CASH' || tipo_pagopre3 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(2);
                    $("#pago_pre3").val(0);
                    $("#pagopre3").val(vacio);
                    $("#tipo_pagopre3").val(vacio);
                    $("#pagadopre3").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre3').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }

            if(no_prep == '4' && estado_pre4 == 'temp_pre4'){ 
                
                var tipo_pagopre4 = document.getElementById('tipo_pagopre4').value;
                var pagadopre4 = document.getElementById('pagadopre4').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre4 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre4) - parseFloat(pagadopre4/1.04); 
                    
                    $("#no_prep").val(3);
                    $("#pago_pre4").val(0);
                    $("#pagopre4").val(vacio);
                    $("#tipo_pagopre4").val(vacio);
                    $("#pagadopre4").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre4').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre4 == 'CREDIT CARD NO FEE' || tipo_pagopre4 == 'CASH' || tipo_pagopre4 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(3);
                    $("#pago_pre4").val(0);
                    $("#pagopre4").val(vacio);
                    $("#tipo_pagopre4").val(vacio);
                    $("#pagadopre4").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre4').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }

            if(no_prep == '5' && estado_pre5 == 'temp_pre5'){                   
                
                var tipo_pagopre5 = document.getElementById('tipo_pagopre5').value;
                var pagadopre5 = document.getElementById('pagadopre5').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre5 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre5) - parseFloat(pagadopre5/1.04); 
                    
                    $("#no_prep").val(4);
                    $("#pago_pre5").val(0);
                    $("#pagopre5").val(vacio);
                    $("#tipo_pagopre5").val(vacio);
                    $("#pagadopre5").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre5').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre5 == 'CREDIT CARD NO FEE' || tipo_pagopre5 == 'CASH' || tipo_pagopre5 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(4);
                    $("#pago_pre5").val(0);
                    $("#pagopre5").val(vacio);
                    $("#tipo_pagopre5").val(vacio);
                    $("#pagadopre5").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre5').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }

            if(no_prep == '6' && estado_pre6 == 'temp_pre6'){  
                
                var tipo_pagopre6 = document.getElementById('tipo_pagopre6').value;
                var pagadopre6 = document.getElementById('pagadopre6').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre6 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre6) - parseFloat(pagadopre6/1.04); 
                    
                    $("#no_prep").val(5);
                    $("#pago_pre6").val(0);
                    $("#pagopre6").val(vacio);
                    $("#tipo_pagopre6").val(vacio);
                    $("#pagadopre6").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre6').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre6 == 'CREDIT CARD NO FEE' || tipo_pagopre6 == 'CASH' || tipo_pagopre6 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(5);
                    $("#pago_pre6").val(0);
                    $("#pagopre6").val(vacio);
                    $("#tipo_pagopre6").val(vacio);
                    $("#pagadopre6").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre6').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }

            if(no_prep == '7' && estado_pre7 == 'temp_pre7'){ 
                
                var tipo_pagopre7 = document.getElementById('tipo_pagopre7').value;
                var pagadopre7 = document.getElementById('pagadopre7').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre7 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre7) - parseFloat(pagadopre7/1.04); 
                    
                    $("#no_prep").val(6);
                    $("#pago_pre7").val(0);
                    $("#pagopre7").val(vacio);
                    $("#tipo_pagopre7").val(vacio);
                    $("#pagadopre7").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre7').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre7 == 'CREDIT CARD NO FEE' || tipo_pagopre7 == 'CASH' || tipo_pagopre7 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(6);
                    $("#pago_pre7").val(0);
                    $("#pagopre7").val(vacio);
                    $("#tipo_pagopre7").val(vacio);
                    $("#pagadopre7").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre7').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }

            if(no_prep == '8' && estado_pre8 == 'temp_pre8'){ 
                
                var tipo_pagopre8 = document.getElementById('tipo_pagopre8').value;
                var pagadopre8 = document.getElementById('pagadopre8').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre8 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre8) - parseFloat(pagadopre8/1.04); 
                    
                    $("#no_prep").val(7);
                    $("#pago_pre8").val(0);
                    $("#pagopre8").val(vacio);
                    $("#tipo_pagopre8").val(vacio);
                    $("#pagadopre8").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre8').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre8 == 'CREDIT CARD NO FEE' || tipo_pagopre8 == 'CASH' || tipo_pagopre8 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(7);
                    $("#pago_pre8").val(0);
                    $("#pagopre8").val(vacio);
                    $("#tipo_pagopre8").val(vacio);
                    $("#pagadopre8").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre8').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }

            if(no_prep == '9' && estado_pre9 == 'temp_pre9'){ 
                
                var tipo_pagopre9 = document.getElementById('tipo_pagopre9').value;
                var pagadopre9 = document.getElementById('pagadopre9').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre9 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre9) - parseFloat(pagadopre9/1.04); 
                    
                    $("#no_prep").val(8);
                    $("#pago_pre9").val(0);
                    $("#pagopre9").val(vacio);
                    $("#tipo_pagopre9").val(vacio);
                    $("#pagadopre9").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre9').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre9 == 'CREDIT CARD NO FEE' || tipo_pagopre9 == 'CASH' || tipo_pagopre9 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(8);
                    $("#pago_pre9").val(0);
                    $("#pagopre9").val(vacio);
                    $("#tipo_pagopre9").val(vacio);
                    $("#pagadopre9").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre9').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }  

            if(no_prep == '10' && estado_pre10 == 'temp_pre10'){  
                
                var tipo_pagopre10 = document.getElementById('tipo_pagopre10').value;
                var pagadopre10 = document.getElementById('pagadopre10').value;
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var vacio = '';
                var cero = '0.00';  
                
                if(tipo_pagopre10 == 'CREDIT CARD WITH FEE'){
                    
                    var temporal = parseFloat(pagadopre10) - parseFloat(pagadopre10/1.04); 
                    
                    $("#no_prep").val(9);
                    $("#pago_pre10").val(0);
                    $("#pagopre10").val(vacio);
                    $("#tipo_pagopre10").val(vacio);
                    $("#pagadopre10").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre10').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();    
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }
                
                if(tipo_pagopre10 == 'CREDIT CARD NO FEE' || tipo_pagopre10 == 'CASH' || tipo_pagopre10 == 'CHECK'){
                    
                    var temporal = 0;                 
                    $("#no_prep").val(9);
                    $("#pago_pre10").val(0);
                    $("#pagopre10").val(vacio);
                    $("#tipo_pagopre10").val(vacio);
                    $("#pagadopre10").val(cero);
                    $("#pago_driver2").val((0).toFixed(2));
                    $("#prepaid").val(pay_amount);
                    $("#temp_prepaid").val((temp_prepaid-temporal).toFixed(2));  
                    $("#temp").val((temp-temporal).toFixed(2));                    
                    document.getElementById('estado_pre10').value = "";
                    document.getElementById('btnPagolinea').style.display = 'none';
                    CalcularTotalTotal();   
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    ventana2.style.display = "none"; // Y lo hacemos invisible
                    $('#vent1').show();
                    
                }                      
                
            }        
            
            
        }        
        
        
        
    }
    
</script>


<script type="text/javascript">
    
    function retorn_pagos_cob(){
        
        var paid_driver = "<?php echo $paid_driver; ?>";
        var pay_amount = "<?php echo $pred_paid_amount; ?>";
        var temp = "<?php echo $total_charge; ?>";                
        
        var temp_prepaid = parseFloat($("#temp_prepaid").val()); 
        var pago_driver = $("#paid_driver").val();
        var pago_prepaid = $("#pay_amount").val();
        
        var temp_pago_driver = (parseFloat(pago_driver) - parseFloat(pago_driver/1.04)).toFixed(2);
        //var temp_pago_prepaid = (parseFloat(pago_prepaid) - parseFloat(pago_prepaid/1.04)).toFixed(2);
                           
            if(pago_driver > '0.00' && pago_prepaid == '0.00'){  
                
                var total_amount_paid = (parseFloat(pay_amount) + parseFloat(paid_driver)).toFixed(2);
                var temp = "<?php echo $total_charge; ?>";
                
                if(temp > '0.00'){        
                    var temp_pago_prepaid = parseFloat(temp);
                }else{
                    var temp_pago_prepaid = parseFloat($("#temp_prepaid").val());
                }
                
                $("#paid_driver").val(paid_driver);
                $("#collect").val(paid_driver);
                $("#tot_amount_paid").val(total_amount_paid);
                $("#temp").val(temp_pago_prepaid);
                CalcularTotalTotal();          
            }
            
            if(pago_driver > '0.00' && pago_prepaid > '0.00'){
                
                var total_amount_paid = (parseFloat(pago_prepaid) + parseFloat(paid_driver)).toFixed(2);
                var temp_prepaid = parseFloat($("#temp_prepaid").val()); 
                var temp = "<?php echo $total_charge; ?>";
                
                if(temp > '0.00'){        
                    var temp_pago_prepaid = parseFloat(temp) + parseFloat(temp_prepaid);
                }else{
                    var temp_pago_prepaid = parseFloat($("#temp_prepaid").val());
                }
                
                $("#paid_driver").val(paid_driver);
                $("#collect").val(paid_driver);
                $("#tot_amount_paid").val(total_amount_paid);
                $("#temp").val(temp_pago_prepaid);
                $("#pay_amount").val(pago_prepaid);
                $("#prepaid").val(pago_prepaid);                
                CalcularTotalTotal();             
            }                       
       
        
    }
    
    
    function rever_collect_on_board(){
        
//      var no_prep =  document.getElementById("no_prep").value;
        var no_pago = $("#no_pago").val();
        var pago_1  = $("#pago_1").val();
        var pago_2  = $("#pago_2").val();
        var pago_3  = $("#pago_3").val();
        var pago_4  = $("#pago_4").val();
        var pago_5  = $("#pago_5").val();
        var pago_6  = $("#pago_6").val();
        var pago_7  = $("#pago_7").val();
        var pago_8  = $("#pago_8").val();
        var pago_9  = $("#pago_9").val();
        var pago_10 = $("#pago_10").val();
        
        var estado_cob1 = $("#estado_cob1").val();
        var estado_cob2 = $("#estado_cob2").val();
        var estado_cob3 = $("#estado_cob3").val();
        var estado_cob4 = $("#estado_cob4").val();
        var estado_cob5 = $("#estado_cob5").val();
        var estado_cob6 = $("#estado_cob6").val();
        var estado_cob7 = $("#estado_cob7").val();
        var estado_cob8 = $("#estado_cob8").val();
        var estado_cob9 = $("#estado_cob9").val();
        var estado_cob10 = $("#estado_cob10").val();
        var saldo_por_pagar = $("#saldo_por_pagar").val();
        var totalpagar = $("#totalpagar").val();
        
        
      
        var paid_driver = "<?php echo $paid_driver; ?>";
        var pay_amount = "<?php echo $pred_paid_amount; ?>";
        var temp = "<?php echo $total_charge; ?>";  
        //var tot_amount_paid = document.getElementById("tot_amount_paid").value;
        var tot_amount_paid = $("#tot_amount_paid").val();
        
        var total_amount_paid = (parseFloat(pay_amount) + parseFloat(paid_driver)).toFixed(2);
        
        //var temp_prepaid = (pay_amount - (pay_amount/1.04)).toFixed(2);
        //var temp_tot_amount_paid = (tot_amount_paid - (tot_amount_paid/1.04)).toFixed(2);
                       
        document.getElementById('pago_driver').value = "0.00";          
        //document.getElementById('paid_driver').value = "0.00"; 
        
        //actualizacion
        
        if(no_pago == 0){ 
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            document.getElementById('trian6').style.display = 'none';
            document.getElementById('trian7').style.display = 'none';
            document.getElementById('trian8').style.display = 'none';
            document.getElementById('trian9').style.display = 'none';
            document.getElementById('trian10').style.display = 'none';
            
        }
        
                
        //old

        if(pago_1 == 1){
            
            document.getElementById('trian1').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_1').value = '0';
            document.getElementById('pago1').value = '';
            document.getElementById('tipo_pago1').value = '';
            document.getElementById('pagado1').value = '0.00';   
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            
            retorn_pagos_cob();            

        }
        if(pago_2 == 2){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_2').value = '0';
            document.getElementById('pago2').value = '';
            document.getElementById('tipo_pago2').value = '';
            document.getElementById('pagado2').value = '0.00';
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            
            retorn_pagos_cob();

        }
        if(pago_3 == 3){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_3').value = '0';
            document.getElementById('pago3').value = '';
            document.getElementById('tipo_pago3').value = '';
            document.getElementById('pagado3').value = '0.00';
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            
            retorn_pagos_cob();

        }
        if(pago_4 == 4){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_4').value = '0';
            document.getElementById('pago4').value = '';
            document.getElementById('tipo_pago4').value = '';
            document.getElementById('pagado4').value = '0.00'; 
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            
            retorn_pagos_cob();

        }
        if(pago_5 == 5){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_5').value = '0';
            document.getElementById('pago5').value = '';
            document.getElementById('tipo_pago5').value = '';
            document.getElementById('pagado5').value = '0.00';
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            document.getElementById("estado_cob5").value= '';
            
            retorn_pagos_cob();

        }
        if(pago_6 == 6){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            document.getElementById('trian6').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_6').value = '0';
            document.getElementById('pago6').value = '';
            document.getElementById('tipo_pago6').value = '';
            document.getElementById('pagado6').value = '0.00'; 
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            document.getElementById("estado_cob5").value= '';
            document.getElementById("estado_cob6").value= '';
            
            retorn_pagos_cob();

        }
        if(pago_7 == 7){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            document.getElementById('trian6').style.display = 'none';
            document.getElementById('trian7').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_7').value = '0';
            document.getElementById('pago7').value = '';
            document.getElementById('tipo_pago7').value = '';
            document.getElementById('pagado7').value = '0.00'; 
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            document.getElementById("estado_cob5").value= '';
            document.getElementById("estado_cob6").value= '';
            document.getElementById("estado_cob7").value= '';
            
            retorn_pagos_cob();
        }
        if(pago_8 == 8){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            document.getElementById('trian6').style.display = 'none';
            document.getElementById('trian7').style.display = 'none';
            document.getElementById('trian8').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_8').value = '0';
            document.getElementById('pago8').value = '';
            document.getElementById('tipo_pago8').value = '';
            document.getElementById('pagado8').value = '0.00'; 
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            document.getElementById("estado_cob5").value= '';
            document.getElementById("estado_cob6").value= '';
            document.getElementById("estado_cob7").value= '';
            document.getElementById("estado_cob8").value= '';
            
            retorn_pagos_cob();
        }
        if(pago_9 == 9){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            document.getElementById('trian6').style.display = 'none';
            document.getElementById('trian7').style.display = 'none';
            document.getElementById('trian8').style.display = 'none';
            document.getElementById('trian9').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_9').value = '0';
            document.getElementById('pago9').value = '';
            document.getElementById('tipo_pago9').value = '';
            document.getElementById('pagado9').value = '0.00'; 
            //document.getElementById('collect').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            document.getElementById("estado_cob5").value= '';
            document.getElementById("estado_cob6").value= '';
            document.getElementById("estado_cob7").value= '';
            document.getElementById("estado_cob8").value= '';            
            document.getElementById("estado_cob9").value= '';
            
            retorn_pagos_cob();

        }
        if(pago_10 == 10){
            
            document.getElementById('trian1').style.display = 'none';
            document.getElementById('trian2').style.display = 'none';
            document.getElementById('trian3').style.display = 'none';
            document.getElementById('trian4').style.display = 'none';
            document.getElementById('trian5').style.display = 'none';
            document.getElementById('trian6').style.display = 'none';
            document.getElementById('trian7').style.display = 'none';
            document.getElementById('trian8').style.display = 'none';
            document.getElementById('trian9').style.display = 'none';
            document.getElementById('trian10').style.display = 'none';
            
            document.getElementById("no_pago").value = 0;
            document.getElementById('pago_10').value = '0';
            document.getElementById('pago10').value = '';
            document.getElementById('tipo_pago10').value = '';
            document.getElementById('pagado10').value = '0.00'; 
            //document.getElementById('collect').value = '0.00'; 
            //document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById("estado_cob1").value= '';
            document.getElementById("estado_cob2").value= '';
            document.getElementById("estado_cob3").value= '';
            document.getElementById("estado_cob4").value= '';
            document.getElementById("estado_cob5").value= '';
            document.getElementById("estado_cob6").value= '';
            document.getElementById("estado_cob7").value= '';
            document.getElementById("estado_cob8").value= '';            
            document.getElementById("estado_cob9").value= '';
            document.getElementById("estado_cob10").value= '';
            
            retorn_pagos_cob();

        }
    
       //document.getElementById('collect').value = '0.00'; 
       document.getElementById('pago_driver2').value = '0.00';
       //document.getElementById('temp').value = '0.00';
       //document.getElementById('temp_driver').value = '0.00';
            
       document.getElementById("pago_driver").disabled = false;
       document.getElementById('pago_driver').placeholder = "0.00"; 
       document.getElementById('pago_tarjeta').value = "0.00"; 
       document.getElementById("btnPagolinea").disabled = true;
       document.getElementById("btnPagolinea").style.display = "none";
       document.getElementById("btndecline").style.display = "none"; 
       document.getElementById("btncancol").style.display = "none"; 
       document.getElementById("btnAceptar").disabled = true;
       document.getElementById("btnAceptar").style.background = "lightgray";  
       
       //document.getElementById('paid_driver').className = "brown3";
       //$("#pago_driver").focus();
       

     //CalcularTotalTotal();   
     document.getElementById('btn_rever_cob').style.display = "none";
     
//     resetal();
//     reset2();
//     ocultarVentana2();
       
        
    }
</script>

<script type="text/javascript">
    
    function retorno_pagos(){
        
//    var temp_driver = document.getElementById('temp_driver').value;      
//    var tot_amount_paid = document.getElementById("tot_amount_paid").value;  
    
    var temp_driver = parseFloat($("#temp_driver").val());      
    var tot_amount_paid = parseFloat($("#tot_amount_paid").val());
    var pay_amount = "<?php echo $pred_paid_amount; ?>";    
    var paid_driver = "<?php echo $paid_driver; ?>";
    var temp = "<?php echo $total_charge; ?>";
    
    
    var pago_driver = $("#paid_driver").val();
    var pago_prepaid = $("#pay_amount").val();
    
    //var temp_pago_driver = (parseFloat(pago_driver) - parseFloat(pago_driver/1.04)).toFixed(2);
    
    var temp_pago_prepaid = (parseFloat(pago_prepaid) - parseFloat(pago_prepaid/1.04)).toFixed(2);
      
                           
        if(pago_prepaid > '0.00' && pago_driver == '0.00'){             
           
                        
            var total_amount_paid = (parseFloat(pay_amount) + parseFloat(paid_driver)).toFixed(2);
            var temp = "<?php echo $total_charge; ?>";
    
            
            if(temp > '0.00'){        
                var temp_pago_driver = parseFloat(temp);
            }else{
                var temp_pago_driver = parseFloat($("#temp_driver").val());
            }
            
            $("#pay_amount").val(pay_amount);
            $("#prepaid").val(pay_amount);
            $("#tot_amount_paid").val(total_amount_paid);
            $("#temp").val((temp_pago_driver).toFixed(2));
            CalcularTotalTotal();          
        }

        if(pago_prepaid > '0.00' && pago_driver > '0.00'){        
            
            var temp = "<?php echo $total_charge; ?>";    
            var total_amount_paid = (parseFloat(pay_amount) + parseFloat(pago_driver)).toFixed(2);
            var temp_driver = parseFloat($("#temp_driver").val());    
            
            if(temp > '0.00'){        
                var temp_pago_driver = parseFloat(temp) + parseFloat(temp_driver);
               
            }else{
                var temp_pago_driver = parseFloat($("#temp_driver").val()); 
            }            
            
            $("#pay_amount").val(pay_amount);
            $("#prepaid").val(pay_amount);
            $("#tot_amount_paid").val(total_amount_paid);
            $("#temp").val(temp_pago_driver);
            $("#paid_driver").val(pago_driver);
            $("#collect").val(pago_driver);                
            CalcularTotalTotal();             
        }     
    
        
    }
    
    
    function rever_prepaid(){
        
    var no_prep =  $("#no_prep").val(); 
    var pago_pre1 = $("#pago_pre1").val(); 
    var pago_pre2 = $("#pago_pre2").val();  
    var pago_pre3 = $("#pago_pre3").val(); 
    var pago_pre4 = $("#pago_pre4").val();
    var pago_pre5 = $("#pago_pre5").val();
    var pago_pre6 = $("#pago_pre6").val();
    var pago_pre7 = $("#pago_pre7").val();
    var pago_pre8 = $("#pago_pre8").val(); 
    var pago_pre9 = $("#pago_pre9").val();
    var pago_pre10 = $("#pago_pre10").val();
    var estado_pre1 = $("#estado_pre1").val();
    var estado_pre2 = $("#estado_pre2").val();
    var estado_pre3 = $("#estado_pre3").val();
    var estado_pre4 = $("#estado_pre4").val(); 
    var estado_pre5 = $("#estado_pre5").val();
    var estado_pre6 = $("#estado_pre6").val(); 
    var estado_pre7 = $("#estado_pre7").val();
    var estado_pre8 = $("#estado_pre8").val();
    var estado_pre9 = $("#estado_pre9").val();
    var estado_pre10 = $("#estado_pre10").val();
//    var paid_driver = document.getElementById('paid_driver').value;
    var temp_driver = document.getElementById('temp_driver').value;
    //var pay_amount = document.getElementById('pay_amount').value;    
    //var tot_amount_paid = document.getElementById("tot_amount_paid").value;    
    var tot_amount_paid = $("#tot_amount_paid").val();
    
    
    var pay_amount = "<?php echo $pred_paid_amount; ?>";    
    var paid_driver = "<?php echo $paid_driver; ?>";
    var temp = "<?php echo $total_charge; ?>";             
    
    var total_amount_paid = (parseFloat(pay_amount) + parseFloat(paid_driver)).toFixed(2);

    
    
    //actualizacion
    
    if(no_prep == 0){ 
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            document.getElementById('cir6').style.display = 'none';
            document.getElementById('cir7').style.display = 'none';
            document.getElementById('cir8').style.display = 'none';
            document.getElementById('cir9').style.display = 'none';
            document.getElementById('cir10').style.display = 'none';
        }
        
        
        
    //old      
        if(pago_pre1 == 1){
            
            //alert("aqui");
            
            document.getElementById('cir1').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre1').value = '0';
            document.getElementById('pagopre1').value = '';
            document.getElementById('tipo_pagopre1').value = '';
            document.getElementById('pagadopre1').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            
            retorno_pagos();            
           

        }
        
        if(pago_pre2 == 2){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre2').value = '0';
            document.getElementById('pagopre2').value = '';
            document.getElementById('tipo_pagopre2').value = '';
            document.getElementById('pagadopre2').value = '0.00';
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';

            retorno_pagos();      
            
                        

        }
        if(pago_pre3 == 3){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre3').value = '0';
            document.getElementById('pagopre3').value = '';
            document.getElementById('tipo_pagopre3').value = '';
            document.getElementById('pagadopre3').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            
            retorno_pagos();    


        }
        
        if(pago_pre4 == 4){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre4').value = '0';
            document.getElementById('pagopre4').value = '';
            document.getElementById('tipo_pagopre4').value = '';
            document.getElementById('pagadopre4').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            
            retorno_pagos();
            
            
        }
        
        if(pago_pre5 == 5){
            
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre5').value = '0';
            document.getElementById('pagopre5').value = '';
            document.getElementById('tipo_pagopre5').value = '';
            document.getElementById('pagadopre5').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            document.getElementById("estado_pre5").value= '';
            
            retorno_pagos();           


        }
        
        if(pago_pre6 == 6){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            document.getElementById('cir6').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre6').value = '0';
            document.getElementById('pagopre6').value = '';
            document.getElementById('tipo_pagopre6').value = '';
            document.getElementById('pagadopre6').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            document.getElementById("estado_pre5").value= '';
            document.getElementById("estado_pre6").value= '';
            
            retorno_pagos();           

        }
        
        
        if(pago_pre7 == 7){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            document.getElementById('cir6').style.display = 'none';
            document.getElementById('cir7').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre7').value = '0';
            document.getElementById('pagopre7').value = '';
            document.getElementById('tipo_pagopre7').value = '';
            document.getElementById('pagadopre7').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            document.getElementById("estado_pre5").value= '';
            document.getElementById("estado_pre6").value= '';
            document.getElementById("estado_pre7").value= '';
            
            retorno_pagos();

        }
        
        if(pago_pre8 == 8){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            document.getElementById('cir6').style.display = 'none';
            document.getElementById('cir7').style.display = 'none';
            document.getElementById('cir8').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre8').value = '0';
            document.getElementById('pagopre8').value = '';
            document.getElementById('tipo_pagopre8').value = '';
            document.getElementById('pagadopre8').value = '0.00';
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            document.getElementById("estado_pre5").value= '';
            document.getElementById("estado_pre6").value= '';
            document.getElementById("estado_pre7").value= '';
            document.getElementById("estado_pre8").value= '';
            
            retorno_pagos();


        }
        
        if(pago_pre9 == 9){
        
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            document.getElementById('cir6').style.display = 'none';
            document.getElementById('cir7').style.display = 'none';
            document.getElementById('cir8').style.display = 'none';
            document.getElementById('cir9').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre9').value = '0';
            document.getElementById('pagopre9').value = '';
            document.getElementById('tipo_pagopre9').value = '';
            document.getElementById('pagadopre9').value = '0.00'; 
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            document.getElementById("estado_pre5").value= '';
            document.getElementById("estado_pre6").value= '';
            document.getElementById("estado_pre7").value= '';
            document.getElementById("estado_pre8").value= '';
            document.getElementById("estado_pre9").value= '';
            
            retorno_pagos();


        }
        
        if(pago_pre10 == 10){
            
            document.getElementById('cir1').style.display = 'none';
            document.getElementById('cir2').style.display = 'none';
            document.getElementById('cir3').style.display = 'none';
            document.getElementById('cir4').style.display = 'none';
            document.getElementById('cir5').style.display = 'none';
            document.getElementById('cir6').style.display = 'none';
            document.getElementById('cir7').style.display = 'none';
            document.getElementById('cir8').style.display = 'none';
            document.getElementById('cir9').style.display = 'none';
            document.getElementById('cir10').style.display = 'none';
            
            document.getElementById("no_prep").value = 0;
            document.getElementById('pago_pre10').value = '0';
            document.getElementById('pagopre10').value = '';
            document.getElementById('tipo_pagopre10').value = '';
            document.getElementById('pagadopre10').value = '0.00';
            //document.getElementById('prepaid').value = '0.00'; 
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('temp').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById("estado_pre1").value= '';
            document.getElementById("estado_pre2").value= '';
            document.getElementById("estado_pre3").value= '';
            document.getElementById("estado_pre4").value= '';
            document.getElementById("estado_pre5").value= '';
            document.getElementById("estado_pre6").value= '';
            document.getElementById("estado_pre7").value= '';
            document.getElementById("estado_pre8").value= '';
            document.getElementById("estado_pre9").value= '';
            document.getElementById("estado_pre10").value= '';
            
            retorno_pagos();


        }        
        
        //document.getElementById('prepaid').value = '0.00'; 
        //document.getElementById('temp').value = '0.00';
        //document.getElementById('temp_prepaid').value = '0.00';
        //document.getElementById('pago_driver2').value = '0.00';
        document.getElementById("pago_driver").disabled = false;
        document.getElementById('pago_driver').placeholder = "0.00"; 
        document.getElementById('pago_tarjeta').value = "0.00"; 
        document.getElementById("btnPagolinea").disabled = true;
        document.getElementById("btnPagolinea").style.display = "none";
        document.getElementById("btndecline").style.display = "none"; 
        document.getElementById("btncancol").style.display = "none"; 
        document.getElementById("btnAceptar").disabled = true;
        document.getElementById("btnAceptar").style.background = "lightgray";  

       

        //CalcularTotalTotal();
        document.getElementById('btn_rever_prepaid').style.display = "none";
     
        
    }
</script>

<!--<script type="text/javascript">
    
    function bajar_resumen()
    {
        
        setTimeout(function () {

                $('#download_summary').click();                

        }, 0.001);
        
    }
    
</script>-->



<script type="text/javascript">
    
    function fecha_ns_round()
    {

     var roundtrip = document.getElementById('roundtrip').checked; 

     if(roundtrip == true){
        
        var opcround = $("#estado_roundtrip").val();

        //CONFIRMED
        if(opcround == '1'){     

            document.getElementById('estado_roundtrip').style.background = "#98FB98"; 
            document.getElementById('estado_roundtrip').style.color = "#000";
            document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

            alert('Select the Return Date and Choose the respective Rate for the Trip');

            document.getElementById('estado_round').value = "1";

            document.getElementById('fecha_retorno').value = "<?php echo $fecha_retorno; ?>";                                    
            document.getElementbyId('fec_retorno_ns').value="<?php echo $fecha_retorno_ns; ?>";
            document.getElementbyId('fec_retorno_ns1').value = document.getElementbyId('fec_retorno_ns').value;

            //document.getElementById('fec_salida_ns').value = "<?php echo $fecha_salida_ns; ?>";

            //Standard Price Trip 2   
            document.getElementById('subtoadult2').value = "<?php echo $subtoadult2; ?>";                                
            document.getElementById('subtochild2').value = "<?php echo $subtochild2; ?>";

            //Super Flex Price Trip2   
            document.getElementById('subtoadult4').value = "<?php echo $subtoadult2; ?>";                                    
            document.getElementById('subtochild4').value = "<?php echo $subtochild2; ?>";

            //Extensiones Trip 2
            document.getElementById('price_exten04').value = "<?php echo $exten4a; ?>";                                  
            document.getElementById('price_exten03').value = "<?php echo $exten3a; ?>";

            document.getElementById('ext_from2').value = "<?php echo $extension3; ?>";                                    
            document.getElementById('ext_to2').value = "<?php echo $extension4; ?>";

            //document.getElementById('pickup2').disabled = false;
            //document.getElementById('dropoff2').disabled = false;


            document.getElementById('tari_round').value = "<?php  if($reserva->tarifa_round == '1') { echo 'Standard Price'; } else if($reserva->tarifa_round == '7') { echo 'Special Price'; } else if($reserva->tarifa_round == '0') { echo ''; } else if ($reserva->tarifa_round == '2') {  echo 'Super Flex Price'; } ?>";

            document.getElementById('tarifround').value = "<?php  if($reserva->tarifa_round == '1') { echo '1'; } else if($reserva->tarifa_round == '7') { echo '7'; } else if($reserva->tarifa_round == '0') { echo '0'; } else if ($reserva->tarifa_round == '2') {  echo '2'; } ?>";



            CalcularTotal();                               
            CalcularTotalTotal();
            
             setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = 8;
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);


        //NO SHOW
        }else if(opcround == '2'){

            document.getElementById('estado_round').value = "2";

            document.getElementById('fecha_retorno').value = "N/S";

            document.getElementById('subtoadult2').value = 0;
            document.getElementById('subtochild2').value = 0;

            document.getElementById('subtoadult4').value = 0;
            document.getElementById('subtochild4').value = 0;

            document.getElementById('price_exten03').value = 0;
            document.getElementById('price_exten04').value = 0;                                   

            document.getElementById('ext_from2').value = 0;                                    
            document.getElementById('ext_to2').value = 0;     

            document.getElementById('tari_round').value = '';
            document.getElementById('tarifaround').value = 0;     

            //document.getElementById('pickup2').disabled = false;
            //document.getElementById('dropoff2').disabled = false;

            document.getElementById('estado_roundtrip').style.background = "#00BFFF";  
            document.getElementById('estado_roundtrip').style.color = "#000";
            document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

            CalcularTotal();    
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = 8;
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        //NO SHOW W/FEE
        } else if(opcround == '3'){

            document.getElementById('estado_round').value = "3";

            document.getElementById('fecha_retorno').value = "N/S W/FEE";

            //Standard Price Trip 2   
            document.getElementById('subtoadult2').value = "<?php echo $subtoadult2; ?>";                                
            document.getElementById('subtochild2').value = "<?php echo $subtochild2; ?>";

            //Super Flex Price Trip2   
            document.getElementById('subtoadult4').value = "<?php echo $subtoadult2; ?>";                                    
            document.getElementById('subtochild4').value = "<?php echo $subtochild2; ?>";

            //Extensiones Trip 2
            document.getElementById('price_exten04').value = "<?php echo $exten4a; ?>";                                  
            document.getElementById('price_exten03').value = "<?php echo $exten3a; ?>";

            document.getElementById('ext_from2').value = "<?php echo $extension3; ?>";                                    
            document.getElementById('ext_to2').value = "<?php echo $extension4; ?>";

            //document.getElementById('pickup2').disabled = false;
            //document.getElementById('dropoff2').disabled = false;


            document.getElementById('tari_round').value = "<?php  if($reserva->tarifa_round == '1') { echo 'Standard Price'; } else if($reserva->tarifa_round == '7') { echo 'Special Price'; } else if($reserva->tarifa_round == '0') { echo ''; } else if ($reserva->tarifa_round == '2') {  echo 'Super Flex Price'; }?>";
            document.getElementById('tarifround').value = "<?php  if($reserva->tarifa_round == '1') { echo '1'; } else if($reserva->tarifa_round == '0') { echo '0'; } else if($reserva->tarifa_round == '7') { echo '7'; } else if ($reserva->tarifa_round == '2') {  echo '2'; }?>";


            document.getElementById('estado_roundtrip').style.background = "#ADD8E6";  
            document.getElementById('estado_roundtrip').style.color = "#000";
            document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

            CalcularTotal();      
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = 8;
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        //CANCELED
        } else if(opcround == '4'){

            document.getElementById('estado_round').value = "4";

            // Colocamos Fecha Retorno (CANC)
            document.getElementById('fecha_retorno').value = "CANC";

            //Standard Price Trip 2   
            document.getElementById('subtoadult2').value = 0;
            document.getElementById('subtochild2').value = 0;

            //Super Flex Price Trip 2 
            document.getElementById('subtoadult4').value = 0;
            document.getElementById('subtochild4').value = 0;

            //Extensiones Trip 2
            document.getElementById('price_exten03').value = 0;                                    
            document.getElementById('price_exten04').value = 0;

            document.getElementById('ext_from2').value = 0;                                    
            document.getElementById('ext_to2').value = 0;

            document.getElementById('tari_round').value = '';
            document.getElementById('tarifaround').value = 0;

            //Habilitamos cajas de texto para pickup y dropoff de Trip 2                                   
            //document.getElementById('pickup2').disabled = false;
            //document.getElementById('dropoff2').disabled = false;

            document.getElementById('estado_roundtrip').style.background = "#DC143C";  
            document.getElementById('estado_roundtrip').style.color = "#FFFFFF";
            document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";
            
            

            //Recalculamos todo

            CalcularTotal();      
            CalcularTotalTotal();
            
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = 8;
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);
            
//            setTimeout(function () {
//
//                $('#op_pago_conductor').click();
//                document.getElementById('op_pago_conductor').value = 8;
//
//            }, 0.001);
            
            

        //CANCELED W/FEE   
        }else if(opcround == '5'){


            document.getElementById('estado_round').value = "5";
             // Colocamos Fecha Retorno (CANC W/FEE)
            document.getElementById('fecha_retorno').value = "CANC W/FEE";

             //Standard Price Trip 2   
            document.getElementById('subtoadult2').value = "<?php echo $subtoadult2; ?>";                                
            document.getElementById('subtochild2').value = "<?php echo $subtochild2; ?>";

            //Super Flex Price Trip2   
            document.getElementById('subtoadult4').value = "<?php echo $subtoadult2; ?>";                                    
            document.getElementById('subtochild4').value = "<?php echo $subtochild2; ?>";

            //Extensiones Trip 2
            document.getElementById('price_exten04').value = "<?php echo $exten4a; ?>";                                  
            document.getElementById('price_exten03').value = "<?php echo $exten3a; ?>";

            document.getElementById('ext_from2').value = "<?php echo $extension3; ?>";                                    
            document.getElementById('ext_to2').value = "<?php echo $extension4; ?>";

            //document.getElementById('pickup2').disabled = false;
            //document.getElementById('dropoff2').disabled = false;


            document.getElementById('tari_round').value = "<?php  if($reserva->tarifa_round == '1') { echo 'Standard Price'; } else if($reserva->tarifa_round == '7') { echo 'Special Price'; } else if($reserva->tarifa_round == '0') { echo ''; } else if ($reserva->tarifa_round == '2') {  echo 'Super Flex Price'; }?>";
            document.getElementById('tarifround').value = "<?php  if($reserva->tarifa_round == '1') { echo '1'; } else if($reserva->tarifa_round == '0') { echo '0'; } else if($reserva->tarifa_round == '7') { echo '7'; } else if ($reserva->tarifa_round == '2') {  echo '2';  }?>";

            document.getElementById('estado_roundtrip').style.background = "#E93F2E";  
            document.getElementById('estado_roundtrip').style.color = "#FFFFFF";
            document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

            CalcularTotal();      
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = 8;
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        //OPEN W/FEE    
        }else if(opcround == '6'){

            document.getElementById('estado_round').value = "6";

            document.getElementById('fecha_retorno').value = "OPEN W/FEE";

            //Standard Price Trip 2   
            document.getElementById('subtoadult2').value = "<?php echo $subtoadult2; ?>";                                
            document.getElementById('subtochild2').value = "<?php echo $subtochild2; ?>";

            //Super Flex Price Trip2   
            document.getElementById('subtoadult4').value = "<?php echo $subtoadult2; ?>";                                    
            document.getElementById('subtochild4').value = "<?php echo $subtochild2; ?>";

            //Extensiones Trip 2
            document.getElementById('price_exten04').value = "<?php echo $exten4a; ?>";                                  
            document.getElementById('price_exten03').value = "<?php echo $exten3a; ?>";

            document.getElementById('ext_from2').value = "<?php echo $extension3; ?>";                                    
            document.getElementById('ext_to2').value = "<?php echo $extension4; ?>";

            //document.getElementById('pickup2').disabled = false;
            //document.getElementById('dropoff2').disabled = false;


            document.getElementById('tari_round').value = "<?php  if($reserva->tarifa_round == '1') { echo 'Standard Price'; } else if($reserva->tarifa_round == '7') { echo 'Special Price'; } else if($reserva->tarifa_round == '0') { echo ''; } else if ($reserva->tarifa_round == '2') {  echo 'Super Flex Price'; }?>";
            document.getElementById('tarifround').value = "<?php  if($reserva->tarifa_round == '1') { echo '1'; } else if($reserva->tarifa_round == '0') { echo '0'; } else if($reserva->tarifa_round == '7') { echo '7'; } else if ($reserva->tarifa_round == '2') {  echo '2'; }?>";



            document.getElementById('estado_roundtrip').style.background = "#F0E68C";  
            document.getElementById('estado_roundtrip').style.color = "#000";
            document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

            CalcularTotal();      
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = 8;
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        }else {

            //&& $reserva->tipo_ticket != 'oneway'
            document.getElementById('fecha_retorno').value = "<?php
        if ($reserva->fecha_retorno == 'N/A') {
            echo 'N/S';
        }else if($reserva->fecha_retorno == 'N/S W/F'){
            echo 'N/S W/FEE';
        }else if($reserva->fecha_retorno == 'C W/F'){
            echo 'CANC W/FEE';
        }else if($reserva->fecha_retorno == 'C'){
            echo 'CANC';
        }else if($reserva->fecha_retorno == 'OP'){
            echo 'OPEN W/FEE';
        }else {
            if (isset($reserva)) {
                echo ($reserva->fecha_retorno == "0000-00-00" ? "00-00-0000" : date('m-d-Y', strtotime($reserva->fecha_retorno)));
            }
        }
        ?>"

        }
     
     }

    }

</script>

<script type="text/javascript">
    function fecha_ns_one()
    {

    var oneway = document.getElementById("oneway").checked; 
    var roundtrip = document.getElementById("roundtrip").checked; 
    var otheramount = "<?php echo $otheramount; ?>";

        
    if(oneway == true){        
   
        
    var opcone = $("#estado_oneway").val();

        //CONFIRMED
        //alert(opcone);
        if(opcone == '1'){

            document.getElementById('estado_oneway').style.background = "#98FB98"; 
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";

            alert('Select the Departure Date and Choose the respective Rate for the Trip');

            document.getElementById('estado_one').value = "1";
            document.getElementById('estado').value = "CONFIRMED";

            document.getElementById('fecha_salida').value = "<?php echo $fecha_salida; ?>";
            document.getElementById('fec_salida_ns').value = "<?php echo $fecha_salida_ns; ?>";

            document.getElementbyId('fec_salida_ns1').value = document.getElementbyId('fec_salida_ns').value;
            //document.getElementById('trip_no').value = "";

//                                    document.getElementbyId('fec_retorno_ns').value="<?php echo $fecha_retorno_ns; ?>";

            //Standard Price Trip 1                                   
            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                               
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            //Super Flex Price Trip1                                    
            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                    
            document.getElementById('subtochild22').value = "<?php echo $subtochild1; ?>";

            //Extensiones Trip 1
            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";

            document.getElementById('pickup1').disabled = false;
            document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; }?>";
            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '6') { echo '6'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if ($reserva->tarifa_one == '2') {  echo '2'; }?>";                                                                                                        



            CalcularTotal();                               
            CalcularTotalTotal();
            
             setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);


        //NO SHOW
        }else if(opcone == '2'){

            document.getElementById('estado_one').value = "2";
            //document.getElementById('op_pago_conductor').value = "8";
            document.getElementById('fecha_salida').value = "N/S";

            document.getElementById('subtoadult1').value = 0;                                   
            document.getElementById('subtochild1').value = 0;

            document.getElementById('subtoadult22').value = 0;                                   
            document.getElementById('subtochild22').value = 0;

            document.getElementById('price_exten01').value = 0;                                    
            document.getElementById('price_exten02').value = 0;

            document.getElementById('ext_from1').value = 0;                                    
            document.getElementById('ext_to1').value = 0;                              


            //document.getElementById('pickup1').disabled = false;
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = '';
            document.getElementById('tarifaone').value = 0;

            document.getElementById('estado_oneway').style.background = "#00BFFF";  
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";

            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                
                
                if(otheramount > '0.00'){
                    
                    $("#otheramount").val((0).toFixed(2));
                    $("#saldoporpagar").val((0).toFixed(2));
                    $("#paid_driver").val((0).toFixed(2));
                    $("#saldoporpagar").val((0).toFixed(2));
                    $("#balance_due").val((0).toFixed(2));            
                    
                }else{
                    
                    //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;
                    
                }

            }, 100);

        //NO SHOW W/FEE
        } else if(opcone == '3'){

            document.getElementById('estado_one').value = "3";

            document.getElementById('fecha_salida').value = "N/S W/FEE";

            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                       
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                   
            document.getElementById('subtochild22').value = "<?php echo $subtoadult1; ?>";

            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";                                                               

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; }  if($reserva->tarifa_one == '0') { echo ''; } else {  if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } }?>";

            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if($reserva->tarifa_one == '3') { echo '3'; } else {  if ($reserva->tarifa_one == '2') {  echo '2'; } }?>";

            document.getElementById('estado_oneway').style.background = "#ADD8E6";  
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);


        //CANCELED
        }else if(opcone == '4'){

            document.getElementById('estado_one').value = "4";
            
            document.getElementById('estado').value = "CANCELED";
            
            //document.getElementById('op_pago_conductor').value = "8";            

            document.getElementById('fecha_salida').value = "CANC";

//            document.getElementById('subtoadult1').value = 0;                       
//            document.getElementById('subtochild1').value = 0;
//
//            document.getElementById('subtoadult22').value = 0;                                   
//            document.getElementById('subtochild22').value = 0;
//
//            document.getElementById('price_exten01').value = 0;                                    
//            document.getElementById('price_exten02').value = 0;
//
//            document.getElementById('ext_from1').value = 0;                                    
//            document.getElementById('ext_to1').value = 0;  
            
//            document.getElementById('exten1').value = '';
//            document.getElementById('exten2').value = '';

//            document.getElementById('pickup1').disabled = false;                                    
//            document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = '';
            document.getElementById('tarifaone').value = 0;

            document.getElementById('estado_oneway').style.background = "#DC143C";  
            document.getElementById('estado_oneway').style.color = "#FFFFFF";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;
                

            }, 100);

        //CANCELED W/FEE   
        }else if(opcone == '5'){

            document.getElementById('estado_one').value = "5";
            document.getElementById('fecha_salida').value = "CANC W/FEE";

            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                       
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                   
            document.getElementById('subtochild22').value = "<?php echo $subtoadult1; ?>";

            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";                                                               

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } if($reserva->tarifa_one == '6') { echo 'Special Price'; } if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } ?>";
            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if($reserva->tarifa_one == '6') { echo '6'; } else if ($reserva->tarifa_one == '2') {  echo '2'; } ?>";
            //document.getElementById('tari_one').value = '';
            //document.getElementById('tarifaone').value = 3;

            document.getElementById('estado_oneway').style.background = "#E93F2E";  
            document.getElementById('estado_oneway').style.color = "#FFFFFF";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
             setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        //OPEN W/FEE    

        }else if(opcone == '6'){

            document.getElementById('estado_one').value = "6";

            document.getElementById('fecha_salida').value = "OPEN W/FEE";

            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                       
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                   
            document.getElementById('subtochild22').value = "<?php echo $subtoadult1; ?>";

            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";                                                               

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } ?>";

            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if($reserva->tarifa_one == '6') { echo '6'; } else {  if ($reserva->tarifa_one == '2') {  echo '2'; } }?>";

            document.getElementById('estado_oneway').style.background = "#F0E68C";  
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);
            
            

        }else{

            // && $reserva->tipo_ticket != 'oneway'

            document.getElementById('fecha_salida').value = "<?php
        if ($reserva->fecha_salida == 'N/A') {
            echo 'N/S';
        }else if($reserva->fecha_salida == 'N/S W/F'){
            echo 'N/S W/FEE';
        }else if($reserva->fecha_salida == 'C W/F'){
            echo 'CANC W/FEE';
        }else if($reserva->fecha_salida == 'C'){
            echo 'CANC';
        }else if($reserva->fecha_salida == 'OP'){
            echo 'OPEN W/FEE';
        }else {
            if (isset($reserva)) {
                echo ($reserva->fecha_salida == "0000-00-00" ? "00-00-0000" : date('m-d-Y', strtotime($reserva->fecha_salida)));
            }
        }
        ?>"

        }
        
    }
    
    
    if(roundtrip == true){
        
   
        
    var opcone = $("#estado_oneway").val();

        //CONFIRMED
        if(opcone == '1'){

            document.getElementById('estado_oneway').style.background = "#98FB98"; 
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";

            alert('Select the Departure Date and Choose the respective Rate for the Trip');

            document.getElementById('estado_one').value = "1";
            document.getElementById('estado').value = "CONFIRMED";

            document.getElementById('fecha_salida').value = "<?php echo $fecha_salida; ?>";
            document.getElementById('fec_salida_ns').value = "<?php echo $fecha_salida_ns; ?>";

            document.getElementbyId('fec_salida_ns1').value = document.getElementbyId('fec_salida_ns').value;
            //document.getElementById('trip_no').value = "";

//                                    document.getElementbyId('fec_retorno_ns').value="<?php /*echo $fecha_retorno_ns; */?>";

            //Standard Price Trip 1                                   
            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                               
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            //Super Flex Price Trip1                                    
            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                    
            document.getElementById('subtochild22').value = "<?php echo $subtochild1; ?>";

            //Extensiones Trip 1
            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";

            //document.getElementById('pickup1').disabled = false;
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; }?>";
            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '6') { echo '6'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if ($reserva->tarifa_one == '2') {  echo '2'; }?>";                                                                                                        



            CalcularTotal();                               
            CalcularTotalTotal();
            
             setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);


        //NO SHOW
        }else if(opcone == '2'){

            document.getElementById('estado_one').value = "2";

            document.getElementById('fecha_salida').value = "N/S";

            document.getElementById('subtoadult1').value = 0;                                   
            document.getElementById('subtochild1').value = 0;

            document.getElementById('subtoadult22').value = 0;                                   
            document.getElementById('subtochild22').value = 0;

            document.getElementById('price_exten01').value = 0;                                    
            document.getElementById('price_exten02').value = 0;

            document.getElementById('ext_from1').value = 0;                                    
            document.getElementById('ext_to1').value = 0;                              


            //document.getElementById('pickup1').disabled = false;
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = '';
            document.getElementById('tarifaone').value = 0;

            document.getElementById('estado_oneway').style.background = "#00BFFF";  
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";

            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);
            
            

        //NO SHOW W/FEE
        } else if(opcone == '3'){

            document.getElementById('estado_one').value = "3";

            document.getElementById('fecha_salida').value = "N/S W/FEE";

            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                       
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                   
            document.getElementById('subtochild22').value = "<?php echo $subtoadult1; ?>";

            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";                                                               

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; }  if($reserva->tarifa_one == '0') { echo ''; } else {  if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } }?>";

            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if($reserva->tarifa_one == '3') { echo '3'; } else {  if ($reserva->tarifa_one == '2') {  echo '2'; } }?>";

            document.getElementById('estado_oneway').style.background = "#ADD8E6";  
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);


        //CANCELED
        }else if(opcone == '4'){

            document.getElementById('estado_one').value = "4";
            
            document.getElementById('estado').value = "CANCELED";
            
            //document.getElementById('op_pago_conductor').value = "8";            

            document.getElementById('fecha_salida').value = "CANC";

            document.getElementById('subtoadult1').value = 0;                       
            document.getElementById('subtochild1').value = 0;

            document.getElementById('subtoadult22').value = 0;                                   
            document.getElementById('subtochild22').value = 0;

            document.getElementById('price_exten01').value = 0;                                    
            document.getElementById('price_exten02').value = 0;

            document.getElementById('ext_from1').value = 0;                                    
            document.getElementById('ext_to1').value = 0;  
            
            document.getElementById('exten1').value = '';
            document.getElementById('exten2').value = '';

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = '';
            document.getElementById('tarifaone').value = 0;

            document.getElementById('estado_oneway').style.background = "#DC143C";  
            document.getElementById('estado_oneway').style.color = "#FFFFFF";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        //CANCELED W/FEE   
        }else if(opcone == '5'){

            document.getElementById('estado_one').value = "5";
            document.getElementById('fecha_salida').value = "CANC W/FEE";

            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                       
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                   
            document.getElementById('subtochild22').value = "<?php echo $subtoadult1; ?>";

            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";                                                               

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } if($reserva->tarifa_one == '6') { echo 'Special Price'; } if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } ?>";
            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if($reserva->tarifa_one == '6') { echo '6'; } else if ($reserva->tarifa_one == '2') {  echo '2'; } ?>";
            //document.getElementById('tari_one').value = '';
            //document.getElementById('tarifaone').value = 3;

            document.getElementById('estado_oneway').style.background = "#E93F2E";  
            document.getElementById('estado_oneway').style.color = "#FFFFFF";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
             setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);

        //OPEN W/FEE    

        }else if(opcone == '6'){

            document.getElementById('estado_one').value = "6";

            document.getElementById('fecha_salida').value = "OPEN W/FEE";

            document.getElementById('subtoadult1').value = "<?php echo $subtoadult1; ?>";                       
            document.getElementById('subtochild1').value = "<?php echo $subtochild1; ?>";

            document.getElementById('subtoadult22').value = "<?php echo $subtoadult1; ?>";                                   
            document.getElementById('subtochild22').value = "<?php echo $subtoadult1; ?>";

            document.getElementById('price_exten01').value = "<?php echo $exten1a; ?>";
            document.getElementById('price_exten02').value = "<?php echo $exten2a; ?>";

            document.getElementById('ext_from1').value = "<?php echo $extension1; ?>";                                    
            document.getElementById('ext_to1').value = "<?php echo $extension2; ?>";                                                               

            //document.getElementById('pickup1').disabled = false;                                    
            //document.getElementById('dropoff1').disabled = false;

            document.getElementById('tari_one').value = "<?php  if($reserva->tarifa_one == '1') { echo 'Standard Price'; } else if($reserva->tarifa_one == '6') { echo 'Special Price'; } else if($reserva->tarifa_one == '0') { echo ''; } else if ($reserva->tarifa_one == '2') {  echo 'Super Flex Price'; } ?>";

            document.getElementById('tarifaone').value = "<?php  if($reserva->tarifa_one == '1') { echo '1'; } else if($reserva->tarifa_one == '0') { echo '0'; } else if($reserva->tarifa_one == '6') { echo '6'; } else {  if ($reserva->tarifa_one == '2') {  echo '2'; } }?>";

            document.getElementById('estado_oneway').style.background = "#F0E68C";  
            document.getElementById('estado_oneway').style.color = "#000";
            document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";


            CalcularTotal();
            CalcularTotalTotal();
            
            setTimeout(function () {

                //$('#op_pago_conductor').click();
                //document.getElementById('op_pago_conductor').value = "8";
                //document.getElementById('balance_due').value = document.getElementById('saldoporpagar').value;

            }, 100);
            
            

        }else{

            // && $reserva->tipo_ticket != 'oneway'

            document.getElementById('fecha_salida').value = "<?php
        if ($reserva->fecha_salida == 'N/A') {
            echo 'N/S';
        }else if($reserva->fecha_salida == 'N/S W/F'){
            echo 'N/S W/FEE';
        }else if($reserva->fecha_salida == 'C W/F'){
            echo 'CANC W/FEE';
        }else if($reserva->fecha_salida == 'C'){
            echo 'CANC';
        }else if($reserva->fecha_salida == 'OP'){
            echo 'OPEN W/FEE';
        }else {
            if (isset($reserva)) {
                echo ($reserva->fecha_salida == "0000-00-00" ? "00-00-0000" : date('m-d-Y', strtotime($reserva->fecha_salida)));
            }
        }
        ?>"

        }
        
    }
    
    


    }

</script>



<script type="text/javascript">
    function activa_one()
    {

        document.getElementById('oneway2').checked = true;
        document.getElementById('roundtrip2').checked = false;

    }

</script>

<script type="text/javascript">
    function activa_round()
    {

        document.getElementById('roundtrip2').checked = true;
        document.getElementById('oneway2').checked = false;

    }

</script>


<script type="text/javascript">

    function reset22()
    {
        reselect();

        setTimeout(function () {

            $('#btnAceptar').click();


        }, 0.001);

        setTimeout(function () {

            tipopago();


        }, 100);

    }

</script>

<script type="text/javascript">

    function tipopago()
    {

        var op_pago = document.getElementById('op_pago').value;

        //CREDIT CARD NO FEE
        if (op_pago == 8) {

            document.getElementById('op_pago_id').value = 8;
            $('#op_pago_id').click();

        }

        //CREDIT CARD WITH FEE
        if (op_pago == 3) {


            $('#op_pago_id').click();
            document.getElementById('op_pago_id').value = 3;
            //balance_pasajero();

        }


        //CASH
        if (op_pago == 4) {

            document.getElementById('op_pago_id').value = 4;
            $('#op_pago_id').click();

        }

        //CREDIT VOUCHER
        if (op_pago == 9) {

            document.getElementById('op_pago_id').value = 9;
            $('#op_pago_id').click();

        }

        //CREDIT VOUCHER
        if (op_pago == 5) {

            document.getElementById('op_pago_id').value = 5;
            $('#op_pago_id').click();

        }

        //COMPLEMENTARY
        if (op_pago == 7) {

            document.getElementById('op_pago_id').value = 7;
            $('#op_pago_id').click();

        }
    }
</script>

<script type="text/javascript">
    function reselect()
    {

        document.getElementById('op_pago_id').value = 8;


    }

</script>

<script type="text/javascript">
    function coordenadas_modal()
    {
        setTimeout(function () {

            $('#pay_driver').click();
            //document.getElementById('tot_amount_paid').value = '0.00';

        }, 0.001);

    }

</script>

<script type="text/javascript">

    function make_charge()
    {

        var payamount = document.getElementById('pay_amount').value;

        if (payamount > 0) {

            var pg = document.getElementById('pago_agente');
            var pg1 = document.getElementById('pago_agente1');
            pg.style.display = 'block';
            pg1.style.display = 'none';

        } else {
            pg.style.display = 'none';
            pg1.style.display = 'block';

        }

    }

</script>


<script type="text/javascript">

    function pago_click()
    {
        var pag = document.getElementById('pago_agente');
        var pag1 = document.getElementById('pago_agente1');
    }

</script>

<script type="text/javascript">

    function outcharge()
    {
        var p_amount = document.getElementById('pay_amount').value;
        if (p_amount == 0) {
            var pgt = document.getElementById('pago_agente');
            pgt.style.display = 'none';
        } else {
            pgt.style.display = 'block';
        }
    }

</script>

<script type="text/javascript">
    
    function duplisaldo()
    {
        document.getElementById('saldoporpagar_copy').value = document.getElementById('saldoporpagar').value;
        document.getElementById('paid_driver_copy').value = document.getElementById('paid_driver').value;
        document.getElementById('balance_due_copy').value = document.getElementById('balance_due').value;
        document.getElementById('totalPagar_copy').value = document.getElementById('totalPagar').value;
        document.getElementById('pay_amount_copy').value = document.getElementById('pay_amount').value;
        document.getElementById('tot_amount_paid_copy').value = document.getElementById('tot_amount_paid').value;
        document.getElementById('agency_balance_due_copy').value = document.getElementById('agency_balance_due').value;
        document.getElementById('otheramount_copy').value = document.getElementById('otheramount').value;
        document.getElementById('temp_copy').value = document.getElementById('temp').value; 
        
    }
</script>


<script type="text/javascript">
    function dupliac()
    {

        //      duplicar amount to collect ---- > otheramount
        var dupliam = document.getElementById('saldoporpagar').value;

        var extra = $("#extra").val();
        var desc_valor = $("#descuento_valor").val();
        var desc_porc = $("#descuento").val();
        //var desc_temporal = $("#descuento_temporal").val();
        var paid_driver = $("#paid_driver").val();
        var apagare1 = apagare;
        var apagar1 = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
        //var apagar1 = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);
        var balance = parseFloat(apagar1) - parseFloat(paid_driver);
        var duplicado = (parseFloat(dupliam)).toFixed(2);

        var other = 0;

        document.getElementById('otheramount').value = duplicado;
        document.getElementById('otheramountp').value = duplicado;
        document.getElementById('otheramount_copy').value = duplicado;
        document.getElementById('balance_due').value = dupliam;
        
        document.getElementById('saldoporpagar').style.background = "#1919e6"; 
        document.getElementById('saldoporpagar').style.color = "#ffff00"; 
        document.getElementById('saldoporpagar').title = "Colectando"; 
        document.getElementById('txtamountpendiente').style.color = "#1919e6";  

        if (dupliam == '') {

            setTimeout(function () {

                //click al boton Balance_Due para hacer el calculo de passenger Balance Due  
                //$('#btnCancelar').click();
                $("#saldoporpagar").val((apagar1).toFixed(2));
                $("#balance_due").val((balance).toFixed(2));
                $("#otheramount").val((other).toFixed(2));
                $("#otheramountp").val((other).toFixed(2));
                $("#otheramount_copy").val((other).toFixed(2));                
                document.getElementById('saldoporpagar').className = "verd";
                document.getElementById('saldoporpagar').style.background = "#fff"; 
                document.getElementById('saldoporpagar').style.color = "#000";
                document.getElementById('txtamountpendiente').style.color = "#000"; 
                document.getElementById('saldoporpagar').title = "";               
                CalcularTotalTotal();

            }, 300);

        }

        if (dupliam == "0") {

            setTimeout(function () {

                //click al boton Balance_Due para hacer el calculo de passenger Balance Due  
                //$('#paid_driver').click();
                $("#saldoporpagar").val((apagar1).toFixed(2));
                $("#balance_due").val((balance).toFixed(2));
                $("#otheramount").val((other).toFixed(2));
                $("#otheramount_copy").val((other).toFixed(2));
                document.getElementById('saldoporpagar').className = "verd";
                document.getElementById('saldoporpagar').style.background = "#fff"; 
                document.getElementById('saldoporpagar').style.color = "#000";
                document.getElementById('txtamountpendiente').style.color = "#000"; 
                document.getElementById('saldoporpagar').title = "";
//                $("#otheramountp").val((other).toFixed(2));
                CalcularTotalTotal();

            }, 300);

        }

        if (dupliam > 0) {

            setTimeout(function () {
                //click al boton Balance_Due para hacer el calculo de passenger Balance Due 

                //$('#paid_driver').click();
                CalcularTotalTotal();
                //document.getElementById('op_pago_conductor').value = 8;

            }, 3500);

        }



    }

</script>

<script type="text/javascript">
    function resetal()
    {

        var op_pago = "<?php echo $reserva->op_pago; ?>";                               
        var otheramount = "<?php echo $reserva->otheramount; ?>";  
        var op_pago_conductor = "<?php echo $op_pago_conductor; ?>";
        var tempwf = "<?php echo $cargos; ?>";
        var temp = "<?php echo $total_charge; ?>";
        var pre_paid_amount = "<?php echo $pre_paid_amount; ?>";
        var pay_amount = "<?php echo $reserva->pay_amount; ?>";

        var descuento_valor = "<?php echo $reserva->descuento_valor; ?>";
        var extra_cargo = "<?php echo $reserva->extra_charge; ?>";
        var descuento_porcentaje = "<?php echo $reserva->descuento_procentaje ?>";

//                                $("#otheramount").val((otheramount).toFixed(2));
        document.getElementById('otheramount').value =  otheramount;

        if (otheramount > 0) {


            var op_pago_conductor = parseFloat($("#selectcond").val());
            var paid_driver = parseFloat($("#paid_driver").val());
            //          var pay_amount = parseFloat($("#pay_amount").val()); 

            var apagar_2 = parseFloat(otheramount);

            var result = (parseFloat(apagar_2) + parseFloat(tempwf)).toFixed(2);
            var bd = (parseFloat(result) - parseFloat(paid_driver)).toFixed(2);

            if(op_pago_conductor == "3"){

                setTimeout(function () {   

                    var balance = parseFloat($("#balance_due").val());
                    var porcbal = balance*0.04;
                    var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                    $("#balance_due").val((tot_balance).toFixed(2));
                    $("#bal_duep").val((tot_balance).toFixed(2));            


                }, 0.01);

            }
            document.getElementById('saldoporpagar').value = result;
            document.getElementById('pago_driver').value = '';
            document.getElementById('pago_driver').style.color = '#848484';
            document.getElementById('pago_driver2').value = '0.00';
            //document.getElementById('totalPagar').value = '0.00';      
            //document.getElementById('temp').value = '0.00';   
            document.getElementById('pago_tarjeta').value = '0.00';
            
            //Pagos Collect on Board
        document.getElementById('no_pago').value = '0';
        document.getElementById('pago_1').value = '0';
        document.getElementById('pago_2').value = '0';
        document.getElementById('pago_3').value = '0';
        document.getElementById('pago_4').value = '0';
        document.getElementById('pago_5').value = '0';
        document.getElementById('pago_6').value = '0';
        document.getElementById('pago_7').value = '0';
        document.getElementById('pago_8').value = '0';
        document.getElementById('pago_9').value = '0';
        document.getElementById('pago_10').value = '0';
        document.getElementById('pago1').value = '';
        document.getElementById('pago2').value = '';
        document.getElementById('pago3').value = '';
        document.getElementById('pago4').value = '';
        document.getElementById('pago5').value = '';
        document.getElementById('pago6').value = '';
        document.getElementById('pago7').value = '';
        document.getElementById('pago8').value = '';
        document.getElementById('pago9').value = '';
        document.getElementById('pago10').value = '';
        document.getElementById('tipo_pago1').value = '';
        document.getElementById('tipo_pago2').value = '';
        document.getElementById('tipo_pago3').value = '';
        document.getElementById('tipo_pago4').value = '';
        document.getElementById('tipo_pago5').value = '';
        document.getElementById('tipo_pago6').value = '';
        document.getElementById('tipo_pago7').value = '';
        document.getElementById('tipo_pago8').value = '';
        document.getElementById('tipo_pago9').value = '';
        document.getElementById('tipo_pago10').value = '';
        document.getElementById('pagado1').value = '0.00';
        document.getElementById('pagado2').value = '0.00';
        document.getElementById('pagado3').value = '0.00';
        document.getElementById('pagado4').value = '0.00';
        document.getElementById('pagado5').value = '0.00';
        document.getElementById('pagado6').value = '0.00';
        document.getElementById('pagado7').value = '0.00';
        document.getElementById('pagado8').value = '0.00';
        document.getElementById('pagado9').value = '0.00';
        document.getElementById('pagado10').value = '0.00';        
        document.getElementById('estado_cob1').value = '';
        document.getElementById('estado_cob2').value = '';
        document.getElementById('estado_cob3').value = '';
        document.getElementById('estado_cob4').value = '';
        document.getElementById('estado_cob5').value = '';
        document.getElementById('estado_cob6').value = '';
        document.getElementById('estado_cob7').value = '';
        document.getElementById('estado_cob8').value = '';
        document.getElementById('estado_cob9').value = '';
        document.getElementById('estado_cob10').value = '';
        document.getElementById('btn_rever_cob').style.display = 'none';
        
        
        //Pagos prepago
        
        document.getElementById('no_prep').value = '0';
        document.getElementById('pago_pre1').value = '0';
        document.getElementById('pago_pre2').value = '0';
        document.getElementById('pago_pre3').value = '0';
        document.getElementById('pago_pre4').value = '0';
        document.getElementById('pago_pre5').value = '0';
        document.getElementById('pago_pre6').value = '0';
        document.getElementById('pago_pre7').value = '0';
        document.getElementById('pago_pre8').value = '0';
        document.getElementById('pago_pre9').value = '0';
        document.getElementById('pago_pre10').value = '0';
        
        
        
        document.getElementById('pagopre1').value = '';
        document.getElementById('pagopre2').value = '';
        document.getElementById('pagopre3').value = '';
        document.getElementById('pagopre4').value = '';
        document.getElementById('pagopre5').value = '';
        document.getElementById('pagopre6').value = '';
        document.getElementById('pagopre7').value = '';
        document.getElementById('pagopre8').value = '';
        document.getElementById('pagopre9').value = '';
        document.getElementById('pagopre10').value = '';
        
        
        document.getElementById('tipo_pagopre1').value = '';
        document.getElementById('tipo_pagopre2').value = '';
        document.getElementById('tipo_pagopre3').value = '';
        document.getElementById('tipo_pagopre4').value = '';
        document.getElementById('tipo_pagopre5').value = '';
        document.getElementById('tipo_pagopre6').value = '';
        document.getElementById('tipo_pagopre7').value = '';
        document.getElementById('tipo_pagopre8').value = '';
        document.getElementById('tipo_pagopre9').value = '';
        document.getElementById('tipo_pagopre10').value = '';
        
        
        document.getElementById('pagadopre1').value = '0.00';
        document.getElementById('pagadopre2').value = '0.00';
        document.getElementById('pagadopre3').value = '0.00';
        document.getElementById('pagadopre4').value = '0.00';
        document.getElementById('pagadopre5').value = '0.00';
        document.getElementById('pagadopre6').value = '0.00';
        document.getElementById('pagadopre7').value = '0.00';
        document.getElementById('pagadopre8').value = '0.00';
        document.getElementById('pagadopre9').value = '0.00';
        document.getElementById('pagadopre10').value = '0.00';
        
            
            
            document.getElementById('collect').value = "<?php echo $reserva->paid_driver; ?>";
            document.getElementById('prepaid').value = "<?php echo $reserva->pred_paid_amount; ?>";
            document.getElementById('paid_driver').value = "<?php echo $reserva->paid_driver; ?>";
            document.getElementById('balance_due').value = bd;                                    
            document.getElementById('temp').value = "<?php echo $reserva->total_charge; ?>";
            document.getElementById('temp_driver').value = '0.00';
            document.getElementById('temp_prepaid').value = '0.00';
            document.getElementById('tot_charge').value = "<?php echo $reserva->total_charge; ?>";
            document.getElementById('paid_drivert').value = "<?php echo $reserva->paid_driver; ?>";
            document.getElementById('pay_amount').value = "<?php echo $reserva->pred_paid_amount; ?>";
            document.getElementById('pred_paid_amountt').value = "<?php echo $reserva->pred_paid_amount; ?>";
            document.getElementById('tot_amount_paid').value = "<?php echo $reserva->total_paid; ?>";
            //document.getElementById('pago_driver').disabled = false;
            document.getElementById('btnAceptar').style.background = '';
            document.getElementById('btnAceptar').style.color = '#000';
            document.getElementById('pago_agente').style.display = 'none';
            document.getElementById('pago_agente1').style.display = 'block';
            document.getElementById('dolares').style.color = '#848484';
            document.getElementById('btnAceptar').style.cursor = '';

            document.getElementById('op_pago_id1').value = 0;
            document.getElementById('op_pago_id').value = op_pago;
            document.getElementById('op_pago_conductor').value = op_pago_conductor;
            document.getElementById('descuento_valor').value = descuento_valor;
            document.getElementById('descuento').value = descuento_porcentaje;
            document.getElementById('extra').value = extra_cargo;
            document.getElementById('paid_driver').style.color = "#000";
            document.getElementById('pay_amount').style.color = "#000";
            document.getElementById('pay_amount').className = "azu";
            document.getElementById('paid_driver').className = "brown3";
            document.getElementById('paid_driver').title =""; 
            document.getElementById('pay_amount').title =""; 

//                                    selector();
//                                    captura(); 
            //passenger_balance2();


        } else {

            //document.getElementById('saldoporpagar').value = saldoporpagar; 

            var op_pago_conductor = "<?php echo $op_pago_conductor; ?>";
           // alert(op_pago_conductor);
            document.getElementById('pago_driver').value = '0.00';
            document.getElementById('pago_driver').style.color = '#848484';
            document.getElementById('pago_driver2').value = '0.00';
            document.getElementById('pago_tarjeta').value = '0.00';
            
            //Pagos Collect on Board
        document.getElementById('no_pago').value = '0';
        document.getElementById('pago_1').value = '0';
        document.getElementById('pago_2').value = '0';
        document.getElementById('pago_3').value = '0';
        document.getElementById('pago_4').value = '0';
        document.getElementById('pago_5').value = '0';
        document.getElementById('pago_6').value = '0';
        document.getElementById('pago_7').value = '0';
        document.getElementById('pago_8').value = '0';
        document.getElementById('pago_9').value = '0';
        document.getElementById('pago_10').value = '0';
        document.getElementById('pago1').value = '';
        document.getElementById('pago2').value = '';
        document.getElementById('pago3').value = '';
        document.getElementById('pago4').value = '';
        document.getElementById('pago5').value = '';
        document.getElementById('pago6').value = '';
        document.getElementById('pago7').value = '';
        document.getElementById('pago8').value = '';
        document.getElementById('pago9').value = '';
        document.getElementById('pago10').value = '';
        document.getElementById('tipo_pago1').value = '';
        document.getElementById('tipo_pago2').value = '';
        document.getElementById('tipo_pago3').value = '';
        document.getElementById('tipo_pago4').value = '';
        document.getElementById('tipo_pago5').value = '';
        document.getElementById('tipo_pago6').value = '';
        document.getElementById('tipo_pago7').value = '';
        document.getElementById('tipo_pago8').value = '';
        document.getElementById('tipo_pago9').value = '';
        document.getElementById('tipo_pago10').value = '';        
        document.getElementById('pagado1').value = '0.00';
        document.getElementById('pagado2').value = '0.00';
        document.getElementById('pagado3').value = '0.00';
        document.getElementById('pagado4').value = '0.00';
        document.getElementById('pagado5').value = '0.00';
        document.getElementById('pagado6').value = '0.00';
        document.getElementById('pagado7').value = '0.00';
        document.getElementById('pagado8').value = '0.00';
        document.getElementById('pagado9').value = '0.00';
        document.getElementById('pagado10').value = '0.00';
        
        
        //Pagos prepago
        
        document.getElementById('no_prep').value = '0';
        document.getElementById('pago_pre1').value = '0';
        document.getElementById('pago_pre2').value = '0';
        document.getElementById('pago_pre3').value = '0';
        document.getElementById('pago_pre4').value = '0';
        document.getElementById('pago_pre5').value = '0';
        document.getElementById('pago_pre6').value = '0';
        document.getElementById('pago_pre7').value = '0';
        document.getElementById('pago_pre8').value = '0';
        document.getElementById('pago_pre9').value = '0';
        document.getElementById('pago_pre10').value = '0';        
        
        document.getElementById('pagopre1').value = '';
        document.getElementById('pagopre2').value = '';
        document.getElementById('pagopre3').value = '';
        document.getElementById('pagopre4').value = '';
        document.getElementById('pagopre5').value = '';
        document.getElementById('pagopre6').value = '';
        document.getElementById('pagopre7').value = '';
        document.getElementById('pagopre8').value = '';
        document.getElementById('pagopre9').value = '';
        document.getElementById('pagopre10').value = '';        
        
        document.getElementById('tipo_pagopre1').value = '';
        document.getElementById('tipo_pagopre2').value = '';
        document.getElementById('tipo_pagopre3').value = '';
        document.getElementById('tipo_pagopre4').value = '';
        document.getElementById('tipo_pagopre5').value = '';
        document.getElementById('tipo_pagopre6').value = '';
        document.getElementById('tipo_pagopre7').value = '';
        document.getElementById('tipo_pagopre8').value = '';
        document.getElementById('tipo_pagopre9').value = '';
        document.getElementById('tipo_pagopre10').value = '';        
        
        document.getElementById('pagadopre1').value = '0.00';
        document.getElementById('pagadopre2').value = '0.00';
        document.getElementById('pagadopre3').value = '0.00';
        document.getElementById('pagadopre4').value = '0.00';
        document.getElementById('pagadopre5').value = '0.00';
        document.getElementById('pagadopre6').value = '0.00';
        document.getElementById('pagadopre7').value = '0.00';
        document.getElementById('pagadopre8').value = '0.00';
        document.getElementById('pagadopre9').value = '0.00';
        document.getElementById('pagadopre10').value = '0.00';
            //document.getElementById('totalPagar').value = '0.00';      
            //document.getElementById('temp').value = '0.00';   
        document.getElementById('collect').value = "<?php echo $reserva->paid_driver; ?>";
        document.getElementById('prepaid').value = "<?php echo $reserva->pred_paid_amount; ?>";
        document.getElementById('paid_driver').value = "<?php echo $reserva->paid_driver; ?>";


        //document.getElementById('balance_due').value = "<?php echo $reserva->passenger_balance_due; ?>";
        document.getElementById('temp').value = "<?php echo $reserva->total_charge; ?>";
        document.getElementById('temp_driver').value = '0.00';
        document.getElementById('temp_prepaid').value = '0.00';
        document.getElementById('tot_charge').value = "<?php echo $reserva->total_charge; ?>";
        document.getElementById('paid_drivert').value = "<?php echo $reserva->paid_driver; ?>";
        document.getElementById('pay_amount').value = "<?php echo $reserva->pred_paid_amount; ?>";
        document.getElementById('pred_paid_amountt').value = "<?php echo $reserva->pred_paid_amount; ?>";
        document.getElementById('tot_amount_paid').value = "<?php echo $reserva->total_paid; ?>";
        //document.getElementById('pago_driver').disabled = false;
        document.getElementById('btnAceptar').style.background = '';
        document.getElementById('btnAceptar').style.color = '#000';
        document.getElementById('pago_agente').style.display = 'none';
        document.getElementById('pago_agente1').style.display = 'block';
        document.getElementById('dolares').style.color = '#848484';
        document.getElementById('btnAceptar').style.cursor = '';
        document.getElementById('paid_driver').style.color = "#000";
        document.getElementById('pay_amount').style.color = "#000";
        document.getElementById('pay_amount').className = "azu";
        document.getElementById('paid_driver').className = "brown3";
        document.getElementById('paid_driver').title =""; 
        document.getElementById('pay_amount').title =""; 

        document.getElementById('op_pago_id1').value = 0;
            //document.getElementById('op_pago_conductor').value = op_pago_conductor;

//                                    selector();
//                                    captura(); 
            //passenger_balance2();

        }


    }
</script>

<script type="text/javascript">

    function pregunta(e) {
        if (confirm('¿Esta seguro de que desea Editar esta Reserva?')) {
            
            document.getElementById('modal').style.display = "none";
            //document.getElementbyId('mostrar-modal').style.display = "none";
        } else {
            e.preventDefault();
        }
    }

</script>


<script type="text/javascript">
    function reset_roundtrip()
    {
        document.getElementById('price2').value = 0;
        document.getElementById('subtoadult2').value = 0;
        document.getElementById('subtochild2').value = 0;
        document.getElementById('subtoadult4').value = 0;
        document.getElementById('subtochild4').value = 0;

    }
</script>

<script type="text/javascript">
    function fechale()
    {
        var fecha1 = document.getElementById('fecha_salida').value;
        var trip = "";
        var d = new Date(fecha1); 
        var dia = ("0" + (d.getDate())).slice(-2);                                               
        var mes = ("0" + (d.getMonth() + 1)).slice(-2);                                                               
        var yyy = d.getFullYear();
        var fechita = yyy + '-' + mes + '-' + dia;
        
        $("#fec_salida_ns").val(fechita); 
        $("#fec_salida_ns1").val(fechita); 
        $("#trip_no").val(trip); 
        $("#estado_oneway").val(1); 

        document.getElementsByName('estado_one').value = "1";
        document.getElementById('estado_one').value = "1";



    }
</script>

<script type="text/javascript">
    function fechale2()
    {
        var fecha2 = document.getElementById('fecha_retorno').value;
        var trip2 = "";
        var d = new Date(fecha2); 
        var dia = ("0" + (d.getDate())).slice(-2);                                               
        var mes = ("0" + (d.getMonth() + 1)).slice(-2);                                                               
        var yyy = d.getFullYear();
        var fechita = yyy + '-' + mes + '-' + dia;

        $("#fec_retorno_ns").val(fechita); 
        $("#fec_retorno_ns1").val(fechita); 
        $("#trip_no2").val(trip2);   
        $("#estado_roundtrip").val(1); 

        document.getElementsByName('estado_round').value = "1";
        document.getElementById('estado_round').value = "1";
    }
</script>

<!--</form>-->
<script>

    function calculos() {

        var opcion = $("#op_pago_id1").val();

        //PRED-PAID////////////////////////////////////////////

        //Credit Card no fee

        if (opcion === '20') {

            //alert('opcion 20');
            if (confirm('Confirme su Tipo de Pago !!!')) {

                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var agency_balance_due = parseFloat($("#agency_balance_due").val());
                var total = parseFloat(pago_driver2);
                var valor = 0;
                var prepaid = parseFloat($("#prepaid").val());
                var kollect = parseFloat($("#pago_driver").val());
                
                var no_prep =  document.getElementById("no_prep").value;
                no_prep = parseInt(no_prep) + 1;
                
                var pago = 'PRED-PAID'; 
                var tipo_pago = 'CREDIT CARD NO FEE';

                if(agency_balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray"; 
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                prepaid = parseFloat(prepaid) + parseFloat(total);

                $("#no_prep").val(no_prep);
                $("#prepaid").val((prepaid).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#pago_tarjeta").val((total).toFixed(2));                  
                $("#PAP").val((valor).toFixed(2));
                
                
                if(no_prep == 1){
                    
                                      
                    document.getElementById("pago_pre1").value = no_prep;
                    document.getElementById("pagopre1").value = pago;
                    document.getElementById("tipo_pagopre1").value= tipo_pago;
                    $("#pagadopre1").val((kollect).toFixed(2));
                    $("#estado_pre1").val("temp_pre1");
                    
                }else if(no_prep == 2){
                    
                    document.getElementById("pago_pre2").value = no_prep;
                    document.getElementById("pagopre2").value = pago;
                    document.getElementById("tipo_pagopre2").value= tipo_pago;
                    $("#pagadopre2").val((kollect).toFixed(2));
                    $("#estado_pre2").val("temp_pre2");
                    
                }else if(no_prep == 3){
                    
                    document.getElementById("pago_pre3").value = no_prep;
                    document.getElementById("pagopre3").value = pago;
                    document.getElementById("tipo_pagopre3").value= tipo_pago;
                    $("#pagadopre3").val((kollect).toFixed(2));
                    $("#estado_pre3").val("temp_pre3");
                    
                }else if(no_prep == 4){
                    
                    document.getElementById("pago_pre4").value = no_prep;
                    document.getElementById("pagopre4").value = pago;
                    document.getElementById("tipo_pagopre4").value= tipo_pago;
                    $("#pagadopre4").val((kollect).toFixed(2));
                    $("#estado_pre4").val("temp_pre4");
                    
                }else if(no_prep == 5){
                    
                    document.getElementById("pago_pre5").value = no_prep;
                    document.getElementById("pagopre5").value = pago;
                    document.getElementById("tipo_pagopre5").value= tipo_pago;
                    $("#pagadopre5").val((kollect).toFixed(2));
                    $("#estado_pre5").val("temp_pre5");
                    
                }else if(no_prep == 6){
                    
                    document.getElementById("pago_pre6").value = no_prep;
                    document.getElementById("pagopre6").value = pago;
                    document.getElementById("tipo_pagopre6").value= tipo_pago;
                    $("#pagadopre6").val((kollect).toFixed(2));
                    $("#estado_pre6").val("temp_pre6");
                    
                }else if(no_prep == 7){
                    
                    document.getElementById("pago_pre7").value = no_prep;
                    document.getElementById("pagopre7").value = pago;
                    document.getElementById("tipo_pagopre7").value= tipo_pago;
                    $("#pagadopre7").val((kollect).toFixed(2));
                    $("#estado_pre7").val("temp_pre7");
                    
                }else if(no_prep == 8){
                    
                    document.getElementById("pago_pre8").value = no_prep;
                    document.getElementById("pagopre8").value = pago;
                    document.getElementById("tipo_pagopre8").value= tipo_pago;
                    $("#pagadopre8").val((kollect).toFixed(2));
                    $("#estado_pre8").val("temp_pre8");
                    
                }else if(no_prep == 9){
                    
                    document.getElementById("pago_pre9").value = no_prep;
                    document.getElementById("pagopre9").value = pago;
                    document.getElementById("tipo_pagopre9").value= tipo_pago;
                    $("#pagadopre9").val((kollect).toFixed(2));
                    $("#estado_pre9").val("temp_pre9");
                    
                }else if(no_prep == 10){
                    
                    document.getElementById("pago_pre10").value = no_prep;
                    document.getElementById("pagopre10").value = pago;
                    document.getElementById("tipo_pagopre10").value= tipo_pago;
                    $("#pagadopre10").val((kollect).toFixed(2));
                    $("#estado_pre10").val("temp_pre10");
                    
                }
                

                document.getElementById("op_pago_id1").disabled = true;              
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btnPagolinea").disabled = false;
                document.getElementById("btnPagolinea").style.display = "";
                document.getElementById("btnPagolinea").style.cursor = 'pointer';
                
                document.getElementById("btndecline").disabled = false;
                document.getElementById("btndecline").style.display = "";
                document.getElementById("btndecline").style.cursor = 'pointer';
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";                
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";

                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';

                document.getElementById('opcion_pago_2').value = 2;

                document.getElementById('opcion_pago_3').value = 2;
                //document.getElementById('op_pago_id').value = 8;

                valida_clase2();
                
                }

            } else {
                // Do nothing!
                //exit();
                Exit2();
            }


        }

        //Credit Card with fee

        if (opcion === '21') {

            if (confirm('Confirme su Tipo de Pago !!!')) {


                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var agency_balance_due = parseFloat($("#agency_balance_due").val());

                var valor = parseFloat(pago_driver2) * 0.04;
                var total = parseFloat(pago_driver2) + parseFloat(valor);
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                
                var no_prep =  document.getElementById("no_prep").value;
                no_prep = parseInt(no_prep) + 1;
                
                var pago = 'PRED-PAID'; 
                var tipo_pago = 'CREDIT CARD WITH FEE';

                if(agency_balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";   
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                temp = parseFloat(temp) + parseFloat(valor);
                temp_prepaid = parseFloat(temp_prepaid) + parseFloat(valor);

                $("#temp").val((temp).toFixed(2));
                $("#temp_prepaid").val((temp_prepaid).toFixed(2));

                var prepaid = parseFloat($("#prepaid").val());
                prepaid = parseFloat(prepaid) + parseFloat(total);
                
                $("#no_prep").val(no_prep);
                $("#prepaid").val((prepaid).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#pago_tarjeta").val((total).toFixed(2));
                
                $("#tot_charge").val((temp).toFixed(2));
                $("#PAP").val((valor).toFixed(2));
                
                
                if(no_prep == 1){                    
                                      
                    document.getElementById("pago_pre1").value = no_prep;
                    document.getElementById("pagopre1").value = pago;
                    document.getElementById("tipo_pagopre1").value= tipo_pago;
                    $("#pagadopre1").val((total).toFixed(2));
                    $("#estado_pre1").val("temp_pre1");
                    
                }else if(no_prep == 2){
                    
                    document.getElementById("pago_pre2").value = no_prep;
                    document.getElementById("pagopre2").value = pago;
                    document.getElementById("tipo_pagopre2").value= tipo_pago;
                    $("#pagadopre2").val((total).toFixed(2));
                    $("#estado_pre2").val("temp_pre2");
                    
                }else if(no_prep == 3){
                    
                    document.getElementById("pago_pre3").value = no_prep;
                    document.getElementById("pagopre3").value = pago;
                    document.getElementById("tipo_pagopre3").value= tipo_pago;
                    $("#pagadopre3").val((total).toFixed(2));
                    $("#estado_pre3").val("temp_pre3");
                    
                }else if(no_prep == 4){
                    
                    document.getElementById("pago_pre4").value = no_prep;
                    document.getElementById("pagopre4").value = pago;
                    document.getElementById("tipo_pagopre4").value= tipo_pago;
                    $("#pagadopre4").val((total).toFixed(2));
                    $("#estado_pre4").val("temp_pre4");
                    
                }else if(no_prep == 5){
                    
                    document.getElementById("pago_pre5").value = no_prep;
                    document.getElementById("pagopre5").value = pago;
                    document.getElementById("tipo_pagopre5").value= tipo_pago;
                    $("#pagadopre5").val((total).toFixed(2));
                    $("#estado_pre5").val("temp_pre5");
                    
                }else if(no_prep == 6){
                    
                    document.getElementById("pago_pre6").value = no_prep;
                    document.getElementById("pagopre6").value = pago;
                    document.getElementById("tipo_pagopre6").value= tipo_pago;
                    $("#pagadopre6").val((total).toFixed(2));
                    $("#estado_pre6").val("temp_pre6");
                    
                }else if(no_prep == 7){
                    
                    document.getElementById("pago_pre7").value = no_prep;
                    document.getElementById("pagopre7").value = pago;
                    document.getElementById("tipo_pagopre7").value= tipo_pago;
                    $("#pagadopre7").val((total).toFixed(2));
                    $("#estado_pre7").val("temp_pre7");
                    
                }else if(no_prep == 8){
                    
                    document.getElementById("pago_pre8").value = no_prep;
                    document.getElementById("pagopre8").value = pago;
                    document.getElementById("tipo_pagopre8").value= tipo_pago;
                    $("#pagadopre8").val((total).toFixed(2));
                    $("#estado_pre8").val("temp_pre8");
                    
                }else if(no_prep == 9){
                    
                    document.getElementById("pago_pre9").value = no_prep;
                    document.getElementById("pagopre9").value = pago;
                    document.getElementById("tipo_pagopre9").value= tipo_pago;
                    $("#pagadopre9").val((total).toFixed(2));
                    $("#estado_pre9").val("temp_pre9");
                    
                }else if(no_prep == 10){
                    
                    document.getElementById("pago_pre10").value = no_prep;
                    document.getElementById("pagopre10").value = pago;
                    document.getElementById("tipo_pagopre10").value= tipo_pago;
                    $("#pagadopre10").val((total).toFixed(2));
                    $("#estado_pre10").val("temp_pre10");
                    
                }



                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btnPagolinea").disabled = false;
                document.getElementById("btnPagolinea").style.display = "";
                document.getElementById("btnPagolinea").style.cursor = 'pointer';
                
                document.getElementById("btndecline").disabled = false;
                document.getElementById("btndecline").style.display = "";
                document.getElementById("btndecline").style.cursor = 'pointer';
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";                
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';
                document.getElementById('opcion_pago_2').value = 1;
                document.getElementById('opcion_pago_3').value = 1;
                //document.getElementById('op_pago_id').value = 8;
                //valida_clase2();

               }
               
            } else {
                // Do nothing!
                //exit;
                Exit2();
            }


        }

        //Cash
        if (opcion === '22') {

            if (confirm('Confirme su Tipo de Pago !!!')) {

                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var total = parseFloat(pago_driver2);
                var valor = 0;
                var prepaid = parseFloat($("#prepaid").val());
                var agency_balance_due = parseFloat($("#agency_balance_due").val());
                
                var no_prep =  document.getElementById("no_prep").value;
                no_prep = parseInt(no_prep) + 1;
                
                var pago = 'PRED-PAID'; 
                var tipo_pago = 'CASH';
                
                if(agency_balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray"; 
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                prepaid = parseFloat(prepaid) + parseFloat(total);                
                $("#no_prep").val(no_prep);
                $("#prepaid").val((prepaid).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#PAP").val((valor).toFixed(2));
                
                
                if(no_prep == 1){
                    
                                      
                    document.getElementById("pago_pre1").value = no_prep;
                    document.getElementById("pagopre1").value = pago;
                    document.getElementById("tipo_pagopre1").value= tipo_pago;
                    $("#pagadopre1").val((total).toFixed(2));
                    $("#estado_pre1").val("temp_pre1");
                    
                }else if(no_prep == 2){
                    
                    document.getElementById("pago_pre2").value = no_prep;
                    document.getElementById("pagopre2").value = pago;
                    document.getElementById("tipo_pagopre2").value= tipo_pago;
                    $("#pagadopre2").val((total).toFixed(2));
                    $("#estado_pre2").val("temp_pre2");
                    
                }else if(no_prep == 3){
                    
                    document.getElementById("pago_pre3").value = no_prep;
                    document.getElementById("pagopre3").value = pago;
                    document.getElementById("tipo_pagopre3").value= tipo_pago;
                    $("#pagadopre3").val((total).toFixed(2));
                    $("#estado_pre3").val("temp_pre3");
                    
                }else if(no_prep == 4){
                    
                    document.getElementById("pago_pre4").value = no_prep;
                    document.getElementById("pagopre4").value = pago;
                    document.getElementById("tipo_pagopre4").value= tipo_pago;
                    $("#pagadopre4").val((total).toFixed(2));
                    $("#estado_pre4").val("temp_pre4");
                    
                }else if(no_prep == 5){
                    
                    document.getElementById("pago_pre5").value = no_prep;
                    document.getElementById("pagopre5").value = pago;
                    document.getElementById("tipo_pagopre5").value= tipo_pago;
                    $("#pagadopre5").val((total).toFixed(2));
                    $("#estado_pre5").val("temp_pre5");
                    
                    
                    
                }else if(no_prep == 6){
                    
                    document.getElementById("pago_pre6").value = no_prep;
                    document.getElementById("pagopre6").value = pago;
                    document.getElementById("tipo_pagopre6").value= tipo_pago;
                    $("#pagadopre6").val((total).toFixed(2));
                    $("#estado_pre6").val("temp_pre6");
                    
                }else if(no_prep == 7){
                    
                    document.getElementById("pago_pre7").value = no_prep;
                    document.getElementById("pagopre7").value = pago;
                    document.getElementById("tipo_pagopre7").value= tipo_pago;
                    $("#pagadopre7").val((total).toFixed(2));
                    $("#estado_pre7").val("temp_pre7");
                    
                }else if(no_prep == 8){
                    
                    document.getElementById("pago_pre8").value = no_prep;
                    document.getElementById("pagopre8").value = pago;
                    document.getElementById("tipo_pagopre8").value= tipo_pago;
                    $("#pagadopre8").val((total).toFixed(2));
                    $("#estado_pre8").val("temp_pre8");
                    
                }else if(no_prep == 9){
                    
                    document.getElementById("pago_pre9").value = no_prep;
                    document.getElementById("pagopre9").value = pago;
                    document.getElementById("tipo_pagopre9").value= tipo_pago;
                    $("#pagadopre9").val((total).toFixed(2));
                    $("#estado_pre9").val("temp_pre9");
                    
                }else if(no_prep == 10){
                    
                    document.getElementById("pago_pre10").value = no_prep;
                    document.getElementById("pagopre10").value = pago;
                    document.getElementById("tipo_pagopre10").value= tipo_pago;
                    $("#pagadopre10").val((total).toFixed(2));
                    $("#estado_pre10").val("temp_pre10");
                    
                }


                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btndecline").disabled = false;
                document.getElementById("btndecline").style.display = "";
                document.getElementById("btndecline").style.cursor = 'pointer'; 
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";                
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';                
                document.getElementById('opcion_pago_2').value = 6;
                document.getElementById('opcion_pago_3').value = 6;
                //document.getElementById('op_pago_id').value = 8;

                //valida_clase2();
                
                }

            } else {
                // Do nothing!
                //exit;
                Exit2();
            }


        }

        //Check
        if (opcion === '23') {

            if (confirm('Confirme su Tipo de Pago !!!')) {


                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var agency_balance_due = parseFloat($("#agency_balance_due").val());
                var total = parseFloat(pago_driver2);
                var valor = 0;
                var prepaid = parseFloat($("#prepaid").val());
                
                var no_prep =  document.getElementById("no_prep").value;
                no_prep = parseInt(no_prep) + 1;
                
                var pago = 'PRED-PAID'; 
                var tipo_pago = 'CHECK';

                if(agency_balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";  
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                prepaid = parseFloat(prepaid) + parseFloat(total);
                $("#no_prep").val(no_prep);
                $("#prepaid").val((prepaid).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#PAP").val((valor).toFixed(2));
                
                if(no_prep == 1){
                    
                                      
                    document.getElementById("pago_pre1").value = no_prep;
                    document.getElementById("pagopre1").value = pago;
                    document.getElementById("tipo_pagopre1").value= tipo_pago;
                    $("#pagadopre1").val((total).toFixed(2));
                    $("#estado_pre1").val("temp_pre1");
                    
                }else if(no_prep == 2){
                    
                    document.getElementById("pago_pre2").value = no_prep;
                    document.getElementById("pagopre2").value = pago;
                    document.getElementById("tipo_pagopre2").value= tipo_pago;
                    $("#pagadopre2").val((total).toFixed(2));
                    $("#estado_pre2").val("temp_pre2");
                    
                }else if(no_prep == 3){
                    
                    document.getElementById("pago_pre3").value = no_prep;
                    document.getElementById("pagopre3").value = pago;
                    document.getElementById("tipo_pagopre3").value= tipo_pago;
                    $("#pagadopre3").val((total).toFixed(2));
                    $("#estado_pre3").val("temp_pre3");
                    
                }else if(no_prep == 4){
                    
                    document.getElementById("pago_pre4").value = no_prep;
                    document.getElementById("pagopre4").value = pago;
                    document.getElementById("tipo_pagopre4").value= tipo_pago;
                    $("#pagadopre4").val((total).toFixed(2));
                    $("#estado_pre4").val("temp_pre4");
                    
                }else if(no_prep == 5){
                    
                    document.getElementById("pago_pre5").value = no_prep;
                    document.getElementById("pagopre5").value = pago;
                    document.getElementById("tipo_pagopre5").value= tipo_pago;
                    $("#pagadopre5").val((total).toFixed(2));
                    $("#estado_pre5").val("temp_pre5");
                    
                }else if(no_prep == 6){
                    
                    document.getElementById("pago_pre6").value = no_prep;
                    document.getElementById("pagopre6").value = pago;
                    document.getElementById("tipo_pagopre6").value= tipo_pago;
                    $("#pagadopre6").val((total).toFixed(2));
                    $("#estado_pre6").val("temp_pre6");
                    
                }else if(no_prep == 7){
                    
                    document.getElementById("pago_pre7").value = no_prep;
                    document.getElementById("pagopre7").value = pago;
                    document.getElementById("tipo_pagopre7").value= tipo_pago;
                    $("#pagadopre7").val((total).toFixed(2));
                    $("#estado_pre7").val("temp_pre7");
                    
                }else if(no_prep == 8){
                    
                    document.getElementById("pago_pre8").value = no_prep;
                    document.getElementById("pagopre8").value = pago;
                    document.getElementById("tipo_pagopre8").value= tipo_pago;
                    $("#pagadopre8").val((total).toFixed(2));
                    $("#estado_pre8").val("temp_pre8");
                    
                }else if(no_prep == 9){
                    
                    document.getElementById("pago_pre9").value = no_prep;
                    document.getElementById("pagopre9").value = pago;
                    document.getElementById("tipo_pagopre9").value= tipo_pago;
                    $("#pagadopre9").val((total).toFixed(2));
                    $("#estado_pre9").val("temp_pre9");
                    
                }else if(no_prep == 10){
                    
                    document.getElementById("pago_pre10").value = no_prep;
                    document.getElementById("pagopre10").value = pago;
                    document.getElementById("tipo_pagopre10").value= tipo_pago;
                    $("#pagadopre10").val((total).toFixed(2));
                    $("#estado_pre10").val("temp_pre10");
                    
                }                

                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btndecline").disabled = false;
                document.getElementById("btndecline").style.display = "";
                document.getElementById("btndecline").style.cursor = 'pointer'; 
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";                
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';
                document.getElementById('opcion_pago_2').value = 10;
                document.getElementById('opcion_pago_3').value = 10;
                //valida_clase2();                
                }
                
            } else {
                // Do nothing!
                //exit;
                Exit2();
            }

        }

         /*COLLECT ON BOARD////////////////////////////////////*/

        //Credit Card no fee
        if (opcion === '24') {

            if (confirm('Confirme su Tipo de Pago !!!')) {

                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var balance_due = parseFloat($("#balance_due").val());
                var total = parseFloat(pago_driver2);
                var valor = 0;
                var collect = parseFloat($("#collect").val());
                var kollect = parseFloat($("#pago_driver").val());
                
                var no_pago =  document.getElementById("no_pago").value;
                no_pago = parseInt(no_pago) + 1;
                
                var pago = 'COLLECT ON BOARD'; 
                var tipo_pago = 'CREDIT CARD NO FEE';

                if(balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none";
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray"; 
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                $("#no_pago").val(no_pago);
                collect = parseFloat(collect) + parseFloat(total);
                $("#collect").val((collect).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#PAP").val((valor).toFixed(2));
                
                if(no_pago == 1){
                    
                                      
                    document.getElementById("pago_1").value = no_pago;
                    document.getElementById("pago1").value = pago;
                    document.getElementById("tipo_pago1").value= tipo_pago;
                    $("#pagado1").val((kollect).toFixed(2));
                    $("#estado_cob1").val("temp_cob1");
                    
                }else if(no_pago == 2){
                    
                    document.getElementById("pago_2").value = no_pago;
                    document.getElementById("pago2").value = pago;
                    document.getElementById("tipo_pago2").value= tipo_pago;
                    $("#pagado2").val((kollect).toFixed(2));
                    $("#estado_cob2").val("temp_cob2");
                    
                }else if(no_pago == 3){
                    
                    document.getElementById("pago_3").value = no_pago;
                    document.getElementById("pago3").value = pago;
                    document.getElementById("tipo_pago3").value= tipo_pago;
                    $("#pagado3").val((kollect).toFixed(2));
                    $("#estado_cob3").val("temp_cob3");
                    
                }else if(no_pago == 4){
                    
                    document.getElementById("pago_4").value = no_pago;
                    document.getElementById("pago4").value = pago;
                    document.getElementById("tipo_pago4").value= tipo_pago;
                    $("#pagado4").val((kollect).toFixed(2));
                    $("#estado_cob4").val("temp_cob4");
                    
                }else if(no_pago == 5){
                    
                    document.getElementById("pago_5").value = no_pago;
                    document.getElementById("pago5").value = pago;
                    document.getElementById("tipo_pago5").value= tipo_pago;
                    $("#pagado5").val((kollect).toFixed(2));
                    $("#estado_cob5").val("temp_cob5");
                    
                }else if(no_pago == 6){
                    
                    document.getElementById("pago_6").value = no_pago;
                    document.getElementById("pago6").value = pago;
                    document.getElementById("tipo_pago6").value= tipo_pago;
                    $("#pagado6").val((kollect).toFixed(2));
                    $("#estado_cob6").val("temp_cob6");
                    
                }else if(no_pago == 7){
                    
                    document.getElementById("pago_7").value = no_pago;
                    document.getElementById("pago7").value = pago;
                    document.getElementById("tipo_pago7").value= tipo_pago;
                    $("#pagado7").val((kollect).toFixed(2));
                    $("#estado_cob7").val("temp_cob7");
                    
                }else if(no_pago == 8){
                    
                    document.getElementById("pago_8").value = no_pago;
                    document.getElementById("pago8").value = pago;
                    document.getElementById("tipo_pago8").value= tipo_pago;
                    $("#pagado8").val((kollect).toFixed(2));
                    $("#estado_cob8").val("temp_cob8");
                    
                }else if(no_pago == 9){
                    
                    document.getElementById("pago_9").value = no_pago;
                    document.getElementById("pago9").value = pago;
                    document.getElementById("tipo_pago9").value= tipo_pago;
                    $("#pagado9").val((kollect).toFixed(2));
                    $("#estado_cob9").val("temp_cob9");
                    
                }else if(no_pago == 10){
                    
                    document.getElementById("pago_10").value = no_pago;
                    document.getElementById("pago10").value = pago;
                    document.getElementById("tipo_pago10").value= tipo_pago;
                    $("#pagado10").val((kollect).toFixed(2));
                    $("#estado_cob10").val("temp_cob10");
                    
                }

                document.getElementById("btndecline").disabled = true;
                document.getElementById("btndecline").style.display = "none";
                document.getElementById("btndecline").style.cursor = '';
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";                
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                document.getElementById("btncancol").disabled = false;
                document.getElementById("btncancol").style.display = "";
                document.getElementById("btncancol").style.cursor = 'pointer';               
                
                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';
                document.getElementById('op_pago_id').value = 8;
                document.getElementById('opcion_pago_driver').value = 8;                                      

                //valida_clase();
                
                }

            } else {             
                Exit2();
            }


        }
        //COLLECT ON BOARD
        //Credit Card with fee
        if (opcion === '25') {

            if (confirm('Confirme su Tipo de Pago !!!')) {


                var pago_driver = parseFloat($("#pago_driver").val());
                var balance_due = parseFloat($("#balance_due").val());
                var valor = parseFloat(pago_driver) * 0.04;
                var total = parseFloat(pago_driver) + parseFloat(valor);
                var tot_cargo = parseFloat(pago_driver) - parseFloat(valor);
                var temp_driver = parseFloat($("#temp_driver").val());                                        
                //var temp_prepaid = parseFloat($("#temp_prepaid").val());
                var temp = parseFloat($("#temp").val());
                
                var no_pago =  document.getElementById("no_pago").value;                
                no_pago = parseInt(no_pago) + 1;
                
                var pago = 'COLLECT ON BOARD'; 
                var tipo_pago = 'CREDIT CARD WITH FEE';

                if(balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none";
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";  
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                temp = parseFloat(temp) + parseFloat(valor);                                        
                temp_driver = parseFloat(temp_driver) + parseFloat(valor);  
                
                $("#temp").val((temp).toFixed(2));                                        
                $("#temp_driver").val((temp_driver).toFixed(2));
                $("#no_pago").val(no_pago);
                var collect = parseFloat($("#collect").val());
                collect = parseFloat(collect) + parseFloat(total);
                $("#collect").val((collect).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#PAP").val((valor).toFixed(2));
                $("#tot_charge").val((temp).toFixed(2));
                
                
                if(no_pago == 1){                   
                                      
                    document.getElementById("pago_1").value = no_pago;
                    document.getElementById("pago1").value = pago;
                    document.getElementById("tipo_pago1").value= tipo_pago;
                    $("#pagado1").val((total).toFixed(2));
                    $("#estado_cob1").val("temp_cob1");
                    
                }else if(no_pago == 2){
                    
                    document.getElementById("pago_2").value = no_pago;
                    document.getElementById("pago2").value = pago;
                    document.getElementById("tipo_pago2").value= tipo_pago;
                    $("#pagado2").val((total).toFixed(2));
                    $("#estado_cob2").val("temp_cob2");
                    
                }else if(no_pago == 3){
                    
                    document.getElementById("pago_3").value = no_pago;
                    document.getElementById("pago3").value = pago;
                    document.getElementById("tipo_pago3").value= tipo_pago;
                    $("#pagado3").val((total).toFixed(2));
                    $("#estado_cob3").val("temp_cob3");
                    
                }else if(no_pago == 4){
                    
                    document.getElementById("pago_4").value = no_pago;
                    document.getElementById("pago4").value = pago;
                    document.getElementById("tipo_pago4").value= tipo_pago;
                    $("#pagado4").val((total).toFixed(2));
                    $("#estado_cob4").val("temp_cob4");
                    
                }else if(no_pago == 5){
                    
                    document.getElementById("pago_5").value = no_pago;
                    document.getElementById("pago5").value = pago;
                    document.getElementById("tipo_pago5").value= tipo_pago;
                    $("#pagado5").val((total).toFixed(2));
                    $("#estado_cob5").val("temp_cob5");
                    
                }else if(no_pago == 6){
                    
                    document.getElementById("pago_6").value = no_pago;
                    document.getElementById("pago6").value = pago;
                    document.getElementById("tipo_pago6").value= tipo_pago;
                    $("#pagado6").val((total).toFixed(2));
                    $("#estado_cob6").val("temp_cob6");
                    
                }else if(no_pago == 7){
                    
                    document.getElementById("pago_7").value = no_pago;
                    document.getElementById("pago7").value = pago;
                    document.getElementById("tipo_pago7").value= tipo_pago;
                    $("#pagado7").val((total).toFixed(2));
                    $("#estado_cob7").val("temp_cob7");
                    
                }else if(no_pago == 8){
                    
                    document.getElementById("pago_8").value = no_pago;
                    document.getElementById("pago8").value = pago;
                    document.getElementById("tipo_pago8").value= tipo_pago;
                    $("#pagado8").val((total).toFixed(2));
                    $("#estado_cob8").val("temp_cob8");
                    
                }else if(no_pago == 9){
                    
                    document.getElementById("pago_9").value = no_pago;
                    document.getElementById("pago9").value = pago;
                    document.getElementById("tipo_pago9").value= tipo_pago;
                    $("#pagado9").val((total).toFixed(2));
                    $("#estado_cob9").val("temp_cob9");
                    
                }else if(no_pago == 10){
                    
                    document.getElementById("pago_10").value = no_pago;
                    document.getElementById("pago10").value = pago;
                    document.getElementById("tipo_pago10").value= tipo_pago;
                    $("#pagado10").val((total).toFixed(2));
                    $("#estado_cob10").val("temp_cob10");
                    
                }                

                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btndecline").disabled = true;
                document.getElementById("btndecline").style.display = "none";
                document.getElementById("btndecline").style.cursor = '';
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                
                document.getElementById("btncancol").disabled = false;
                document.getElementById("btncancol").style.display = "";
                document.getElementById("btncancol").style.cursor = 'pointer';
                
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';
                document.getElementById('op_pago_id').value = 3;
                document.getElementById('opcion_pago_driver').value = 3;
                //valida_clase();                
                }

            } else {
                // Do nothing!
                //exit;
                //reset();
                Exit2();
            }

        }

        //Cash
        if (opcion === '26') {

            if (confirm('Confirme su Tipo de Pago !!!')) {
                //var cash = $('#op_pago_id1').val();

                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var balance_due = parseFloat($("#balance_due").val());                                     
                var total = parseFloat(pago_driver2);
                var valor = 0;
                var collect = parseFloat($("#collect").val());
                var kollect = parseFloat($("#pago_driver").val());
                
                var no_pago =  document.getElementById("no_pago").value;
                no_pago = parseInt(no_pago) + 1;
                
                var pago = 'COLLECT ON BOARD'; 
                var tipo_pago = 'CASH';

                if(balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none";
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";  
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                $("#no_pago").val(no_pago);
                collect = parseFloat(collect) + parseFloat(total);
                $("#collect").val((collect).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));
                $("#PAP").val((valor).toFixed(2));
                
                if(no_pago == 1){                    
                                      
                    document.getElementById("pago_1").value = no_pago;
                    document.getElementById("pago1").value = pago;
                    document.getElementById("tipo_pago1").value= tipo_pago;
                    $("#pagado1").val((kollect).toFixed(2));
                    $("#estado_cob1").val("temp_cob1");
                    
                }else if(no_pago == 2){
                    
                    document.getElementById("pago_2").value = no_pago;
                    document.getElementById("pago2").value = pago;
                    document.getElementById("tipo_pago2").value= tipo_pago;
                    $("#pagado2").val((kollect).toFixed(2));
                    $("#estado_cob2").val("temp_cob2");
                    
                }else if(no_pago == 3){
                    
                    document.getElementById("pago_3").value = no_pago;
                    document.getElementById("pago3").value = pago;
                    document.getElementById("tipo_pago3").value= tipo_pago;
                    $("#pagado3").val((kollect).toFixed(2));
                    $("#estado_cob3").val("temp_cob3");
                    
                }else if(no_pago == 4){
                    
                    document.getElementById("pago_4").value = no_pago;
                    document.getElementById("pago4").value = pago;
                    document.getElementById("tipo_pago4").value= tipo_pago;
                    $("#pagado4").val((kollect).toFixed(2));
                    $("#estado_cob4").val("temp_cob4");
                    
                }else if(no_pago == 5){
                    
                    document.getElementById("pago_5").value = no_pago;
                    document.getElementById("pago5").value = pago;
                    document.getElementById("tipo_pago5").value= tipo_pago;
                    $("#pagado5").val((kollect).toFixed(2));
                    $("#estado_cob5").val("temp_cob5");
                    
                }else if(no_pago == 6){
                    
                    document.getElementById("pago_6").value = no_pago;
                    document.getElementById("pago6").value = pago;
                    document.getElementById("tipo_pago6").value= tipo_pago;
                    $("#pagado6").val((kollect).toFixed(2));
                    $("#estado_cob6").val("temp_cob6");
                    
                }else if(no_pago == 7){
                    
                    document.getElementById("pago_7").value = no_pago;
                    document.getElementById("pago7").value = pago;
                    document.getElementById("tipo_pago7").value= tipo_pago;
                    $("#pagado7").val((kollect).toFixed(2));
                    $("#estado_cob7").val("temp_cob7");
                    
                }else if(no_pago == 8){
                    
                    document.getElementById("pago_8").value = no_pago;
                    document.getElementById("pago8").value = pago;
                    document.getElementById("tipo_pago8").value= tipo_pago;
                    $("#pagado8").val((kollect).toFixed(2));
                    $("#estado_cob8").val("temp_cob8");
                    
                }else if(no_pago == 9){
                    
                    document.getElementById("pago_9").value = no_pago;
                    document.getElementById("pago9").value = pago;
                    document.getElementById("tipo_pago9").value= tipo_pago;
                    $("#pagado9").val((kollect).toFixed(2));
                    $("#estado_cob9").val("temp_cob9");
                    
                }else if(no_pago == 10){
                    
                    document.getElementById("pago_10").value = no_pago;
                    document.getElementById("pago10").value = pago;
                    document.getElementById("tipo_pago10").value= tipo_pago;
                    $("#pagado10").val((kollect).toFixed(2));
                    $("#estado_cob10").val("temp_cob10");                   
                }
                
                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btndecline").disabled = true;
                document.getElementById("btndecline").style.display = "none";
                document.getElementById("btndecline").style.cursor = '';
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                document.getElementById("btncancol").disabled = false;
                document.getElementById("btncancol").style.display = "";
                document.getElementById("btncancol").style.cursor = 'pointer';
                
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';
                document.getElementById('op_pago_id').value = 4;
                document.getElementById('opcion_pago_driver').value = 4;

                //valida_clase();
                
                }

            } else {
                // Do nothing!
                //exit;
                Exit2();
            }

        }

        //Check

        if (opcion === '27') {

            if (confirm('Confirme su Tipo de Pago !!!')) {

                var pago_driver2 = parseFloat($("#pago_driver2").val());
                var balance_due = parseFloat($("#balance_due").val());
                var total = parseFloat(pago_driver2);
                var valor = 0;
                var collect = parseFloat($("#collect").val());
                var kollect = parseFloat($("#pago_driver").val());
                
                var no_pago =  document.getElementById("no_pago").value;
                no_pago = parseInt(no_pago) + 1;
                
                var pago = 'COLLECT ON BOARD'; 
                var tipo_pago = 'CHECK';

                if(balance_due <= "0"){
                    
                    document.getElementById('pago_driver').value = "0.00"; 
                    document.getElementById("btnPagolinea").disabled = true;
                    document.getElementById("btnPagolinea").style.display = "none";
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btncancol").style.display = "none";             
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";                   
                    
                    alert("This payment can not be processed !!!");
                    Exit();
                    
                }else{

                $("#no_pago").val(no_pago);
                collect = parseFloat(collect) + parseFloat(total);
                $("#collect").val((collect).toFixed(2));
                $("#pago_driver").val((total).toFixed(2));                
                $("#PAP").val((valor).toFixed(2));
                
                if(no_pago == 1){                   
                                      
                    document.getElementById("pago_1").value = no_pago;
                    document.getElementById("pago1").value = pago;
                    document.getElementById("tipo_pago1").value= tipo_pago;
                    $("#pagado1").val((kollect).toFixed(2));
                    $("#estado_cob1").val("temp_cob1");
                    
                }else if(no_pago == 2){
                    
                    document.getElementById("pago_2").value = no_pago;
                    document.getElementById("pago2").value = pago;
                    document.getElementById("tipo_pago2").value= tipo_pago;
                    $("#pagado2").val((kollect).toFixed(2));
                    $("#estado_cob2").val("temp_cob2");
                    
                }else if(no_pago == 3){
                    
                    document.getElementById("pago_3").value = no_pago;
                    document.getElementById("pago3").value = pago;
                    document.getElementById("tipo_pago3").value= tipo_pago;
                    $("#pagado3").val((kollect).toFixed(2));
                    $("#estado_cob3").val("temp_cob3");
                    
                }else if(no_pago == 4){
                    
                    document.getElementById("pago_4").value = no_pago;
                    document.getElementById("pago4").value = pago;
                    document.getElementById("tipo_pago4").value= tipo_pago;
                    $("#pagado4").val((kollect).toFixed(2));
                    $("#estado_cob4").val("temp_cob4");
                    
                }else if(no_pago == 5){
                    
                    document.getElementById("pago_5").value = no_pago;
                    document.getElementById("pago5").value = pago;
                    document.getElementById("tipo_pago5").value= tipo_pago;
                    $("#pagado5").val((kollect).toFixed(2));
                    $("#estado_cob5").val("temp_cob5");
                    
                }else if(no_pago == 6){
                    
                    document.getElementById("pago_6").value = no_pago;
                    document.getElementById("pago6").value = pago;
                    document.getElementById("tipo_pago6").value= tipo_pago;
                    $("#pagado6").val((kollect).toFixed(2));
                    $("#estado_cob6").val("temp_cob6");
                    
                }else if(no_pago == 7){
                    
                    document.getElementById("pago_7").value = no_pago;
                    document.getElementById("pago7").value = pago;
                    document.getElementById("tipo_pago7").value= tipo_pago;
                    $("#pagado7").val((kollect).toFixed(2));
                    $("#estado_cob7").val("temp_cob7");
                    
                }else if(no_pago == 8){
                    
                    document.getElementById("pago_8").value = no_pago;
                    document.getElementById("pago8").value = pago;
                    document.getElementById("tipo_pago8").value= tipo_pago;
                    $("#pagado8").val((kollect).toFixed(2));
                    $("#estado_cob8").val("temp_cob8");
                    
                }else if(no_pago == 9){
                    
                    document.getElementById("pago_9").value = no_pago;
                    document.getElementById("pago9").value = pago;
                    document.getElementById("tipo_pago9").value= tipo_pago;
                    $("#pagado9").val((kollect).toFixed(2));
                    $("#estado_cob9").val("temp_cob9");
                    
                }else if(no_pago == 10){
                    
                    document.getElementById("pago_10").value = no_pago;
                    document.getElementById("pago10").value = pago;
                    document.getElementById("tipo_pago10").value= tipo_pago;
                    $("#pagado10").val((kollect).toFixed(2));
                    $("#estado_cob10").val("temp_cob10");
                    
                }
              

                document.getElementById("op_pago_id1").disabled = true;
                document.getElementById("pago_driver").disabled = true;
                document.getElementById('pago_driver').style.color = '#848484';
                
                document.getElementById("btndecline").disabled = true;
                document.getElementById("btndecline").style.display = "none";
                document.getElementById("btndecline").style.cursor = '';
                
                document.getElementById("btnExit").disabled = true;
                document.getElementById("btnExit").style.display = "";
                document.getElementById("btnExit").style.cursor = '';
                document.getElementById("btnExit").style.borderColor = "#696969";
                document.getElementById("btnExit").style.background = "#696969";
                
                
                document.getElementById("btncancol").disabled = false;
                document.getElementById("btncancol").style.display = "";
                document.getElementById("btncancol").style.cursor = 'pointer';
                
                
                document.getElementById('btnAceptar').style.cursor = 'pointer';
                document.getElementById("btnAceptar").disabled = false;
                document.getElementById('btnAceptar').style.background = '#006400';
                document.getElementById('btnAceptar').style.color = '#fff';
                document.getElementById('op_pago_id').value = 9;
                document.getElementById('opcion_pago_driver').value = 9;
                                
                }

            } else {
                // Do nothing!
                //exit;
                Exit2();
            }

        }



    }
</script>



<script type="text/javascript">
    function ClkPay_Amount()
    {

        var clone = document.getElementById('otheramount').value;
        var pd = document.getElementById('paid_driver').value;

        if (clone == '') {
            document.getElementById('otheramount').value = '0.00';
            document.getElementById('etb').value = '0.00';
        }

        if (clone == '0.0') {
            document.getElementById('otheramount').value = '0.00';
            document.getElementById('etb').value = '0.00';
        }

        if (clone == '.00') {
            document.getElementById('otheramount').value = '0.00';
            document.getElementById('etb').value = '0.00';
        }

        if (clone > 0) {
            document.getElementById('saldoporpagar').value = clone;
            document.getElementById('paid_driver').value = pd;

            $("#saldoporpagar").val((clone).toFixed(2));

            setTimeout(function () {

                //$('#paid_driver').click();
                CalcularTotalTotal();

            }, 0.001);
        }

        if (clone == '0.') {
            document.getElementById('otheramount').value = '0.00';
            document.getElementById('etb').value = '0.00';
        }


        if (clone == '0') {
            document.getElementById('otheramount').value = '0.00';
            document.getElementById('etb').value = '0.00';
        }
        setTimeout(function () {
            //$('#paid_driver').click();
            CalcularTotalTotal();

        }, 0.001);


    }
</script>
  

<script type="text/javascript">
    function cargando()
    {
        var trip2 = $("#trip_2").val();  
        var id_agencia = "<?php echo $agencia->id ?>";
        //alert(trip2);
               
        if(trip2 == 0){
            
            document.getElementById('save2').style.display = '';
            
            //document.getElementById('save2').style.marginTop = "-1050px"; 
            
            if (window.screen.availWidth == 1024) {
                window.parent.document.body.style.zoom = "100%";   
                document.getElementById("save2").style.marginTop = "-1615px";
            }
            
            if (window.screen.availWidth == 1280) {
                window.parent.document.body.style.zoom = "100%";   
                document.getElementById("save2").style.marginTop = "-1625px";
            }
            
            if (window.screen.availWidth == 1366) {
                window.parent.document.body.style.zoom = "100%";   
                document.getElementById("save2").style.marginTop = "-1610px";
            }
            
            if (window.screen.availWidth == 1440) {
                window.parent.document.body.style.zoom = "110%";
                document.getElementById("save2").style.marginTop = "-1588px";
            }
            
            if (window.screen.availWidth == 1600) {
                window.parent.document.body.style.zoom = "125%";
                document.getElementById("save2").style.marginTop = "-1605px";
            }
            
            if (window.screen.availWidth == 1680) {
                window.parent.document.body.style.zoom = "125%";
                document.getElementById("save2").style.marginTop = "-1576px";
            }

            
            if (window.screen.availWidth > 1680 && id_agencia == 45){
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1567px";               
            }
            
            if (window.screen.availWidth > 1680 && id_agencia == 53){
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1567px";               
            }
            
            if (window.screen.availWidth > 1680 && id_agencia < 45) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1567px";
            } 
            
            if (window.screen.availWidth > 1680 && (id_agencia > 45 && id_agencia < 53)) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1567px";
            } 
            
            if (window.screen.availWidth > 1680 && id_agencia > 53) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1567px";
            } 
            
//            if (window.screen.availWidth > 1680 && id_agencia != 45 && id_agencia != 53) {
//               window.parent.document.body.style.zoom = "125%";
//               document.getElementById("save2").style.marginTop = "-1910px";
//            }                
            
        }else{
            
            document.getElementById('save2').style.display = '';
            
            if (window.screen.availWidth == 1024) {
                window.parent.document.body.style.zoom = "100%";   
                document.getElementById("save2").style.marginTop = "-1955px";
            }
            
            if (window.screen.availWidth == 1280) {
                window.parent.document.body.style.zoom = "100%";   
                document.getElementById("save2").style.marginTop = "-1955px";
            }
            
            if (window.screen.availWidth == 1366) {
                window.parent.document.body.style.zoom = "100%";   
                document.getElementById("save2").style.marginTop = "-1955px";
            }
            
            if (window.screen.availWidth == 1440) {
                window.parent.document.body.style.zoom = "110%";
                document.getElementById("save2").style.marginTop = "-1927px";
            }
            
            if (window.screen.availWidth == 1600) {
                window.parent.document.body.style.zoom = "125%";
                document.getElementById("save2").style.marginTop = "-1945px";
            }
            
            if (window.screen.availWidth == 1680) {
                window.parent.document.body.style.zoom = "125%";
                document.getElementById("save2").style.marginTop = "-1910px";
            }        
            
            
            if (window.screen.availWidth > 1680 && id_agencia == 45) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1910px";
            } 
            
            if (window.screen.availWidth > 1680 && id_agencia == 53) {               
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1910px";
            }                
            
            if (window.screen.availWidth > 1680 && id_agencia < 45) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1910px";
            } 
            
            if (window.screen.availWidth > 1680 && (id_agencia > 45 && id_agencia < 53)) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1910px";
            } 
            
            if (window.screen.availWidth > 1680 && id_agencia > 53) {
               window.parent.document.body.style.zoom = "125%";
               document.getElementById("save2").style.marginTop = "-1910px";
            } 
//            if (window.screen.availWidth > 1680 && id_agencia != 45 && id_agencia != 53) {
//               window.parent.document.body.style.zoom = "125%";
//               document.getElementById("save2").style.marginTop = "-1910px";
//            }                
       
        }
        
        

    }
</script>


<script type="text/javascript">
    function dupliPago()
    {
//       ("#pago_driver").mask("99,99");
        var dupli = document.getElementById('pago_driver').value;
        document.getElementById('pago_driver2').value = dupli;

        if (dupli == '') {
            //document.getElementById('pago_driver').value = '';
            document.getElementById('pago_driver').placeholder = "0.00"

            document.getElementById('pago_driver').style.color = '#848484';

            document.getElementById('dolares').style.color = '#848484';

            $("#pago_driver").focus();
        }

        if (dupli > '0.00') {            
            document.getElementById("op_pago_id1").disabled = false;
            document.getElementById('pago_driver').style.color = '#000';
            document.getElementById('dolares').style.color = '#000';
            $("#pago_driver").focus();
        } else {
            document.getElementById("op_pago_id1").disabled = true;
            document.getElementById('pago_driver').style.color = '#848484';
            document.getElementById('dolares').style.color = '#848484';
            $("#pago_driver").focus();
        }

    }
</script>

<script type="text/javascript">
    function Exit()
    {
        var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor        
        document.getElementById("btndecline").style.display = "none"; 
        document.getElementById("btncancol").style.display = "none"; 
        document.getElementById("btnAceptar").disabled = true;
        document.getElementById("btnAceptar").style.background = "lightgray";        
        ventana2.style.display = 'none'; // Y lo hacemos invisible
        $('#vent1').show();

    }
</script>
<script type="text/javascript">
    function Exit2()
    {
        var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor
        ventana2.style.display = 'none'; // Y lo hacemos invisible
        $('#vent1').show();
        //resetal();
        mostrarVentana2();

    }
</script>

<script type="text/javascript">

    function passenger_balance()
    {

        //$('op_pago_conductor option[value="<?php /*echo $op_pago_conductor;*/ ?>"]').attr("selected", true);
        
        //credit card with fee
        var op = document.getElementById('op_pago_conductor').value;
        var otheramount = parseFloat($("#otheramount").val());
        
        //Swal.fire(op+" : "+otheramount);
        if (op == '3' && otheramount >= '0') {
            document.getElementById('op_pago_conductor').value = "3";  
            document.getElementById('op_pago_id').value = "3";            
            $jq('#saldoporpagar').prop('disabled',false);
            setTimeout(function () {                
                var balance = parseFloat($("#balance_due").val());
                var porcbal = balance*0.04;
                var tot_balance = parseFloat(balance) + parseFloat(porcbal);          
				CalcularTotalTotal();
                //$("#balance_due").val((tot_balance).toFixed(2));
                //$("#bal_duep").val((tot_balance).toFixed(2));

            }, 0.01);

        //credit card no fee
        }else if (op == '8' && otheramount >= '0') { 
                                                
             document.getElementById('op_pago_conductor').value = "8";
             document.getElementById('op_pago_id').value = "8";            
            
             //resetal();
             CalcularTotalTotal();
             document.getElementById('bal_duep').value = document.getElementById('balance_due').value ;
             
        //cash
        }else if (op == '4' && otheramount >= '0') { 

            document.getElementById('op_pago_conductor').value = "4";
            document.getElementById('op_pago_id').value = "4";
            $jq('#saldoporpagar').prop('disabled',false);
            //resetal();
            CalcularTotalTotal(); 
            document.getElementById('bal_duep').value = document.getElementById('balance_due').value ;
            
        //check
        }else if (op == '9' && otheramount >= '0') {                        
            
            
            document.getElementById('op_pago_conductor').value = "9";
            document.getElementById('op_pago_id').value = "9";
            $jq('#saldoporpagar').prop('disabled',false);
            //resetal();
            CalcularTotalTotal();
            document.getElementById('bal_duep').value = document.getElementById('balance_due').value ;
            
        //credit voucher
        }else if (op == '5' && otheramount >= '0') {         
           
            document.getElementById('op_pago_conductor').value = "5";
            document.getElementById('op_pago_id').value = "5";
            $jq('#saldoporpagar').prop('disabled',true);
            setTimeout(function () {
                
                var cv = 0;
                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                document.getElementById('bal_duep').value = document.getElementById('balance_due').value ;
                
            }, 0.01);
            
           
        }else if (rup == 6) {                        
            
           
            document.getElementById('op_pago_conductor').value = "6";
            document.getElementById('op_pago_id').value = "6";
            
            setTimeout(function () {
                
                var cv = 0;
                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                $("#otheramount").val((cv).toFixed(2));
                $("#otheramountp").val((cv).toFixed(2));
                
            }, 0.01);
            
           
        }else if (op == '7' && otheramount >= '0') {//complementary 
            
            document.getElementById('op_pago_conductor').value = "7";
            document.getElementById('op_pago_id').value = "7";
            
            setTimeout(function () {
                
                var cv = 0;
                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                $("#totalPagar").val((cv).toFixed(2));
                $("#totaltotal").text((cv).toFixed(2));
                $("#pay_amount").val((cv).toFixed(2));
                $("#tot_amount_paid").val((cv).toFixed(2));
                $("#agency_balance_due").val((cv).toFixed(2));
                $("#otheramount").val((cv).toFixed(2));
                document.getElementById('bal_duep').value = document.getElementById('balance_due').value ;
                
            }, 0.01);    
            
        }

    }

</script>

<script type="text/javascript">

    function passenger_balance22()
    {

        //$('op_pago_conductor option[value="<?php /*echo $op_pago_conductor;*/ ?>"]').attr("selected", true);
        
        //credit card with fee
        if (rup == 3) {  
            
                        
            document.getElementById('op_pago_conductor').value = "3"; 
            
        
            setTimeout(function () {

                var gt = "<?php echo $passenger_balance_due; ?>";

            }, 0.01);

        //credit card no fee
        }else if (rup == 8) {              
                          
             document.getElementById('op_pago_conductor').value = "8";
             CalcularTotalTotal();
             
        //cash
        }else if (rup == 4) {      
           
            document.getElementById('op_pago_conductor').value = "4";
            CalcularTotalTotal();  
            
        //check
        }else if (rup == 9) {                        
            
            
            document.getElementById('op_pago_conductor').value = "9";
            CalcularTotalTotal();
            
        //credit voucher
        }else if (rup == 5) {                        
            
           
            document.getElementById('op_pago_conductor').value = "5";
            
            setTimeout(function () {
                
                var cv = 0;
                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                
            }, 0.01);
            
        //complementary    
        }else if (rup == 7) {
            
            document.getElementById('op_pago_conductor').value = "7";
            
            setTimeout(function () {
                
                var cv = 0;
                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                $("#totalPagar").val((cv).toFixed(2));
                $("#totaltotal").text((cv).toFixed(2));
                $("#pay_amount").val((cv).toFixed(2));
                $("#tot_amount_paid").val((cv).toFixed(2));
                $("#agency_balance_due").val((cv).toFixed(2));
                $("#otheramount").val((cv).toFixed(2));
                
            }, 0.01);    
            
        }

    }

</script>

<script type="text/javascript">

    function change_ext_from1()
    {
        
        var ext_from1 = document.getElementById('ext_from1').value;
        var trip_no = $("#trip_no").val();
        var from = $("#from").val();  
        var to = $("#to").val();        
        
        
        setTimeout(function () { 
            
        //*************  100  ***********************    
        
        //Servicing ext_from1  100 
         
            if(ext_from1 == '0' && trip_no == '100' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('7:00 am'); //Orlando - Super Tours Terminal     
            }
            
            if(ext_from1 == '11' && trip_no == '100' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('6:30 am'); //Orlando - International Drive Area  
            }
            
        //Servicing ext_from1  100 
            
            if(ext_from1 == '12' && trip_no == '100' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('6:30 am'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_from1  100 
            
            if(ext_from1 == '13' && trip_no == '100' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('6:00 am'); //Walt Disney World Resorts
            }
            
        //*************  200  ***********************    
            
        //Servicing ext_from1  200 
         
            if(ext_from1 == '0' && trip_no == '200' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('11:45 am'); //Orlando - Super Tours Terminal     
            }
            
            if(ext_from1 == '11' && trip_no == '200' && from == '1' && (to == '1' || to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('11:20 am'); //Orlando - International Drive Area     
            }
            
        //Servicing ext_from1  200 
            
            if(ext_from1 == '12' && trip_no == '200' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('11:20 am'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_from1  200 
            
            if(ext_from1 == '13' && trip_no == '200' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '11' || to == '12' || to == '10' || to == '9' || to == '8')){                
                
                $("#departure1").val('11:00 am'); //Walt Disney World Resorts
            }  
            
            
        //*************  300  ***********************    
            
        //Servicing ext_from1  300 
         
            if(ext_from1 == '0' && trip_no == '300' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '7' || to == '8' || to == '9' || to == '10' || to == '12' || to == '14')){                
                
                $("#departure1").val('7:00 pm'); //Orlando - Super Tours Terminal     
            }
            
            if(ext_from1 == '11' && trip_no == '300' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '7' || to == '8' || to == '9' || to == '10' || to == '12' || to == '14')){                
                
                $("#departure1").val('6:30 pm'); //Orlando - International Drive Area     
            }
            
        //Servicing ext_from1  300 
            
            if(ext_from1 == '12' && trip_no == '300' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '7' || to == '8' || to == '9' || to == '10' || to == '12' || to == '14')){                
                
                $("#departure1").val('6:30 pm'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_from1  300 
            
            if(ext_from1 == '13' && trip_no == '300' && from == '1' && (to == '3' || to == '4' || to == '5' || to == '6' || to == '7' || to == '8' || to == '9' || to == '10' || to == '12' || to == '14')){                
                
                $("#departure1").val('5:45 pm'); //Walt Disney World Resorts
            }   
            
         }, 500); 
        
    }
    
</script>

<script type="text/javascript">

    function change_ext_from2()
    {
        
        var ext_from2 = document.getElementById('ext_from2').value;
        var trip_no2 = $("#trip_no2").val();
        var from2 = $("#from2").val();  
        var to2 = $("#to2").val();        
        
        
        setTimeout(function () { 
            
        //*************  100  ***********************    
        
        //Servicing ext_from2  100 
         
            if(ext_from2 == '0' && trip_no2 == '100' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('7:00 am'); //Orlando - Super to2urs Terminal     
            }
            
            if(ext_from2 == '11' && trip_no2 == '100' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('6:30 am'); //Orlando - International Drive Area      
            }
            
        //Servicing ext_from2  100 
            
            if(ext_from2 == '12' && trip_no2 == '100' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('6:30 am'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_from2  100 
            
            if(ext_from2 == '13' && trip_no2 == '100' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('6:00 am'); //Walt Disney World Resorts
            }
            
        //*************  200  ***********************    
            
        //Servicing ext_from2  200 
         
            if(ext_from2 == '0' && trip_no2 == '200' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('11:45 am'); //Orlando - Super to2urs Terminal     
            }
            
            if(ext_from2 == '11' && trip_no2 == '200' && from2 == '1' && (to2 == '1' || to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('11:20 am'); //Orlando - International Drive Area      
            }
            
        //Servicing ext_from2  200 
            
            if(ext_from2 == '12' && trip_no2 == '200' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('11:20 am'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_from2  200 
            
            if(ext_from2 == '13' && trip_no2 == '200' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '11' || to2 == '12' || to2 == '10' || to2 == '9' || to2 == '8')){                
                
                $("#departure2").val('11:00 am'); //Walt Disney World Resorts
            }  
            
            
        //*************  300  ***********************    
            
        //Servicing ext_from2  300 
         
            if(ext_from2 == '0' && trip_no2 == '300' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '7' || to2 == '8' || to2 == '9' || to2 == '10' || to2 == '12' || to2 == '14')){                
                
                $("#departure2").val('7:00 pm'); //Orlando - Super tours Terminal     
            }
            
            if(ext_from2 == '11' && trip_no2 == '300' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '7' || to2 == '8' || to2 == '9' || to2 == '10' || to2 == '12' || to2 == '14')){                
                
                $("#departure2").val('6:30 pm'); //Orlando - International Drive Area    
            }
            
        //Servicing ext_from2  300 
            
            if(ext_from2 == '12' && trip_no2 == '300' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '7' || to2 == '8' || to2 == '9' || to2 == '10' || to2 == '12' || to2 == '14')){                
                
                $("#departure2").val('6:30 pm'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_from2  300 
            
            if(ext_from2 == '13' && trip_no2 == '300' && from2 == '1' && (to2 == '3' || to2 == '4' || to2 == '5' || to2 == '6' || to2 == '7' || to2 == '8' || to2 == '9' || to2 == '10' || to2 == '12' || to2 == '14')){                
                
                $("#departure2").val('5:45 pm'); //Walt Disney World Resorts
            }   
            
         }, 500); 
        
    }
    
</script>

<script type="text/javascript">

    function change_ext_to1()
    {
        
        var ext_to1 = document.getElementById('ext_to1').value;
        var trip_no = $("#trip_no").val();
        var from = $("#from").val();  
        var to = $("#to").val();        
        
        
        setTimeout(function () { 
            
        //*************  101  ***********************    
        
        //Servicing ext_to1  101 
         
            if(ext_to1 == '0' && trip_no == '101' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('7:30 pm'); //Orlando - Super Tours Terminal     
            }
            
            if(ext_to1 == '11' && trip_no == '101' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('7:45 pm'); //Orlando - International Drive Area 
            }
            
        //Servicing ext_to1  101 
            
            if(ext_to1 == '12' && trip_no == '101' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('7:45 pm'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_to1  101 
            
            if(ext_to1 == '13' && trip_no == '101' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('8:00 pm'); //Walt Disney World Resorts
            }
            
        //*************  201  ***********************    
            
        //Servicing ext_to1  201 
         
            if(ext_to1 == '0' && trip_no == '201' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('11:00 pm'); //Orlando - Super Tours Terminal     
            }
            
            if(ext_to1 == '11' && trip_no == '201' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('11:15 pm'); //Orlando - International Drive Area     
            }
            
        //Servicing ext_to1  201 
            
            if(ext_to1 == '12' && trip_no == '201' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('11:15 pm'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_to1  201 
            
            if(ext_to1 == '13' && trip_no == '201' && (from == '8' || from == '9' || from == '10' || from == '12' || from == '11' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('11:30 pm'); //Walt Disney World Resorts
            }  
            
            
        //*************  301  ***********************    
            
        //Servicing ext_to1  301 
         
            if(ext_to1 == '0' && trip_no == '301' && (from == '14' || from == '12' || from == '10' || from == '9' || from == '8' || from == '7' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('10:00 am'); //Orlando - Super Tours Terminal     
            }
            
            if(ext_to1 == '11' && trip_no == '301' && (from == '14' || from == '12' || from == '10' || from == '9' || from == '8' || from == '7' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('10:20 am'); //Orlando - International Drive Area    
            }
            
        //Servicing ext_to1  301 
            
            if(ext_to1 == '12' && trip_no == '301' && (from == '14' || from == '12' || from == '10' || from == '9' || from == '8' || from == '7' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('10:20 am'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_to1  301 
            
            if(ext_to1 == '13' && trip_no == '301' && (from == '14' || from == '12' || from == '10' || from == '9' || from == '8' || from == '7' || from == '6' || from == '5' || from == '4' || from == '3') && to == '1'){                
                
                $("#arrival1").val('10:30 am'); //Walt Disney World Resorts
            }   
            
         }, 500); 
        
    }
    
</script>

<script type="text/javascript">

    function change_ext_to2()
    {
        
        var ext_to2 = document.getElementById('ext_to2').value;
        var trip_no2 = $("#trip_no2").val();
        var from2 = $("#from2").val();  
        var to2 = $("#to2").val();        
        
        
        setTimeout(function () { 
            
        //*************  101  ***********************    
        
        //Servicing ext_to2  101 
         
            if(ext_to2 == '0' && trip_no2 == '101' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('7:30 pm'); //Orlando - Super tours Terminal     
            }
            
            if(ext_to2 == '11' && trip_no2 == '101' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('7:45 pm'); //Orlando - International Drive Area 
            }
            
        //Servicing ext_to2  101 
            
            if(ext_to2 == '12' && trip_no2 == '101' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('7:45 pm'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_to2  101 
            
            if(ext_to2 == '13' && trip_no2 == '101' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('8:00 pm'); //Walt Disney World Resorts
            }
            
        //*************  201  ***********************    
            
        //Servicing ext_to2  201 
         
            if(ext_to2 == '0' && trip_no2 == '201' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('11:00 pm'); //Orlando - Super tours Terminal     
            }
            
            if(ext_to2 == '11' && trip_no2 == '201' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('11:15 pm'); //Orlando - International Drive Area    
            }
            
        //Servicing ext_to2  201 
            
            if(ext_to2 == '12' && trip_no2 == '201' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('11:15 pm'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_to22  201 
            
            if(ext_to2 == '13' && trip_no2 == '201' && (from2 == '8' || from2 == '9' || from2 == '10' || from2 == '12' || from2 == '11' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('11:30 pm'); //Walt Disney World Resorts
            }  
            
            
        //*************  301  ***********************    
            
        //Servicing ext_to2  301 
         
            if(ext_to2 == '0' && trip_no2 == '301' && (from2 == '14' || from2 == '12' || from2 == '10' || from2 == '9' || from2 == '8' || from2 == '7' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('10:00 am'); //Orlando - Super tours Terminal     
            }
            
            if(ext_to2 == '11' && trip_no2 == '301' && (from2 == '14' || from2 == '12' || from2 == '10' || from2 == '9' || from2 == '8' || from2 == '7' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('10:20 am'); //Orlando - International Drive Area      
            }
            
        //Servicing ext_to2  301 
            
            if(ext_to2 == '12' && trip_no2 == '301' && (from2 == '14' || from2 == '12' || from2 == '10' || from2 == '9' || from2 == '8' || from2 == '7' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('10:20 am'); //Universal Studios Orlando Resorts    
            }
            
        //Servicing ext_to2  301 
            
            if(ext_to2 == '13' && trip_no2 == '301' && (from2 == '14' || from2 == '12' || from2 == '10' || from2 == '9' || from2 == '8' || from2 == '7' || from2 == '6' || from2 == '5' || from2 == '4' || from2 == '3') && to2 == '1'){                
                
                $("#arrival2").val('10:30 am'); //Walt Disney World Resorts
            }   
            
         }, 500); 
        
    }
    
</script>



<script type="text/javascript">

    function changepickup1()
    {
        //var idpick = $("#id_p1").val();
        var trip_no = $("#trip_no").val();
        var pickup1 = document.getElementById('pickup1').value;        
        var idpick = document.getElementById('id_p1').value;       
        var from = $("#from").val();  
        var to = $("#to").val();    
        
        
        setTimeout(function () {
            
        var id_pick = $("#id_p1").val(); 
        
        //Servicing North Miami Beach  301  
            if(id_pick == '16' && trip_no == '301' && from == '7'){                
                
                $("#departure1").val('5:50 am'); //Newport Beachside Hotel       
            }
            if(id_pick == '7' && trip_no == '301' && from == '7'){                
                
                $("#departure1").val('6:00 am');//Ramada Plaza Marcopolo Beach 
            }
            if(id_pick == '' && trip_no == '301' && from == '7'){                
               
                $("#departure1").val('5:40 am');        
            } 
            
        //Servicing South Beach  101 
            
            if(id_pick == '465' && trip_no == '101' && from == '9'){                
                
                $("#departure1").val('2:45 pm'); //Chesterfield Hotel - Express   
            }
            
            if(id_pick == '449' && trip_no == '101' && from == '9'){                
                
                $("#departure1").val('2:40 pm'); //Sagamore Hotel - Express     
            }
            
            if(id_pick == '' && trip_no == '101' && from == '9'){                
                
                $("#departure1").val('2:40 pm'); //Sagamore Hotel - Express     
            }
            
            
            
        //Servicing South Beach  201 
            
            if(id_pick == '465' && trip_no == '201' && from == '9'){                
                
                $("#departure1").val('6:15 pm'); //Chesterfield Hotel - Express      
            }           
            
            if(id_pick == '449' && trip_no == '201' && from == '9'){                
                
                $("#departure1").val('6:10 pm'); //Sagamore Hotel - Express      
            }   
            
            if(id_pick == '' && trip_no == '201' && from == '9'){                
                
                $("#departure1").val('6:10 pm'); //Sagamore Hotel - Express      
            }           
            

        }, 800);  
        
       

        

    }


</script>

<script type="text/javascript">

    function changepickup2()
    {
        //var idpick = $("#id_p2").val();
        var trip_no2 = $("#trip_no2").val();
        var pickup2 = document.getElementById('pickup2').value;        
        var idpick2 = document.getElementById('id_pickup2').value;       
        var from2 = $("#from2").val();  
        var to2 = $("#to2").val();    
        
        
        
        
        setTimeout(function () {
            
        var id_pick2 = $("#id_pickup2").val(); 
        
        //Servicing North Miami Beach  301  
            if(id_pick2 == '16' && trip_no2 == '301' && from2 == '7'){                
                
                $("#departure2").val('5:50 am'); //Newport Beachside Hotel       
            }
            if(id_pick2 == '7' && trip_no2 == '301' && from2 == '7'){                
                
                $("#departure2").val('6:00 am');//Ramada Plaza Marcopolo Beach 
            }
            if(id_pick2 == '' && trip_no2 == '301' && from2 == '7'){                
               
                $("#departure2").val('5:40 am');        
            } 
            
        //Servicing South Beach  101 
            
            if(id_pick2 == '465' && trip_no2 == '101' && from2 == '9'){                
                
                $("#departure2").val('2:45 pm'); //Chesterfield Hotel - Express   
            }
            
            if(id_pick2 == '449' && trip_no2 == '101' && from2 == '9'){                
                
                $("#departure2").val('2:40 pm'); //Sagamore Hotel - Express     
            }
            
            if(id_pick2 == '' && trip_no2 == '101' && from2 == '9'){                
                
                $("#departure2").val('2:40 pm'); //Sagamore Hotel - Express     
            }
            
        //Servicing South Beach  201 
            
            if(id_pick2 == '465' && trip_no2 == '201' && from2 == '9'){                
                
                $("#departure2").val('6:15 pm'); //Chesterfield Hotel - Express      
            } 
            
            if(id_pick2 == '449' && trip_no2 == '201' && from2 == '9'){                
                
                $("#departure2").val('6:10 pm'); //Sagamore Hotel - Express     
            }  
            
            if(id_pick2 == '' && trip_no2 == '201' && from2 == '9'){                
                
                $("#departure2").val('6:10 pm'); //Sagamore Hotel - Express     
            }         
            

        }, 800);     

    }


</script>


<script type="text/javascript">

    function resetpickup1()
    {

        var pickup1 = document.getElementById('pickup1').value;
        var trip_no = $("#trip_no").val();    
        var idpick = document.getElementById('id_p1').value;        
        var from = $("#from").val();  
        var to = $("#to").val(); 
        
        //301 North Miami ----> Orlando
        
        if (pickup1 == "" && trip_no == '301' && from == '7') {
            
            setTimeout(function () {

                document.getElementById('id_p1').value = ''; 
                $("#departure1").val('05:40 am');
                
            }, 100); 

        } 
        
        //101 South Beach ----> Orlando
        
        if (pickup1 == "" && trip_no == '101' && from == '9') {
            
            setTimeout(function () {

                document.getElementById('id_p1').value = ''; 
                $("#departure1").val('2:40 pm');
                
            }, 100); 

        }  
        
        //201 South Beach ----> Orlando
        
        if (pickup1 == "" && trip_no == '201' && from == '9') {
            
            setTimeout(function () {

                document.getElementById('id_p1').value = ''; 
                $("#departure1").val('6:10 pm');
                
            }, 100); 

        }         
        
                
        
    }
        
</script>

<script type="text/javascript">

    function resetpickup2()
    {

        var pickup2 = document.getElementById('pickup2').value;
        var trip_no2 = $("#trip_no2").val();    
        var idpick2 = document.getElementById('id_pickup2').value;        
        var from2 = $("#from2").val();  
        var to2 = $("#to2").val(); 
        
        //301 North Miami ----> Orlando
        
        if (pickup2 == "" && trip_no2 == '301' && from2 == '7') {
            
            setTimeout(function () {

                document.getElementById('id_pickup2').value = ''; 
                $("#departure2").val('05:40 am');
                
            }, 100); 

        } 
        
        //101 South Beach ----> Orlando
        
        if (pickup2 == "" && trip_no2 == '101' && from2 == '9') {
            
            setTimeout(function () {

                document.getElementById('id_pickup2').value = ''; 
                $("#departure2").val('2:40 pm');
                
            }, 100); 

        }  
        
        //201 South Beach ----> Orlando
        
        if (pickup2 == "" && trip_no2 == '201' && from2 == '9') {
            
            setTimeout(function () {

                document.getElementById('id_pickup2').value = ''; 
                $("#departure2").val('6:10 pm');
                
            }, 100); 

        }         
        
                
        
    }
        
</script>





<script type="text/javascript">

    var rup
    
    function captura()
    {
        //var pc = "<?php echo $op_pago_conductor; ?>";
        
        var result = document.getElementsByName("op_pago_conductor")[0].value;
        

        rup = document.getElementById("result").innerHTML = " \ " + result; 
        
        // alert("rup : "+result);
        $("#selectcond").val(result);

    }
</script>

<script type="text/javascript">

      
    function selector()
    {
       
        //var pc = "<?php echo $op_pago_conductor; ?>";
        
        var pc = rup;
        //alert("pc : "+rup);
        if(pc == 8){        
            document.getElementById("op_pago_conductor").selectedIndex = 0;
        }else if(pc == 3){
            document.getElementById("op_pago_conductor").selectedIndex = 1; 
        }else if(pc == 4){
            document.getElementById("op_pago_conductor").selectedIndex = 2; 
        }else if(pc == 9){
            document.getElementById("op_pago_conductor").selectedIndex = 3;
        }else if(pc == 5){
            document.getElementById("op_pago_conductor").selectedIndex = 4;
        }else if(pc == 6){
            document.getElementById("op_pago_conductor").selectedIndex = 5;
        }else if(pc == 7){
            document.getElementById("op_pago_conductor").selectedIndex = 6;
        }


    }
    
</script>


<script type="text/javascript">

    function mostrarVentana2() {

        capturar();


        if (window.screen.availWidth <= 640) {

            window.parent.document.body.style.zoom = "62%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-0.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "0.6px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '174px';
        }

        if (window.screen.availWidth == 800) {

            window.parent.document.body.style.zoom = "78%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-0.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "0.6px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';
        }
        if (window.screen.availWidth == 960 && z == 1) {

            window.parent.document.body.style.zoom = "78%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-9px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-444.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';
        }

        if (window.screen.availWidth == 960 && z == 2) {

            window.parent.document.body.style.zoom = "78%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "221px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-444.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';
        }

        if (window.screen.availWidth == 1024 && z == 1) {

            window.parent.document.body.style.zoom = "100%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-9px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-444.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';


        }

        if (window.screen.availWidth == 1024 && z == 2) {

            window.parent.document.body.style.zoom = "100%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "221px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-444.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';


        }


        if (window.screen.availWidth == 1280 && z == 1) {

            window.parent.document.body.style.zoom = "100%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-9px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-321.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';


        }

        if (window.screen.availWidth == 1280 && z == 2) {

            window.parent.document.body.style.zoom = "100%";
            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "221px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-321.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';


        }



        if (window.screen.availWidth == 1366 && z == 1) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-9px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-277.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1366 && z == 2) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "222px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-277.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1440 && z == 1) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-1.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-240.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1440 && z == 2) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "229.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-240.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1600 && z == 1) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-15.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-240.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1600 && z == 2) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "215.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-240.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1680 && z == 1) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "-15.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-240.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }

        if (window.screen.availWidth == 1680 && z == 2) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  
//            ventana2.style.marginTop = "215.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-240.4px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }



        if (window.screen.availWidth > 1680 && z == 1) {


            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor  


//            ventana2.style.marginTop = "-2.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-190.4px"; // Definimos su posición horizontal
//            ventana2.style.top = "760px"; // Definimos su posición vertical.        
//            ventana2.style.left = "835px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';


        }

        if (window.screen.availWidth > 1680 && z == 2) {

            var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor   

//            ventana2.style.marginTop = "228.5px"; // Definimos su posición vertical.        
//            ventana2.style.marginLeft = "-190.4px"; // Definimos su posición horizontal

//            ventana2.style.top = "1094px"; // Definimos su posición vertical.        
//            ventana2.style.left = "834px"; // Definimos su posición horizontal
            ventana2.style.display = 'block'; // Y lo hacemos visible
            $('#vent1').hide();
//            ventana2.style.position = 'absolute';
            ventana2.style.height = '169px';

        }


        document.getElementById("btnExit").disabled = false;
        document.getElementById("btnExit").style.display = "";
        document.getElementById("btnExit").style.background = "#006394";
        document.getElementById("btnExit").style.cursor = 'pointer';        
        document.getElementById("btnExit").style.borderColor = "red";
        document.getElementById("btnExit").style.color = "#fff";
                
        document.getElementById("pago_driver").disabled = false;
        document.getElementById('pago_driver').value = '';
        document.getElementById('pago_driver').style.color = '#848484';
        document.getElementById('pago_driver').style.background = '#fff';
        $("#pago_driver").focus();

        document.getElementById('op_pago_id1').value = 0;
        //document.getElementById('op_pago_id').value = 8;
        document.getElementById('opcion_pago_2').value = 2;
        //document.getElementById('opcion_pago_3').value = 2;
        
        document.getElementById("btnPagolinea").style.display = "none";
        
        document.getElementById("btnAceptar").disabled = true;        
        document.getElementById("btnAceptar").style.background = "lightgray";
        document.getElementById('btnAceptar').style.background = '';
        document.getElementById('btnAceptar').style.color = '#000';
        document.getElementById('btnAceptar').style.cursor = '';


        //$('#pago_driver').val()='0.00';
    }

    
    
    function ocultarVentana2()
    {
        var ventana2 = document.getElementById('miVentana2'); // Accedemos al contenedor

        var opcion_pago = $('#opcion_pago_id').val();
        var pago_driver = $('#pago_driver').val();
        var collect = $('#collect').val();
        var prepaid = $('#prepaid').val();

        var opcion = $("#op_pago_id1").val();
        var no_prep =  document.getElementById('no_prep').value;
        var no_pago =  document.getElementById('no_pago').value;
        
        var pago_pre1 = document.getElementById('pago_pre1').value;
        var pago_pre2 = document.getElementById('pago_pre2').value;
        var pago_pre3 = document.getElementById('pago_pre3').value;
        var pago_pre4 = document.getElementById('pago_pre4').value;
        var pago_pre5 = document.getElementById('pago_pre5').value;
        var pago_pre6 = document.getElementById('pago_pre6').value;
        var pago_pre7 = document.getElementById('pago_pre7').value;
        var pago_pre8 = document.getElementById('pago_pre8').value;
        var pago_pre9 = document.getElementById('pago_pre9').value;
        var pago_pre10 = document.getElementById('pago_pre10').value;
        
        var tipo_pagopre1 = document.getElementById('tipo_pagopre1').value;
        var tipo_pagopre2 = document.getElementById('tipo_pagopre2').value;
        var tipo_pagopre3 = document.getElementById('tipo_pagopre3').value;
        var tipo_pagopre4 = document.getElementById('tipo_pagopre4').value;
        var tipo_pagopre5 = document.getElementById('tipo_pagopre5').value;
        var tipo_pagopre6 = document.getElementById('tipo_pagopre6').value;
        var tipo_pagopre7 = document.getElementById('tipo_pagopre7').value;
        var tipo_pagopre8 = document.getElementById('tipo_pagopre8').value;
        var tipo_pagopre9 = document.getElementById('tipo_pagopre9').value;
        var tipo_pagopre10 = document.getElementById('tipo_pagopre10').value;
        
        
        var pago1 = document.getElementById('pago1').value;
        var pago2 = document.getElementById('pago2').value;
        var pago3 = document.getElementById('pago3').value;
        var pago4 = document.getElementById('pago4').value;
        var pago5 = document.getElementById('pago5').value;
        var pago6 = document.getElementById('pago6').value;
        var pago7 = document.getElementById('pago7').value;
        var pago8 = document.getElementById('pago8').value;
        var pago9 = document.getElementById('pago9').value;
        var pago10 = document.getElementById('pago10').value;
        
        
        var tipo_pago1 = document.getElementById('tipo_pago1').value;
        var tipo_pago2 = document.getElementById('tipo_pago2').value;
        var tipo_pago3 = document.getElementById('tipo_pago3').value;
        var tipo_pago4 = document.getElementById('tipo_pago4').value;
        var tipo_pago5 = document.getElementById('tipo_pago5').value;
        var tipo_pago6 = document.getElementById('tipo_pago6').value;
        var tipo_pago7 = document.getElementById('tipo_pago7').value;
        var tipo_pago8 = document.getElementById('tipo_pago8').value;
        var tipo_pago9 = document.getElementById('tipo_pago9').value;
        var tipo_pago10 = document.getElementById('tipo_pago10').value;



        //AMOUNT PAID LABEL LIST
        if (opcion === '0') {
            $("#pago_driver").focus();
        }
        //PAID DRIVER LABEL LIST
        if (opcion === '1') {
            $("#pago_driver").focus();
        }

        //***********************************************PRED-PAID*************************************************************************//////
        //*********************************************************************************************************************************//////

        //CREDIT CARD NO FEE

        if (opcion === '20') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {

                document.getElementById('pay_amount').value = prepaid;
                document.getElementById('pred_paid_amountt').value = prepaid;
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {
                    //$('#pay_amount').click();
                    CalcularTotalTotal();
//                    document.getElementById('pay_amount').style.color = "#FFFFFF";
//                    document.getElementById('pay_amount').className = "flashit2";
                    
//                    document.getElementById('guardar').className = "flashit2";
                    document.getElementById('pay_amount').style.backgroundColor = "#E21F26";
                    //document.getElementById('pay_amount').title ="Pago sin Guardar"; 
                    document.getElementById('btn_rever_prepaid').style.display = "";
                    
                    //make_charge();
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var tit = "CREDIT CARD NO FEE"; 
                    var pagadopre1 = document.getElementById('pagadopre1').value;
                    var pagadopre2 = document.getElementById('pagadopre2').value;
                    var pagadopre3 = document.getElementById('pagadopre3').value;
                    var pagadopre4 = document.getElementById('pagadopre4').value;
                    var pagadopre5 = document.getElementById('pagadopre5').value;
                    var pagadopre6 = document.getElementById('pagadopre6').value;
                    var pagadopre7 = document.getElementById('pagadopre7').value;
                    var pagadopre8 = document.getElementById('pagadopre8').value;
                    var pagadopre9 = document.getElementById('pagadopre9').value;
                    var pagadopre10 = document.getElementById('pagadopre10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagadopre1;
                    var titulo2 = tit + "\n" + "$" + pagadopre2;
                    var titulo3 = tit + "\n" + "$" + pagadopre3;
                    var titulo4 = tit + "\n" + "$" + pagadopre4;
                    var titulo5 = tit + "\n" + "$" + pagadopre5;
                    var titulo6 = tit + "\n" + "$" + pagadopre6;
                    var titulo7 = tit + "\n" + "$" + pagadopre7;
                    var titulo8 = tit + "\n" + "$" + pagadopre8;
                    var titulo9 = tit + "\n" + "$" + pagadopre9;
                    var titulo10 = tit + "\n" + "$" + pagadopre10;
                    
                    if(pago_pre1 == 0){
                        document.getElementById('cir1').title = "";
                    }                    
                    if(pago_pre1 == 1 && tipo_pagopre1 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir1').title = titulo1;
                    }                    
                    if(pago_pre2 == 2 && tipo_pagopre2 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir2').title = titulo2;
                    }                   
                    if(pago_pre3 == 3 && tipo_pagopre3 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir3').title = titulo3;
                    }                    
                    if(pago_pre4 == 4 && tipo_pagopre4 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir4').title = titulo4;
                    }                    
                    if(pago_pre5 == 5 && tipo_pagopre5 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir5').title = titulo5;
                    }                    
                    if(pago_pre6 == 6 && tipo_pagopre6 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir6').title = titulo6;
                    }                    
                    if(pago_pre7 == 7 && tipo_pagopre7 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir7').title = titulo7;
                    }                    
                    if(pago_pre8 == 8 && tipo_pagopre8 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir8').title = titulo8;
                    }                    
                    if(pago_pre9 == 9 && tipo_pagopre9 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir9').title = titulo9;
                    }                    
                    if(pago_pre10 == 10 && tipo_pagopre10 == "CREDIT CARD NO FEE"){
                        document.getElementById('cir10').title = titulo10;
                    }                    
                    if(no_prep == 1){                                    
                            $("#estado_pre1").val("pagado_pre1"); 
                            document.getElementById('cir1').style.display = '';                
                    }else if(no_prep == 2){                        
                            $("#estado_pre2").val("pagado_pre2");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                    }else if(no_prep == 3){                        
                            $("#estado_pre3").val("pagado_pre3");    
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                    }else if(no_prep == 4){                        
                            $("#estado_pre4").val("pagado_pre4");  
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';                        
                    }else if(no_prep == 5){                        
                            $("#estado_pre5").val("pagado_pre5"); 
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                    }else if(no_prep == 6){                        
                            $("#estado_pre6").val("pagado_pre6");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                    }else if(no_prep == 7){                        
                            $("#estado_pre7").val("pagado_pre7");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';                    
                    }else if(no_prep == 8){                       
                            $("#estado_pre8").val("pagado_pre8");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                    }else if(no_prep == 9){                        
                            $("#estado_pre9").val("pagado_pre9");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                    }else if(no_prep == 10){                        
                            $("#estado_pre10").val("pagado_pre10");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                            document.getElementById('cir10').style.display = '';                        
                    }                   
                    

                }, 0.001);

                $("#pago_driver").focus();
                Exit();

            } else {
                // Do nothing!                
                declinar();                
                $("#pago_driver").focus();
                Exit();

            }

        }

        //CREDIT CARD WITH FEE
        if (opcion === '21') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {

                document.getElementById('pay_amount').value = prepaid;
                document.getElementById('pred_paid_amountt').value = prepaid;
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {
                    //$('#pay_amount').click();
                    CalcularTotalTotal();
//                    document.getElementById('pay_amount').style.color = "#FFFFFF";
//                    document.getElementById('pay_amount').className = "flashit2";
//                    document.getElementById('guardar').className = "flashit2";
                    document.getElementById('btn_rever_prepaid').style.display = "";
                    document.getElementById('pay_amount').style.backgroundColor = "#E21F26";
                    //document.getElementById('pay_amount').title ="Pago sin Guardar"; 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var tit = "CREDIT CARD WITH FEE"; 
                    var pagadopre1 = document.getElementById('pagadopre1').value;
                    var pagadopre2 = document.getElementById('pagadopre2').value;
                    var pagadopre3 = document.getElementById('pagadopre3').value;
                    var pagadopre4 = document.getElementById('pagadopre4').value;
                    var pagadopre5 = document.getElementById('pagadopre5').value;
                    var pagadopre6 = document.getElementById('pagadopre6').value;
                    var pagadopre7 = document.getElementById('pagadopre7').value;
                    var pagadopre8 = document.getElementById('pagadopre8').value;
                    var pagadopre9 = document.getElementById('pagadopre9').value;
                    var pagadopre10 = document.getElementById('pagadopre10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagadopre1;
                    var titulo2 = tit + "\n" + "$" + pagadopre2;
                    var titulo3 = tit + "\n" + "$" + pagadopre3;
                    var titulo4 = tit + "\n" + "$" + pagadopre4;
                    var titulo5 = tit + "\n" + "$" + pagadopre5;
                    var titulo6 = tit + "\n" + "$" + pagadopre6;
                    var titulo7 = tit + "\n" + "$" + pagadopre7;
                    var titulo8 = tit + "\n" + "$" + pagadopre8;
                    var titulo9 = tit + "\n" + "$" + pagadopre9;
                    var titulo10 = tit + "\n" + "$" + pagadopre10;
                    
                    if(pago_pre1 == 0){
                        document.getElementById('cir1').title ="";
                    }
                    
                    if(pago_pre1 == 1 && tipo_pagopre1 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir1').title = titulo1;
                    }
                    
                    if(pago_pre2 == 2 && tipo_pagopre2 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir2').title = titulo2;
                    }
                    
                    
                    if(pago_pre3 == 3 && tipo_pagopre3 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir3').title = titulo3;
                    }
                    
                    if(pago_pre4 == 4 && tipo_pagopre4 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir4').title = titulo4;
                    }
                    
                    if(pago_pre5 == 5 && tipo_pagopre5 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir5').title = titulo5;
                    }
                    
                    if(pago_pre6 == 6 && tipo_pagopre6 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir6').title = titulo6;
                    }
                    
                    if(pago_pre7 == 7 && tipo_pagopre7 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir7').title = titulo7;
                    }
                    
                    if(pago_pre8 == 8 && tipo_pagopre8 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir8').title = titulo8;
                    }
                    
                    if(pago_pre9 == 9 && tipo_pagopre9 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir9').title = titulo9;
                    }
                    
                    if(pago_pre10 == 10 && tipo_pagopre10 == "CREDIT CARD WITH FEE"){
                        document.getElementById('cir10').title = titulo10;
                    }
                    
                    if(no_prep == 1){
                                    
                            $("#estado_pre1").val("pagado_pre1"); 
                            document.getElementById('cir1').style.display = '';                            
                    
                    }else if(no_prep == 2){                        
                            $("#estado_pre2").val("pagado_pre2");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';                           

                    }else if(no_prep == 3){
                        
                            $("#estado_pre3").val("pagado_pre3");    
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';

                    }else if(no_prep == 4){
                        
                            $("#estado_pre4").val("pagado_pre4");  
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                        
                    }else if(no_prep == 5){
                        
                            $("#estado_pre5").val("pagado_pre5"); 
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';

                    }else if(no_prep == 6){
                        
                            $("#estado_pre6").val("pagado_pre6");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                        

                    }else if(no_prep == 7){
                        
                            $("#estado_pre7").val("pagado_pre7");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            
                        
                    }else if(no_prep == 8){                        
                        
                            $("#estado_pre8").val("pagado_pre8");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';

                    }else if(no_prep == 9){
                        
                            $("#estado_pre9").val("pagado_pre9");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                        

                    }else if(no_prep == 10){
                        
                            $("#estado_pre10").val("pagado_pre10");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                            document.getElementById('cir10').style.display = '';
                        
                    }                 
                    
                    //make_charge();                  
                    

                }, 0.001);

                $("#pago_driver").focus();


                Exit();


            } else {
                // Do nothing!
                declinar();                
                $("#pago_driver").focus();
                Exit();

            }

        }

        //CASH
        if (opcion === '22') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {

                document.getElementById('pay_amount').value = prepaid;
                document.getElementById('pred_paid_amountt').value = prepaid;
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {
                    //$('#pay_amount').click();
                    CalcularTotalTotal();
//                    document.getElementById('pay_amount').style.color = "#FFFFFF";
//                    document.getElementById('pay_amount').className = "flashit2";
//                    document.getElementById('guardar').className = "flashit2";

                    document.getElementById('btn_rever_prepaid').style.display = "";
                    document.getElementById('pay_amount').style.backgroundColor = "#E21F26";
                    document.getElementById('pay_amount').title ="Pago sin Guardar"; 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var tit = "CASH"; 
                    var pagadopre1 = document.getElementById('pagadopre1').value;
                    var pagadopre2 = document.getElementById('pagadopre2').value;
                    var pagadopre3 = document.getElementById('pagadopre3').value;
                    var pagadopre4 = document.getElementById('pagadopre4').value;
                    var pagadopre5 = document.getElementById('pagadopre5').value;
                    var pagadopre6 = document.getElementById('pagadopre6').value;
                    var pagadopre7 = document.getElementById('pagadopre7').value;
                    var pagadopre8 = document.getElementById('pagadopre8').value;
                    var pagadopre9 = document.getElementById('pagadopre9').value;
                    var pagadopre10 = document.getElementById('pagadopre10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagadopre1;
                    var titulo2 = tit + "\n" + "$" + pagadopre2;
                    var titulo3 = tit + "\n" + "$" + pagadopre3;
                    var titulo4 = tit + "\n" + "$" + pagadopre4;
                    var titulo5 = tit + "\n" + "$" + pagadopre5;
                    var titulo6 = tit + "\n" + "$" + pagadopre6;
                    var titulo7 = tit + "\n" + "$" + pagadopre7;
                    var titulo8 = tit + "\n" + "$" + pagadopre8;
                    var titulo9 = tit + "\n" + "$" + pagadopre9;
                    var titulo10 = tit + "\n" + "$" + pagadopre10;
                    
                    
                    if(pago_pre1 == 0){
                        document.getElementById('cir1').title ="";
                    }                    
                    if(pago_pre1 == 1 && tipo_pagopre1 == "CASH"){
                        document.getElementById('cir1').title = titulo1;
                    }                    
                    if(pago_pre2 == 2 && tipo_pagopre2 == "CASH"){
                        document.getElementById('cir2').title = titulo2;
                    }                 
                    if(pago_pre3 == 3 && tipo_pagopre3 == "CASH"){
                        document.getElementById('cir3').title = titulo3;
                    }                    
                    if(pago_pre4 == 4 && tipo_pagopre4 == "CASH"){
                        document.getElementById('cir4').title = titulo4;
                    }                    
                    if(pago_pre5 == 5 && tipo_pagopre5 == "CASH"){
                        document.getElementById('cir5').title = titulo5;
                    }                    
                    if(pago_pre6 == 6 && tipo_pagopre6 == "CASH"){
                        document.getElementById('cir6').title = titulo6;
                    }                    
                    if(pago_pre7 == 7 && tipo_pagopre7 == "CASH"){
                        document.getElementById('cir7').title = titulo7;
                    }                    
                    if(pago_pre8 == 8 && tipo_pagopre8 == "CASH"){
                        document.getElementById('cir8').title = titulo8;
                    }                    
                    if(pago_pre9 == 9 && tipo_pagopre9 == "CASH"){
                        document.getElementById('cir9').title = titulo9;
                    }                    
                    if(pago_pre10 == 10 && tipo_pagopre10 == "CASH"){
                        document.getElementById('cir10').title = titulo10;
                    }                    
                    if(no_prep == 1){                                    
                            $("#estado_pre1").val("pagado_pre1"); 
                            document.getElementById('cir1').style.display = '';                
                    }else if(no_prep == 2){                        
                            $("#estado_pre2").val("pagado_pre2");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';     

                    }else if(no_prep == 3){
                        
                            $("#estado_pre3").val("pagado_pre3");    
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';

                    }else if(no_prep == 4){
                        
                            $("#estado_pre4").val("pagado_pre4");  
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                        
                    }else if(no_prep == 5){
                        
                            $("#estado_pre5").val("pagado_pre5"); 
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';

                    }else if(no_prep == 6){
                        
                            $("#estado_pre6").val("pagado_pre6");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                        

                    }else if(no_prep == 7){
                        
                            $("#estado_pre7").val("pagado_pre7");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            
                        
                    }else if(no_prep == 8){                        
                        
                            $("#estado_pre8").val("pagado_pre8");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';

                    }else if(no_prep == 9){
                        
                            $("#estado_pre9").val("pagado_pre9");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                        

                    }else if(no_prep == 10){
                        
                            $("#estado_pre10").val("pagado_pre10");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                            document.getElementById('cir10').style.display = '';                        
                    }                  
                   

                }, 0.001);


                Exit();

            } else {
                // Do nothing!                
                declinar();                
                $("#pago_driver").focus();
                Exit();

            }

        }

        //CHECK
        if (opcion === '23') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {


                document.getElementById('pay_amount').value = prepaid;
                document.getElementById('pred_paid_amountt').value = prepaid;
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {
                    //$('#pay_amount').click();
                    CalcularTotalTotal();
//                    document.getElementById('pay_amount').style.color = "#0000FF";

//                    document.getElementById('pay_amount').style.color = "#FFFFFF";
//                    document.getElementById('pay_amount').className = "flashit2";
                    
                    
//                    document.getElementById('guardar').className = "flashit2";
                    document.getElementById('btn_rever_prepaid').style.display = "";
                    document.getElementById('pay_amount').style.backgroundColor = "#E21F26";
                    //document.getElementById('pay_amount').title ="Pago sin Guardar"; 
                    
                    document.getElementById("btndecline").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var tit = "CHECK"; 
                    var pagadopre1 = document.getElementById('pagadopre1').value;
                    var pagadopre2 = document.getElementById('pagadopre2').value;
                    var pagadopre3 = document.getElementById('pagadopre3').value;
                    var pagadopre4 = document.getElementById('pagadopre4').value;
                    var pagadopre5 = document.getElementById('pagadopre5').value;
                    var pagadopre6 = document.getElementById('pagadopre6').value;
                    var pagadopre7 = document.getElementById('pagadopre7').value;
                    var pagadopre8 = document.getElementById('pagadopre8').value;
                    var pagadopre9 = document.getElementById('pagadopre9').value;
                    var pagadopre10 = document.getElementById('pagadopre10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagadopre1;
                    var titulo2 = tit + "\n" + "$" + pagadopre2;
                    var titulo3 = tit + "\n" + "$" + pagadopre3;
                    var titulo4 = tit + "\n" + "$" + pagadopre4;
                    var titulo5 = tit + "\n" + "$" + pagadopre5;
                    var titulo6 = tit + "\n" + "$" + pagadopre6;
                    var titulo7 = tit + "\n" + "$" + pagadopre7;
                    var titulo8 = tit + "\n" + "$" + pagadopre8;
                    var titulo9 = tit + "\n" + "$" + pagadopre9;
                    var titulo10 = tit + "\n" + "$" + pagadopre10;                   
                    
                    
                    if(pago_pre1 == 0){
                        document.getElementById('cir1').title ="";
                    }
                    
                    if(pago_pre1 == 1 && tipo_pagopre1 == "CHECK"){
                        document.getElementById('cir1').title = titulo1;
                    }
                    
                    if(pago_pre2 == 2 && tipo_pagopre2 == "CHECK"){
                        document.getElementById('cir2').title = titulo2;
                    }
                    
                    
                    if(pago_pre3 == 3 && tipo_pagopre3 == "CHECK"){
                        document.getElementById('cir3').title = titulo3;
                    }
                    
                    if(pago_pre4 == 4 && tipo_pagopre4 == "CHECK"){
                        document.getElementById('cir4').title = titulo4;
                    }
                    
                    if(pago_pre5 == 5 && tipo_pagopre5 == "CHECK"){
                        document.getElementById('cir5').title = titulo5;
                    }
                    
                    if(pago_pre6 == 6 && tipo_pagopre6 == "CHECK"){
                        document.getElementById('cir6').title = titulo6;
                    }
                    
                    if(pago_pre7 == 7 && tipo_pagopre7 == "CHECK"){
                        document.getElementById('cir7').title = titulo7;
                    }
                    
                    if(pago_pre8 == 8 && tipo_pagopre8 == "CHECK"){
                        document.getElementById('cir8').title = titulo8;
                    }
                    
                    if(pago_pre9 == 9 && tipo_pagopre9 == "CHECK"){
                        document.getElementById('cir9').title = titulo9;
                    }
                    
                    if(pago_pre10 == 10 && tipo_pagopre10 == "CHECK"){
                        document.getElementById('cir10').title = titulo10;
                    }
                    
                    if(no_prep == 1){                                    
                            $("#estado_pre1").val("pagado_pre1"); 
                            document.getElementById('cir1').style.display = '';
                            
                    
                    }else if(no_prep == 2){
                        
                            $("#estado_pre2").val("pagado_pre2");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            

                    }else if(no_prep == 3){
                        
                            $("#estado_pre3").val("pagado_pre3");    
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';

                    }else if(no_prep == 4){
                        
                            $("#estado_pre4").val("pagado_pre4");  
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                        
                    }else if(no_prep == 5){
                        
                            $("#estado_pre5").val("pagado_pre5"); 
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';

                    }else if(no_prep == 6){
                        
                            $("#estado_pre6").val("pagado_pre6");   
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                        

                    }else if(no_prep == 7){
                        
                            $("#estado_pre7").val("pagado_pre7");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            
                        
                    }else if(no_prep == 8){                        
                        
                            $("#estado_pre8").val("pagado_pre8");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';

                    }else if(no_prep == 9){
                        
                            $("#estado_pre9").val("pagado_pre9");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                        

                    }else if(no_prep == 10){
                        
                            $("#estado_pre10").val("pagado_pre10");
                            document.getElementById('cir1').style.display = '';
                            document.getElementById('cir2').style.display = '';
                            document.getElementById('cir3').style.display = '';
                            document.getElementById('cir4').style.display = '';
                            document.getElementById('cir5').style.display = '';
                            document.getElementById('cir6').style.display = '';
                            document.getElementById('cir7').style.display = '';
                            document.getElementById('cir8').style.display = '';
                            document.getElementById('cir9').style.display = '';
                            document.getElementById('cir10').style.display = '';
                        
                    }

                    

                }, 0.001);

                $("#pago_driver").focus();


                Exit();

            } else {
                // Do nothing!
                
                // Do nothing!                
                declinar();                
                $("#pago_driver").focus();
                Exit();
            }

        }

        //*********************************************************COLLECT ON BOARD*************************************************************//////
        //CREDIT CARD NO FEE

        if (opcion === '24') {
            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {
                
                document.getElementById('paid_driver').value = collect;
                document.getElementById('paid_drivert').value = collect;
                
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());

                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));
                
                setTimeout(function () {
                    //$('#paid_driver').click();
                    CalcularTotalTotal();
//                  document.getElementById('paid_driver').style.color = "#FFFFFF";
//                  document.getElementById('paid_driver').className = "flashit";                   
//                  document.getElementById('guardar').className = "flashit";
                    document.getElementById('btn_rever_cob').style.display = "";
                    document.getElementById('paid_driver').style.backgroundColor = "#E21F26";
                    //document.getElementById('paid_driver').title ="Pago sin Guardar"; 
                    
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var pago_1 = document.getElementById('pago_1').value;
                    var pago_2 = document.getElementById('pago_2').value;
                    var pago_3 = document.getElementById('pago_3').value;
                    var pago_4 = document.getElementById('pago_4').value;
                    var pago_5 = document.getElementById('pago_5').value;
                    var pago_6 = document.getElementById('pago_6').value;
                    var pago_7 = document.getElementById('pago_7').value;
                    var pago_8 = document.getElementById('pago_8').value;
                    var pago_9 = document.getElementById('pago_9').value;
                    var pago_10 = document.getElementById('pago_10').value;
                    
                    var tit = "CREDIT CARD NO FEE"; 
                    var pagado1 = document.getElementById('pagado1').value;
                    var pagado2 = document.getElementById('pagado2').value;
                    var pagado3 = document.getElementById('pagado3').value;
                    var pagado4 = document.getElementById('pagado4').value;
                    var pagado5 = document.getElementById('pagado5').value;
                    var pagado6 = document.getElementById('pagado6').value;
                    var pagado7 = document.getElementById('pagado7').value;
                    var pagado8 = document.getElementById('pagado8').value;
                    var pagado9 = document.getElementById('pagado9').value;
                    var pagado10 = document.getElementById('pagado10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagado1;
                    var titulo2 = tit + "\n" + "$" + pagado2;
                    var titulo3 = tit + "\n" + "$" + pagado3;
                    var titulo4 = tit + "\n" + "$" + pagado4;
                    var titulo5 = tit + "\n" + "$" + pagado5;
                    var titulo6 = tit + "\n" + "$" + pagado6;
                    var titulo7 = tit + "\n" + "$" + pagado7;
                    var titulo8 = tit + "\n" + "$" + pagado8;
                    var titulo9 = tit + "\n" + "$" + pagado9;
                    var titulo10 = tit + "\n" + "$" + pagado10;
                    
                    if(pago_1 == 0){
                        document.getElementById('trian1').title = "";
                    }                    
                    if(pago_1 == 1 && tipo_pago1 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian1').title = titulo1;
                    }                    
                    if(pago_2 == 2 && tipo_pago2 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian2').title = titulo2;
                    }                    
                    if(pago_3 == 3 && tipo_pago3 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian3').title = titulo3;
                    }                    
                    if(pago_4 == 4 && tipo_pago4 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian4').title = titulo4;
                    }                    
                    if(pago_5 == 5 && tipo_pago5 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian5').title = titulo5;
                    }                    
                    if(pago_6 == 6 && tipo_pago6 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian6').title = titulo6;
                    }                    
                    if(pago_7 == 7 && tipo_pago7 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian7').title = titulo7;
                    }                    
                    if(pago_8 == 8 && tipo_pago8 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian8').title = titulo8;
                    }                    
                    if(pago_9 == 9 && tipo_pago9 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian9').title = titulo9;
                    }                    
                    if(pago_10 == 10 && tipo_pago10 == "CREDIT CARD NO FEE"){
                        document.getElementById('trian10').title = titulo10;
                    }                    
                    
                    if(no_pago == 1){                          
                            $("#estado_cob1").val("pagado_cob1");
                            document.getElementById('trian1').style.display = '';                    
                    }else if(no_pago == 2){                            
                            $("#estado_cob2").val("pagado_cob2");  
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';                       
                    }else if(no_pago == 3){                        
                            $("#estado_cob3").val("pagado_cob3");
                             document.getElementById('trian1').style.display = '';
                             document.getElementById('trian2').style.display = '';
                             document.getElementById('trian3').style.display = '';
                    }else if(no_pago == 4){                        
                            $("#estado_cob4").val("pagado_cob4");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                    }else if(no_pago == 5){                        
                            $("#estado_cob5").val("pagado_cob5");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                    }else if(no_pago == 6){                        
                            $("#estado_cob6").val("pagado_cob6");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                    }else if(no_pago == 7){                        
                            $("#estado_cob7").val("pagado_cob7");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';                     
                    }else if(no_pago == 8){                        
                            $("#estado_cob8").val("pagado_cob8");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                    }else if(no_pago == 9){                        
                            $("#estado_cob9").val("pagado_cob9");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                    }else if(no_pago == 10){                        
                            $("#estado_cob10").val("pagado_cob10");    
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                            document.getElementById('trian10').style.display = '';                       
                    }
                    

                }, 0.001);

                $("#pago_driver").focus();
                
                Exit();
                // Save it!
            } else {
                // Do nothing!
                Exit_Cob();                
                $("#pago_driver").focus();
                Exit();
            }

        }

        //CREDIT CARD WITH FEE
        if (opcion === '25') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {

                var otheramount = document.getElementById('otheramount').value;
                var pd = document.getElementById('paid_driver').value;

                document.getElementById('paid_driver').value = collect;
                document.getElementById('paid_drivert').value = collect;
                
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {

                    //$('#paid_driver').click();
                    CalcularTotalTotal();
//                    document.getElementById('paid_driver').style.color = "#FFFFFF";
//                    document.getElementById('paid_driver').className = "flashit";
                    
                    document.getElementById('btn_rever_cob').style.display = "";
//                    document.getElementById('guardar').className = "flashit";
                    document.getElementById('paid_driver').style.backgroundColor = "#E21F26";
                    //document.getElementById('paid_driver').title ="Pago sin Guardar"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var pago_1 = document.getElementById('pago_1').value;
                    var pago_2 = document.getElementById('pago_2').value;
                    var pago_3 = document.getElementById('pago_3').value;
                    var pago_4 = document.getElementById('pago_4').value;
                    var pago_5 = document.getElementById('pago_5').value;
                    var pago_6 = document.getElementById('pago_6').value;
                    var pago_7 = document.getElementById('pago_7').value;
                    var pago_8 = document.getElementById('pago_8').value;
                    var pago_9 = document.getElementById('pago_9').value;
                    var pago_10 = document.getElementById('pago_10').value;
                    
                    var tit = "CREDIT CARD WITH FEE"; 
                    var pagado1 = document.getElementById('pagado1').value;
                    var pagado2 = document.getElementById('pagado2').value;
                    var pagado3 = document.getElementById('pagado3').value;
                    var pagado4 = document.getElementById('pagado4').value;
                    var pagado5 = document.getElementById('pagado5').value;
                    var pagado6 = document.getElementById('pagado6').value;
                    var pagado7 = document.getElementById('pagado7').value;
                    var pagado8 = document.getElementById('pagado8').value;
                    var pagado9 = document.getElementById('pagado9').value;
                    var pagado10 = document.getElementById('pagado10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagado1;
                    var titulo2 = tit + "\n" + "$" + pagado2;
                    var titulo3 = tit + "\n" + "$" + pagado3;
                    var titulo4 = tit + "\n" + "$" + pagado4;
                    var titulo5 = tit + "\n" + "$" + pagado5;
                    var titulo6 = tit + "\n" + "$" + pagado6;
                    var titulo7 = tit + "\n" + "$" + pagado7;
                    var titulo8 = tit + "\n" + "$" + pagado8;
                    var titulo9 = tit + "\n" + "$" + pagado9;
                    var titulo10 = tit + "\n" + "$" + pagado10;
                    
                    if(pago_1 == 0){
                        document.getElementById('trian1').title = "";
                    }
                    
                    if(pago_1 == 1 && tipo_pago1 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian1').title = titulo1;
                    }
                    
                    if(pago_2 == 2 && tipo_pago2 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian2').title = titulo2;
                    }
                    
                    
                    if(pago_3 == 3 && tipo_pago3 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian3').title = titulo3;
                    }
                    
                    if(pago_4 == 4 && tipo_pago4 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian4').title = titulo4;
                    }
                    
                    if(pago_5 == 5 && tipo_pago5 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian5').title = titulo5;
                    }
                    
                    if(pago_6 == 6 && tipo_pago6 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian6').title = titulo6;
                    }
                    
                    if(pago_7 == 7 && tipo_pago7 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian7').title = titulo7;
                    }
                    
                    if(pago_8 == 8 && tipo_pago8 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian8').title = titulo8;
                    }
                    
                    if(pago_9 == 9 && tipo_pago9 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian9').title = titulo9;
                    }
                    
                    if(pago_10 == 10 && tipo_pago10 == "CREDIT CARD WITH FEE"){
                        document.getElementById('trian10').title = titulo10;
                    }
                    
					
                    if(no_pago == 1){
                          
                            $("#estado_cob1").val("pagado_cob1");
                            document.getElementById('trian1').style.display = '';
                    
                    }else if(no_pago == 2){
                            
                            $("#estado_cob2").val("pagado_cob2");  
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
          
                       
                    }else if(no_pago == 3){
                        
                            $("#estado_cob3").val("pagado_cob3");
                             document.getElementById('trian1').style.display = '';
                             document.getElementById('trian2').style.display = '';
                             document.getElementById('trian3').style.display = '';
                             
                        

                    }else if(no_pago == 4){
                        
                            $("#estado_cob4").val("pagado_cob4");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                        

                    }else if(no_pago == 5){
                        
                            $("#estado_cob5").val("pagado_cob5");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                        

                    }else if(no_pago == 6){
                        
                            $("#estado_cob6").val("pagado_cob6");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            
                        

                    }else if(no_pago == 7){
                        
                            $("#estado_cob7").val("pagado_cob7");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                        
                        
                    }else if(no_pago == 8){
                        
                            $("#estado_cob8").val("pagado_cob8");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                        

                    }else if(no_pago == 9){
                        
                            $("#estado_cob9").val("pagado_cob9");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                        

                    }else if(no_pago == 10){
                        
                            $("#estado_cob10").val("pagado_cob10");    
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                            document.getElementById('trian10').style.display = '';
                        
                    }
                    
                    
                }, 0.001);

                $("#pago_driver").focus();
          
                Exit();

            } else {
                // Do nothing!                
                Exit_Cob();
                $("#pago_driver").focus();
                Exit();

            }



        }

        //CASH
        if (opcion === '26') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {

                document.getElementById('paid_driver').value = collect;
                document.getElementById('paid_drivert').value = collect;
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {
                    //$('#paid_driver').click();
                    CalcularTotalTotal();
//                    document.getElementById('paid_driver').style.color = "#FFFFFF";
//                    document.getElementById('paid_driver').className = "flashit";
                  
//                    document.getElementById('guardar').className = "flashit";

                    document.getElementById('btn_rever_cob').style.display = "";
                    document.getElementById('paid_driver').style.backgroundColor = "#FF0000";
                    //document.getElementById('paid_driver').title ="Pago sin Guardar";
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var pago_1 = document.getElementById('pago_1').value;
                    var pago_2 = document.getElementById('pago_2').value;
                    var pago_3 = document.getElementById('pago_3').value;
                    var pago_4 = document.getElementById('pago_4').value;
                    var pago_5 = document.getElementById('pago_5').value;
                    var pago_6 = document.getElementById('pago_6').value;
                    var pago_7 = document.getElementById('pago_7').value;
                    var pago_8 = document.getElementById('pago_8').value;
                    var pago_9 = document.getElementById('pago_9').value;
                    var pago_10 = document.getElementById('pago_10').value;


                    
                    var tit = "CASH"; 
                    var pagado1 = document.getElementById('pagado1').value;
                    var pagado2 = document.getElementById('pagado2').value;
                    var pagado3 = document.getElementById('pagado3').value;
                    var pagado4 = document.getElementById('pagado4').value;
                    var pagado5 = document.getElementById('pagado5').value;
                    var pagado6 = document.getElementById('pagado6').value;
                    var pagado7 = document.getElementById('pagado7').value;
                    var pagado8 = document.getElementById('pagado8').value;
                    var pagado9 = document.getElementById('pagado9').value;
                    var pagado10 = document.getElementById('pagado10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagado1;
                    var titulo2 = tit + "\n" + "$" + pagado2;
                    var titulo3 = tit + "\n" + "$" + pagado3;
                    var titulo4 = tit + "\n" + "$" + pagado4;
                    var titulo5 = tit + "\n" + "$" + pagado5;
                    var titulo6 = tit + "\n" + "$" + pagado6;
                    var titulo7 = tit + "\n" + "$" + pagado7;
                    var titulo8 = tit + "\n" + "$" + pagado8;
                    var titulo9 = tit + "\n" + "$" + pagado9;
                    var titulo10 = tit + "\n" + "$" + pagado10;
                    
                    if(pago_1 == 0){
                        document.getElementById('trian1').title = "";
                    }
                    
                    if(pago_1 == 1 && tipo_pago1 == "CASH"){
                        document.getElementById('trian1').title = titulo1;
                    }
                    
                    if(pago_2 == 2 && tipo_pago2 == "CASH"){
                        document.getElementById('trian2').title = titulo2;
                    }
                    
                    
                    if(pago_3 == 3 && tipo_pago3 == "CASH"){
                        document.getElementById('trian3').title = titulo3;
                    }
                    
                    if(pago_4 == 4 && tipo_pago4 == "CASH"){
                        document.getElementById('trian4').title = titulo4;
                    }
                    
                    if(pago_5 == 5 && tipo_pago5 == "CASH"){
                        document.getElementById('trian5').title = titulo5;
                    }
                    
                    if(pago_6 == 6 && tipo_pago6 == "CASH"){
                        document.getElementById('trian6').title = titulo6;
                    }
                    
                    if(pago_7 == 7 && tipo_pago7 == "CASH"){
                        document.getElementById('trian7').title = titulo7;
                    }
                    
                    if(pago_8 == 8 && tipo_pago8 == "CASH"){
                        document.getElementById('trian8').title = titulo8;
                    }
                    
                    if(pago_9 == 9 && tipo_pago9 == "CASH"){
                        document.getElementById('trian9').title = titulo9;
                    }
                    
                    if(pago_10 == 10 && tipo_pago10 == "CASH"){
                        document.getElementById('trian10').title = titulo10;
                    }
                    
					
                    if(no_pago == 1){
                          
                            $("#estado_cob1").val("pagado_cob1");
                            document.getElementById('trian1').style.display = '';
                    
                    }else if(no_pago == 2){
                            
                            $("#estado_cob2").val("pagado_cob2");  
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
          
                       
                    }else if(no_pago == 3){
                        
                            $("#estado_cob3").val("pagado_cob3");
                             document.getElementById('trian1').style.display = '';
                             document.getElementById('trian2').style.display = '';
                             document.getElementById('trian3').style.display = '';
                             
                        

                    }else if(no_pago == 4){
                        
                            $("#estado_cob4").val("pagado_cob4");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                        

                    }else if(no_pago == 5){
                        
                            $("#estado_cob5").val("pagado_cob5");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                        

                    }else if(no_pago == 6){
                        
                            $("#estado_cob6").val("pagado_cob6");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            
                        

                    }else if(no_pago == 7){
                        
                            $("#estado_cob7").val("pagado_cob7");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                        
                        
                    }else if(no_pago == 8){
                        
                            $("#estado_cob8").val("pagado_cob8");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                        

                    }else if(no_pago == 9){
                        
                            $("#estado_cob9").val("pagado_cob9");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                        

                    }else if(no_pago == 10){
                        
                            $("#estado_cob10").val("pagado_cob10");    
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                            document.getElementById('trian10').style.display = '';
                        
                    }		

                    

                }, 0.001);
                $("#pago_driver").focus();
                Exit();

            } else {
                // Do nothing!
                Exit_Cob();
                $("#pago_driver").focus();
                Exit();
                
            }


        }

        //CHECK
        if (opcion === '27') {

            if (confirm('Esta Seguro que desea Aplicar este Pago?')) {

                document.getElementById('paid_driver').value = collect;
                document.getElementById('paid_drivert').value = collect;
//                document.getElementById('pay_amount').value = pago_driver;
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

                setTimeout(function () {
                    //$('#paid_driver').click();
                    CalcularTotalTotal();                    
//                    document.getElementById('paid_driver').style.color = "#FFFFFF";
//                    document.getElementById('paid_driver').className = "flashit";              
//                    document.getElementById('guardar').className = "flashit";

                    document.getElementById('btn_rever_cob').style.display = "";
                    document.getElementById('paid_driver').style.backgroundColor = "#FF0000";
                    //document.getElementById('paid_driver').title ="Pago sin Guardar"; 
                    document.getElementById("btncancol").style.display = "none"; 
                    document.getElementById("btnAceptar").disabled = true;
                    document.getElementById("btnAceptar").style.background = "lightgray";
                    
                    var pago_1 = document.getElementById('pago_1').value;
                    var pago_2 = document.getElementById('pago_2').value;
                    var pago_3 = document.getElementById('pago_3').value;
                    var pago_4 = document.getElementById('pago_4').value;
                    var pago_5 = document.getElementById('pago_5').value;
                    var pago_6 = document.getElementById('pago_6').value;
                    var pago_7 = document.getElementById('pago_7').value;
                    var pago_8 = document.getElementById('pago_8').value;
                    var pago_9 = document.getElementById('pago_9').value;
                    var pago_10 = document.getElementById('pago_10').value;

                    
                    var tit = "CHECK"; 
                    var pagado1 = document.getElementById('pagado1').value;
                    var pagado2 = document.getElementById('pagado2').value;
                    var pagado3 = document.getElementById('pagado3').value;
                    var pagado4 = document.getElementById('pagado4').value;
                    var pagado5 = document.getElementById('pagado5').value;
                    var pagado6 = document.getElementById('pagado6').value;
                    var pagado7 = document.getElementById('pagado7').value;
                    var pagado8 = document.getElementById('pagado8').value;
                    var pagado9 = document.getElementById('pagado9').value;
                    var pagado10 = document.getElementById('pagado10').value;
                    
                    var titulo1 = tit + "\n" + "$" + pagado1;
                    var titulo2 = tit + "\n" + "$" + pagado2;
                    var titulo3 = tit + "\n" + "$" + pagado3;
                    var titulo4 = tit + "\n" + "$" + pagado4;
                    var titulo5 = tit + "\n" + "$" + pagado5;
                    var titulo6 = tit + "\n" + "$" + pagado6;
                    var titulo7 = tit + "\n" + "$" + pagado7;
                    var titulo8 = tit + "\n" + "$" + pagado8;
                    var titulo9 = tit + "\n" + "$" + pagado9;
                    var titulo10 = tit + "\n" + "$" + pagado10;
                    
                    if(pago_1 == 0){
                        document.getElementById('trian1').title = "";
                    }
                    
                    if(pago_1 == 1 && tipo_pago1 == "CHECK"){
                        document.getElementById('trian1').title = titulo1;
                    }
                    
                    if(pago_2 == 2 && tipo_pago2 == "CHECK"){
                        document.getElementById('trian2').title = titulo2;
                    }
                    
                    
                    if(pago_3 == 3 && tipo_pago3 == "CHECK"){
                        document.getElementById('trian3').title = titulo3;
                    }
                    
                    if(pago_4 == 4 && tipo_pago4 == "CHECK"){
                        document.getElementById('trian4').title = titulo4;
                    }
                    
                    if(pago_5 == 5 && tipo_pago5 == "CHECK"){
                        document.getElementById('trian5').title = titulo5;
                    }
                    
                    if(pago_6 == 6 && tipo_pago6 == "CHECK"){
                        document.getElementById('trian6').title = titulo6;
                    }
                    
                    if(pago_7 == 7 && tipo_pago7 == "CHECK"){
                        document.getElementById('trian7').title = titulo7;
                    }
                    
                    if(pago_8 == 8 && tipo_pago8 == "CHECK"){
                        document.getElementById('trian8').title = titulo8;
                    }
                    
                    if(pago_9 == 9 && tipo_pago9 == "CHECK"){
                        document.getElementById('trian9').title = titulo9;
                    }
                    
                    if(pago_10 == 10 && tipo_pago10 == "CHECK"){
                        document.getElementById('trian10').title = titulo10;
                    }                   
					
                    if(no_pago == 1){                          
                            $("#estado_cob1").val("pagado_cob1");
                            document.getElementById('trian1').style.display = '';                    
                    }else if(no_pago == 2){                            
                            $("#estado_cob2").val("pagado_cob2");  
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';          
                       
                    }else if(no_pago == 3){                        
                            $("#estado_cob3").val("pagado_cob3");
                             document.getElementById('trian1').style.display = '';
                             document.getElementById('trian2').style.display = '';
                             document.getElementById('trian3').style.display = '';                  

                    }else if(no_pago == 4){
                        
                            $("#estado_cob4").val("pagado_cob4");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                        

                    }else if(no_pago == 5){
                        
                            $("#estado_cob5").val("pagado_cob5");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                        

                    }else if(no_pago == 6){
                        
                            $("#estado_cob6").val("pagado_cob6");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            
                        

                    }else if(no_pago == 7){
                        
                            $("#estado_cob7").val("pagado_cob7");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                        
                        
                    }else if(no_pago == 8){
                        
                            $("#estado_cob8").val("pagado_cob8");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                        

                    }else if(no_pago == 9){
                        
                            $("#estado_cob9").val("pagado_cob9");
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                        

                    }else if(no_pago == 10){
                        
                            $("#estado_cob10").val("pagado_cob10");    
                            document.getElementById('trian1').style.display = '';
                            document.getElementById('trian2').style.display = '';
                            document.getElementById('trian3').style.display = '';
                            document.getElementById('trian4').style.display = '';
                            document.getElementById('trian5').style.display = '';
                            document.getElementById('trian6').style.display = '';
                            document.getElementById('trian7').style.display = '';
                            document.getElementById('trian8').style.display = '';
                            document.getElementById('trian9').style.display = '';
                            document.getElementById('trian10').style.display = '';
                        
                    }
                    

                }, 0.001);

                $("#pago_driver").focus();

                Exit();

            } else {
                // Do nothing!                
                Exit_Cob();
                $("#pago_driver").focus();
                Exit();
                
            }

        }
        

    }
</script>



<script type="text/javascript">
    
    var bPreguntar = true;

    //window.onbeforeunload = preguntarAntesDeSalir;

    function preguntarAntesDeSalir()
    {
        if (bPreguntar === true){
            $("#puestosEnUso").load("<?php echo $data['rootUrl']; ?>admin/reservas/ocuparPuestoUsuario/4");
            return "Salir de la ventana o actualizarla, generara un nuevo codigo de reserva."; 
        }
            
    }    

    
</script>


<script type="text/javascript">
    
    
    
    $("#btnPagolinea").click(function () {

        document.getElementById('btnPagolinea').style.display = 'none';
        document.getElementById("btndecline").disabled = false;
        document.getElementById("btndecline").style.display = "";
        document.getElementById("btndecline").style.cursor = 'pointer';
        
        var paid_driver = $("#paid_driver").val();
        var pay_amount = $("#pay_amount").val();
        var cantidad = parseFloat(paid_driver) + parseFloat(pay_amount);

        //var cantidad = $("#pay_amount").val();
        var cantidad = $("#pago_tarjeta").val();

        if (cantidad <= 0) {
            return false;
        }
        var email1 = $("#email1").val();
        var primer_n = $("#firstname1").val();
        var segundo_n = $("#lastname1").val();
        var phone1 = $("#phone1").val();

        if (segundo_n === '.') {
            segundo_n = '';
        }

        var url = encodeURI('<?php echo $data['rootUrl'] ?>admin/pago/agente/' + cantidad + '/' + email1 + '/' + primer_n + '/' + segundo_n + '/' + phone1 + '/' + '<?php echo $reserva->codconf; ?>');

        window.open(url, '_blank');
        return false;
    });
    
    $(window).load(function () { 
        var idagencia = document.getElementById('idagencia').value;
        var op = '<?php echo $reserva->op_pago_conductor?>';
        var vall = '<?php echo $validacion?>';
        // alert(idagencia);
        //ocultarmenu();
        //comprobarScreen();  
        // alert(idagencia); saldoporpagar
        if (op == 5) {
        document.getElementById('op_pago_conductor').value = 5;
        $jq('#saldoporpagar').prop('disabled',true)
        }else{
        document.getElementById('op_pago_conductor').value = 4;
            if (idagencia == 0) {
                document.getElementById('op_pago_conductor')[4].style.display = 'none';
            }
        }
        //ocultarmenu();
        //comprobarScreen();
        //bajar_resumen();
        sur_2015();
        estado_roundtrip();
        estado_oneway();        
        selector();
        captura(); 
        facturado();
        colectando();
        block_invoiced()
        
        //passenger_balance();
//        $("accordion").hide();
       
//        document.getElementbyId('fec_salida_ns1').value = document.getElementbyId('fec_salida_ns').value;
//        document.getElementbyId('fec_retorno_ns1').value = document.getElementbyId('fec_retorno_ns').value;
        
        document.getElementById('saldoporpagar_copy').value = document.getElementById('saldoporpagar').value;
        document.getElementById('paid_driver_copy').value = document.getElementById('paid_driver').value;
        document.getElementById('balance_due_copy').value = document.getElementById('balance_due').value;
        document.getElementById('totalPagar_copy').value = document.getElementById('totalPagar').value;
        document.getElementById('pay_amount_copy').value = document.getElementById('pay_amount').value;
        document.getElementById('tot_amount_paid_copy').value = document.getElementById('tot_amount_paid').value;
        document.getElementById('agency_balance_due_copy').value = document.getElementById('agency_balance_due').value;
        document.getElementById('temp_copy').value = document.getElementById('temp').value;
        document.getElementById('otheramount_copy').value = document.getElementById('otheramount').value;
        document.getElementById('descuento_valorp').value = document.getElementById('descuento_valor').value;
        document.getElementById('descuentop').value = document.getElementById('descuento').value;
        document.getElementById('extrap').value = document.getElementById('extra').value;
        
        document.getElementById('pay_amountp').value = document.getElementById('pay_amount').value;
        document.getElementById('otheramountp').value = document.getElementById('otheramount').value;
        
        var resultado_pagos = <?php echo $resultado_pagos; ?>;
        
        if(resultado_pagos == '0'){
            
            document.getElementById('histo_pagos').style.display = "none";
            document.getElementById('labelpay').style.display = "none";
            
        }else{
            
            document.getElementById('histo_pagos').style.display = "";
            document.getElementById('labelpay').style.display = "";
            
        }
        var btnpay = <?php echo $reserva->Btnpay; ?>;

        if (btnpay == 1) {

            setTimeout(function () {
                //$('#pay_driver').click();
                calcularTotalTotal();

            }, 0.001);

        }

        var fecsal = "<?php echo $reserva->fecha_salida_ns; ?>";
        document.getElementById('fec_salida_ns1').value = fecsal;
        
        var fecret = "<?php echo $reserva->fecha_retorno_ns; ?>";
        document.getElementById('fec_retorno_ns1').value = fecret;
        
        var saldop = document.getElementById('saldoPagado').value;
        document.getElementById('saldoPagado2').value = saldop;

        var pagado = <?php echo $pagado; ?>;
        var saldo_porpagar = <?php echo $saldoxPagar; ?>;
        
        //alert(saldo_porpagar);
        //document.getElementById('saldoporpagar').value = saldo_porpagar;
        // $("#saldoporpagar").val((saldo_porpagar).toFixed(2));

        //document.getElementById('collect').value = '0.00';


        //document.getElementById('otheramount').value = '0.00';
        //document.getElementById('totalPagarnet').value = ('0.00');

        //document.getElementById('balance_due').value = '0.00';
        //document.getElementById('balance_due').value = <?php /*echo $passenger_balance_due; */?>;
        //document.getElementById('agency_balance_due').value = '0.00';
        //document.getElementById('agency_balance_due').value = <?php/* echo $agency_balance_due; */?>;
        //document.getElementById('pay_amount').value = '0.00';   
        //document.getElementById('pay_amount').value = <?php/* echo $pred_paid_amount; */?>;         
        //document.getElementById('paid_driver').value = '0.00';
        //document.getElementById('paid_driver').value = <?php/* echo $paid_driver; */?>;   
        //document.getElementById('tot_amount_paid').value = '0.00';
        //document.getElementById('tot_amount_paid').value = <?php/* echo $total_paid; */?>; 


        $("#content").css("opacity", "1");
        var sel_payment = "<?php echo $reserva->op_pago; ?>";
        var sel_payment2 = "<?php echo $op_pago_conductor; ?>";

        $("#op_pago_id option[value=" + sel_payment + "]").attr("selected", "selected");
        $("#op_pago_conductor option[value=" + sel_payment2 + "]").attr("selected", "selected");
        
        //actualizacion
        document.getElementById('selectcond').value = sel_payment2;
        
        CalcularTotalTotal();
    });


    $("#op_pago_id").change(function () {
        CalcularTotalTotal();
    });
//    $("#pay_amount").change(function () {
//        CalcularTotalTotal();
//    });

//    $("#paid_driver").change(function () {
//        CalcularTotalTotal();
//    });

    $("#extra").change(function () {
        CalcularTotalTotal();
            });
    $("#otheramount").change(function () {
        CalcularTotalTotal();
    });

    $("#add_id").click(function () {
        document.getElementById("eticket").style.display = "";
        document.getElementById("add_id").className  = "btn btn-success btn-sm btn-block oliverty link-button";
        cargarIdf();
    });
    
    $(document).ready(function () {       
        
   
        $("#content").css("opacity", "0.2");
        if ($("#id_tipo_ticket").val() == "1") {

            $("#round").css("display", "none");
            $(".sup2").css("margin-top", " 2px");
        } else {

            $("#round").css("display", "block");
            $(".sup2").css("margin-top", " -209px");
        }
        $("#clienteN").hide();

        var tipo;

        client = document.getElementById("newClient");
        <?php if ($reserva->id_clientes != NULL && $reserva->id != 0 && $cliente != NULL && $cliente->id != NULL && $cliente->id != 0 && $cliente->id != 'NULL') { ?>
                    client.style.visibility = "hidden";
        <?php } else { ?>
                    client.style.visibility = 'visible';
        <?php } ?>

        if ($("#pax").val() != "" || $("#pax2").val() != "") {

            var pax = $('#pax').val();
            var pax2 = $('#pax2').val();
            var total;

            if (pax2 == "") {
                pax2 = 0;
                // $('#pax2').val(0);
            }
            if (pax == "") {
                pax = 0;
                $('#pax').val(0);
            }
            total = (parseInt(pax) + parseInt(pax2));
            $('#totalpax').val(total);
        }

        var resident = '<?php
if (isset($reserva)) {
    echo $reserva->resident;
}
?>';
        $("#tipo_pass option[value=" + resident + "]").attr("selected", true);
        var idext1 = '<?php
if (isset($reserva)) {
    echo $reserva->extension1;
}
?>';
        $("#ext_from1 option[value=" + idext1 + "]").attr("selected", true);
        var precioa = '<?php
if (isset($reserva)) {
    echo $reserva->precioA;
}
?>';
        var precion = '<?php
if (isset($reserva)) {
    echo $reserva->precioN;
}
?>';
        if (precioa != "") {
            $("#transporadult").text("$" + precioa + ".00");
        }
        if (precion != "") {
            $("#transporechil").text("$" + precion + ".00");
        }
        //habilita usuario de agencia
        //$('#uagency').attr('disabled', 'disabled');        
        $('#leader').focus();
        $.fn.autosugguest({
            className: 'ausu-suggest',
            methodType: 'POST',
            minChars: 1,
            rtnIDs: true,
            dataFile: '<?php echo $data['rootUrl']; ?>leader/ajax'
        });
    });
    
    
    function cargarIdf(){
        var metodo = $('#op_pago_id1').val();
        var m2 = $('#opc_ap').val();
        var idf = 3;
        var variable = "<?php echo $reserva->id; ?>"; 
        var nref = "<?php echo $reserva->reference; ?>"; 
        //alert(m2);
    
        $.ajax({
                
                //datos que se envian a traves de ajax
                url: '<?php echo $data['rootUrl']; ?>admin/reporte/cargar/'+ idf + '/' + variable + '/' + metodo+'/'+nref, //archivo que recibe la peticion
                
                type: 'POST', //método de envio
                //'<i class="fa fa-spinner fa-spin" style="font-size:25px; color:red;"></i>'
                //<i class="fa fa-spinner fa-spin" style="font-size:15px"></i>
                beforeSend: function () {
                        $("#resultadop").html('');
                        // $("#waitmail").html('Sending');
//                         $("#resultado<?php echo $reg['id']?>").html('<i class="fa fa-spinner fa-spin" style="font-size:15px"></i>');                       
                },
                success:  function (response) { //una vez que el archivo recibe el request lo procesa y lo devuelve
                        $("#resultadop").html(response);
                        //$("#eticket").show();
                        // $("#waitmail").html('send');
                }

        });
        
        
        
        
    
    }
    

    function poner(id, id2) {
        var id = id;
        var id2 = id2;
        
        var fecha_inicio = $("#fecha_inicio").val();        
        var fecha_actual = $('#fecha_actual').val();

//        $("#userr").load(encodeURI('<?php/* echo $data['rootUrl']; */?>leader/ajax2/' + id + '/' + id2), function (response, status, xhr) {
//            var id_leader = $('#id_leader').val();
//            $("#userr").load(encodeURI('<?php/* echo $data['rootUrl']; */?>consul/superclub/' + id_leader));
//        });

        $("#userr").load(encodeURI('<?php echo $data['rootUrl']; ?>leader/ajax2/' + id + '/' + id2 + '/' + fecha_inicio + '/' + fecha_actual), function (response, status, xhr) {
        var id_leader = $('#id_leader').val();
        var fecha_inicio = $("#fecha_inicio").val();        
        var fecha_actual = $('#fecha_actual').val();
        
//        $("#userr").load(encodeURI('<?php /*echo $data['rootUrl']; */?>consul/superclub/' + id_leader + '/' + fecha_inicio + '/' + fecha_actual));
        });

    }

    $('#agency').change(function () {

        //$('#uagency').attr('disabled', 'disabled');
       
        $('#uagency').val('');
        $('#id_auser').val('');
        $('#id_agency').val('-1');
        

    });

    $('#pax').change(function () {
        var pax = $('#pax').val();
        var pax2 = $('#pax2').val();
        var total;
        if (pax2 == "") {
            pax2 = 0;
            // $('#pax2').val(0);
        }
        if (pax == "") {
            pax = 0;
            $('#pax').val(0);
        }
        total = (parseInt(pax) + parseInt(pax2));
        $('#totalpax').val(total);
        CalcularTotalTotal();

    });

    $('#pax2').change(function () {

        var pax = $('#pax').val();
        var pax2 = $('#pax2').val();
        if (pax2 == "") {
            pax2 = 0;
            $('#pax2').val(0);
        }
        if (pax == "") {
            pax = 0;
            $('#pax').val(0);
        }
        var total;
        total = (parseInt(pax) + parseInt(pax2));

        $('#totalpax').val(total);
        CalcularTotalTotal();
    });


    $('#oneway').change(function () {

        $("#trip_no2").val("");
        $("#departure2").val("");
        $("#arrival2").val("");
        $("#fecha_retorno").val("");

        $("#pickup2").val("");
        $("#id_pickup2").val("");

        $("#dropoff2").val("");
        $("#id_dropoff2").val("");

        $("#exten3").val("");
        $("#id_ext_pikup3").val("");

        $("#exten4").val("");
        $("#id_ext_pikup4").val("");

        $("#ext_to2").find('option').removeAttr("selected");
        $("#ext_from2").find('option').removeAttr("selected");

        $("#round").css("display", "none");
        $(".sup2").css("margin-top", "2px");
        $("#subtochild2").val(0);
        $("#subtoadult2").val(0);
        //actualizacion
//        $("#subtochild2_o").val(0);
//        $("#subtoadult2_o").val(0);
//        
        $("#price_exten03").val(0);
        $("#price_exten04").val(0);
        CalcularTotalTotal();
    });

    $('#roundtrip').change(function () {
//    $("#fecha_retorno").attr("disable", false);
//    $("#from2").attr("disable",false);
//    $("#fecha_retorno").removeAttr("readonly");
//    $("#departure2").removeAttr("readonly");
//    $("#dropoff2").removeAttr("readonly");
//    $("#pickup2").removeAttr("readonly");
//    $("#arrival2").removeAttr("readonly");
//    $("#to2").removeAttr("readonly");
//    $("#ext_from2").removeAttr("disabled");
//    $("#ext_to2").removeAttr("disabled");
//    $("#exten3").removeAttr("readonly");
//    $("#exten4").removeAttr("readonly");
//    $("#room2").removeAttr("readonly");
//    $("#from2").removeAttr("readonly");
        $("#round").css("display", "block");
        $(".sup2").css("margin-top", " -209px");
    });
    $('#fecha_salida').datepicker({
        dateFormat: 'mm-dd-yy',
        minDate: 0
    });
    
    $('#fec_salida_ns').datepicker({
        dateFormat: 'yy-mm-dd',
        minDate: 0
    });
    
    $("#dataclick1").click(function (e) {
        e.preventDefault();

        //$("#fecha_salida").datepicker("show");
        return false;
    });
    $('#fecha_retorno').datepicker({
        dateFormat: 'mm-dd-yy',
        minDate: 0,
        beforeShow: function () {
            if ($('#fecha_retorno').attr("readonly") == "readonly") {
                return false;
            }
        }

    });
    
    $('#fec_retorno_ns').datepicker({
        dateFormat: 'yy-mm-dd',
        minDate: 0,
        beforeShow: function () {
            if ($('#fec_retorno_ns').attr("readonly") == "readonly") {
                return false;
            }
        }

    });
    
    
    $("#dataclick2").click(function (e) {
        e.preventDefault();

        //$("#fecha_retorno").datepicker("show");
        return false;
    });
//$("#fecha_salida").change(function(){
//    $("#trip_no").val('');
//    $("#departure1").val('');
//    $("#arrival1").val('');    
//    $("#subtoadult1").val(0);
//    $("#subtochild1").val(0);
//    CalcularTotalTotal();
//});
    function borrar() {
        $("#transporadult").html("");
        $("#transporechil").html("");
        $("#subtoadult").html("");
        $("#subtochild").html("");
        $("#subtoadult2").html("");
        $("#subtochild2").html("");
        $("#totaltotal").html("$ 00.0");
        //$("#ext_from1 option[value="+0+"]").attr("selected",true);
        $("#extenadult").html("");
        $("#extenchil").html("");
        $("#totalPagar").html('$ 00.00');
    }
//$("#fecha_retorno").change(function(){
//    $("#trip_no2").val('');
//    $("#departure2").val('');
//    $("#arrival2").val('');
//    $("#subtochild2").val(0);
//    $("#subtoadult2").val(0);
//    CalcularTotalTotal();
//});
    $("#from").change(function () {
        var id = $("#from").val();
        $("#pickup1").val('');
        $("#id_p1").html('<select name="id_p1" class="select2_single form-control" id="id_p1"> <option value=""> </option></select>');
//    $("#dropoff2").val('');
//    $("#id_dropoff2").val('');
        $("#dropoff1").val('');
        $("#id_dropoff1").html('<select name="id_dropoff1" class="select2_single form-control" id="id_dropoff1"><option value="" selected=""></option></select>');
//    $("#pickup2").val('');
//    $("#id_pickup2").val('');
        $('#exten1').attr('disabled', 'disabled');
        $("#exten1").val('');
        $('#pickup1').removeAttr("disabled");

        $("#price_exten01").val(0);
        $("#price_exten02").val(0);
        var id_agency = $("#id_agency").val();
        if (id_agency != -1) {
            $("#trip_no").val("");
            $("#subtoadult1").val(0);
            $("#subtochild1").val(0);
        }

        //CalcularTotalTotal();

        if (id != "") {
            var id_agency = $("#id_agency").val();
            // var trip1 = $("#trip_no").val();
            // alert(trip1);
            $("#to").load(encodeURI('<?php echo $data['rootUrl']; ?>load/' + id));
            // $("#to").load(encodeURI('<?php echo $data['rootUrl']; ?>load_pickup/' + id +'/'+trip1));
            $("#ext_to1").load(encodeURI('<?php echo $data['rootUrl']; ?>exten_to_tot_of_from/' + id));
            $("#ext_from1").load(encodeURI('<?php echo $data['rootUrl']; ?>exten_to_tot_of_from/' + id));


//        $("#from2").load(encodeURI('<?php echo $data['rootUrl']; ?>load/' + id),function(){
//            $("#to2").load(encodeURI('<?php echo $data['rootUrl']; ?>area_to_tot_of_from/' + $("#from2").val()));
//        });
            $("#ext_from1").load(encodeURI('<?php echo $data['rootUrl']; ?>consul/exten/' + id + '/' + id_agency));
//        $("#ext_to2").load(encodeURI('<?php echo $data['rootUrl']; ?>consul/exten/' + id+'/'+id_agency));
//        $("#to2").load(encodeURI('<?php echo $data['rootUrl']; ?>area_to_tot_of_from/' + id));
        }
    });

    $("#from2").change(function () {

        var id = $("#from2").val();
        $("#dropoff2").val('');
        // $("#id_dropoff2").val('');
        $("#id_dropoff2").html('<select name="id_id_dropoff2" class="select2_single form-control" id="id_id_dropoff2"><option value="" selected=""></option></select>');
        // $("#pickup2").val('');
        $("#pickup2").val('');
        $("#id_pickup2").html('<select name="id_pickup2" class="select2_single form-control" id="id_pickup2"> <option value=""> </option></select>');

        $('#pickup2').removeAttr("disabled");

        $("#price_exten03").val(0);
        $("#price_exten04").val(0);
        var id_agency = $("#id_agency").val();
        if (id_agency != -1) {
            $("#trip_no2").val("");
            $("#subtoadult2").val(0);
            $("#subtochild2").val(0);
        }
//    $("#trip_no2").val("");
        //CalcularTotalTotal();
        $('#exten3').attr('disabled', 'disabled');
        $("#exten3").val('');
        if (id != "") {
            var id_agency = $("#id_agency").val();
            $("#to2").load(encodeURI('<?php echo $data['rootUrl']; ?>load/' + id));
            $("#ext_from2").load(encodeURI('<?php echo $data['rootUrl']; ?>consul/exten/' + id + '/' + id_agency));
        }
    });
    $("#to").change(function () {

        var id = $("#to").val();
//    $("#dropoff2").val('');
//    $("#id_dropoff2").val('');
        $("#dropoff1").val('');       
         $("#id_p1").html('<select name="id_p1" class="select2_single form-control" id="id_p1"> <option value=""> </option></select>');
//    $("#dropoff2").val('');
        $("#id_dropoff1").html('<select name="id_dropoff1" class="select2_single form-control" id="id_dropoff1"><option value="" selected=""></option></select>');
//    $("#pickup2").val('');
//    $("#id_pickup2").val('');

        $('#dropoff1').removeAttr("disabled");
        $('#exten2').attr('disabled', 'disabled');
        $("#exten2").val('');
//    $("#price_exten01").val(0);
        $("#price_exten02").val(0);
        var id_agency = $("#id_agency").val();
        if (id_agency != -1) {
            $("#trip_no").val("");
            $("#subtoadult1").val(0);
            $("#subtochild1").val(0);
        }
//    $("#trip_no").val("");
        //CalcularTotalTotal();

        if (id != "") {
            var id_agency = $("#id_agency").val();
//        $("#ext_from2").load(encodeURI('<? echo $data['rootUrl']; ?>consul/exten/' + id+'/'+id_agency));
            $("#ext_to1").load(encodeURI('<?php echo $data['rootUrl']; ?>consul/exten/' + id + '/' + id_agency));
//        $("#to2").load(encodeURI('<?php echo $data['rootUrl']; ?>load/' + id));
//        $("#from2").attr("value",id);
            var idFrom = $("#from").val();

        }
    });
    $("#to2").change(function () {
        var id = $("#to2").val();

        $('#dropoff2').removeAttr("disabled");
        $("#dropoff2").val('');
        $("#id_dropoff2").html('<select name="id_id_dropoff2" class="select2_single form-control" id="id_id_dropoff2"><option value="" selected=""></option></select>');
        // $("#pickup2").val('');
        $("#id_pickup2").html('<select name="id_pickup2" class="select2_single form-control" id="id_pickup2"> <option value=""> </option></select>');
//    $("#price_exten03").val(0);
        $("#price_exten04").val(0);
        var id_agency = $("#id_agency").val();
        if (id_agency != -1) {
            $("#trip_no2").val("");
            $("#subtoadult2").val(0);
            $("#subtochild2").val(0);
        }
        $('#exten4').attr('disabled', 'disabled');
        $("#exten4").val('');
//    $("#trip_no2").val("");
        //CalcularTotalTotal();
        if (id != "") {
            var id_agency = $("#id_agency").val();
            $("#ext_to2").load(encodeURI('<?php echo $data['rootUrl']; ?>consul/exten/' + id + '/' + id_agency));
        }
    });
    function extenprince(id, id2) {

        if (document.getElementById('oneway').checked) {

            var from = $("#from").val();
            var to = $("#to").val();
            var trip_no = $('#trip_no').val();
            var fechasal = $("#fecha_salida").val();
            var tp = 1;

        }

        if (document.getElementById('roundtrip').checked) {

            var from = $("#from").val();
            var to = $("#to").val();
            var trip_no = $('#trip_no').val();
            var fechasal = $("#fecha_salida").val();

            var from2 = $("#from2").val();
            var to2 = $("#to2").val();
            var trip_no2 = $('#trip_no2').val();
            var fecharetor = $("#fecha_retorno").val();

            var tp = 2;

        }
        
        var transAdult = $("#transporadult").text();
        var transChild = $("#transporechil").text();
        if (isNaN(transAdult)) {
            transAdult = 0;
        } else {
            transAdult = parseFloat(transAdult.substring(1, transAdult.length));
        }
        if (isNaN(transChild)) {
            transChild = 0;
        } else {
            transChild = parseFloat(transChild.substring(1, transChild.length));
        }
        var id_agency = $("#id_agency").val();
        var type_rate = $("#type_rate").val();
        if (id_agency == '') {
            id_agency = '-1';
        }
        //var url = '<?php echo $data['rootUrl']; ?>consul/extenp/' + id + '/' + id2 + '/' + transAdult + '/' + transChild + '/' + type_rate + '/' + id_agency;
        var url = '<?php echo $data['rootUrl']; ?>consul/extenp/' + id + '/' + id2 + '/' + transAdult + '/' + transChild + '/' + type_rate + '/' + id_agency + '/' + from + '/' + to + '/' + trip_no + '/' + fechasal + '/' + tp + '/' + from2 + '/' + to2 + '/' + trip_no2 + '/' + fecharetor;
        $("#userr").load(encodeURI(url));
    }
    $("#ext_from1").change(function () {
        var id = $("#ext_from1").val();
        var id2 = 1;
        extenprince(id, id2);
        if (id > 0) {
            $('#exten1').removeAttr('disabled');
            $("#pickup1").val('');
            $("#id_p1").val('');
            $('#pickup1').attr('disabled', 'disabled');
        } else {
            $('#pickup1').removeAttr('disabled');
            $('#exten1').attr('disabled', 'disabled');
            $("#exten1").val('');
            $("#id_ext_pikup1").val('');
        }
    });
    $("#ext_to1").change(function () {
        var id = $("#ext_to1").val();
        var id2 = 2;
        extenprince(id, id2);
        if (id > 0) {
            $('#exten2').removeAttr('disabled');
            $("#dropoff1").val('');
            $("#id_dropoff1").val('');
            $('#dropoff1').attr('disabled', 'disabled');
        } else {
            $('#dropoff1').removeAttr('disabled');
            $('#exten2').attr('disabled', 'disabled');
            $("#exten2").val('');
            $("#id_ext_pikup2").val('');
        }
    });

    $("#ext_from2").change(function () {

        var id = $("#ext_from2").val();
        var id2 = 3;
        extenprince(id, id2);
        if (id > 0) {
            $('#exten3').removeAttr('disabled');
            $("#pickup2").val('');
            $("#id_pickup2").val('');
            $('#pickup2').attr('disabled', 'disabled');
        } else {
            $('#pickup2').removeAttr('disabled');
            $('#exten3').attr('disabled', 'disabled');
            $("#exten3").val('');
            $("#id_ext_pikup2").val('');
        }
    });
    $("#ext_to2").change(function () {
        var id = $("#ext_to2").val();
        var id2 = 4;
        extenprince(id, id2);
        if (id > 0) {
            $('#exten4').removeAttr('disabled');
            $("#dropoff2").val('');
            $("#id_dropoff2").val('');
            $('#dropoff2').attr('disabled', 'disabled');
        } else {
            $('#dropoff2').removeAttr('disabled');
            $('#exten4').attr('disabled', 'disabled');
            $("#exten4").val('');
            $("#id_ext_pikup4").val('');
        }
    });

    function valorExtra() {
        CalcularTotalTotal();
    }

    function valorDescuento() {
        CalcularTotalTotal();
    }

    $("#opcion_pago_Voucher").change(function () {
        $("#pay_amount_html").hide();
    });
    $("#opcion_pago_Cash").change(function () {
        $("#pay_amount_html").show();
    });
    $("#label_tipo_CrediFee").change(function () {
        $("#pay_amount_html").show();
    });
    $("#opcion_pago_agency").change(function () {
        $("#pay_amount_html").show();
    });
    $("#opcion_pago_passager").change(function () {
        $("#pay_amount_html").show();
    });
    $("#extra").change(function () {
        valorExtra();
    });
    $("#descuento").change(function () {

        valorDescuento();

    });
    $("#descuento_valor").change(function () {

        valorDescuento();

    });

    //actualizacion
//    $("#op_pago_id").change(function () {
//        CalcularTotalTotal();
//    });
//    $("#pay_amount").change(function () {
//        CalcularTotalTotal();
//    });
//
//    $("#paid_driver").change(function () {
//        CalcularTotalTotal();
//    });

    $("#descuento").keypress(Event, function (e) {
        if (e.charCode > 47 && e.charCode < 58) {
            var char = String.fromCharCode(e.charCode);
            var valor = $("#descuento").val();
            var d = valor + '' + char;
            if (d > 100 || d < 0) {
                return false;
            }
            /*
             $("#descuento").val(valor + char + '%');
             var pos = valor.length;
             
             if((valor+char) == '' ){
             $("#descuento").val('0%');
             }
             establerCursorPosicion(pos+1,'descuento');*/
        } else {
            return false;
        }
    });

    function establerCursorPosicion(pos, idElemento) {
        var elemento = document.getElementById(idElemento);
        if (typeof document.selection != 'undefined' && document.selection) {        //método IE
            var tex = elemento.value;
            elemento.value = '';
            elemento.focus();
            var str = document.selection.createRange();
            elemento.value = tex;
            str.move("character", pos);
            str.select();
        } else if (typeof elemento.selectionStart != 'undefined') {                    //método estándar
            elemento.setSelectionRange(pos, pos);
        }
    }
    var saber;
    $("#popup1 a").click(function () {
        
        var est;
        var tipo;
        var estd = $('#est').val();         
        var pax = $('#pax').val();
        var pax2 = $('#pax2').val();
        var tipo_reserva = $('#tipo_reserva').val();
        var total_pasajeros = $('#total_pasajeros').val();
        var trip_1 = $('#trip_1').val();
        var trip_2 = $('#trip_2').val();
        
        var total;
        
        if(estd == 'PHONE' || estd == 'MAIL' ){            
            est = 'New'; 
//            alert(est);
//            exit;
        }
        if(estd == 'WEBSALE'){
            est = 'Edit'; 
//            alert(est);
//            exit;
        }
        
        if (pax2 == "") {
            pax2 = 0;
            $('#pax2').val(0);
        }
        if (pax == "") {
            pax = 0;
            $('#pax').val(0);
        }
        
        total = (parseInt(pax) + parseInt(pax2));

        $('#totalpax').val(total);      

        var from = $('#from').val();
        var to = $('#to').val();
        var fecha_sali = $('#fecha_salida').val();
        var tipopas = $('#tipo_pass').val();
        var agency;
        if ($('#id_agency').val() != '-1') {
            agency = $('#id_agency').val()
        } else {
            agency = -1;
        }
        tipo = 1;
//        alert(tipo);
//        exit;
        if ($('#fecha_salida').val() != '' && $('#totalpax').val() != '') {

        } else {
            var mensage = "";
            if (trim($('#fecha_salida').val()) == '') {
                mensage += "- Departure date is required. \n";
            }
            if (trim($('#totalpax').val()) == '') {
                mensage += "- Total passengers required. \n";
            }
            if (trim($('#from').val()) == '') {
                mensage += "From is required. \n";
            }
            if (trim($('#to').val()) == '') {
                mensage += "To  is required. \n";
            }

            alert(mensage);

            return false;

        }
        var special_price_name = $('#special_price_name').val();
        

//    $("#transporadult").html("");
//    $("#transporechil").html("");
//    $("#subtoadult").html("");
//    $("#subtochild").html("");
//    $("#totaltotal").html("$ 00.0");
//    //$("#ext_from1 option[value="+0+"]").attr("selected",true);
//    $("#extenadult").html("");
//    $("#extenchil").html("");
        $('.content-popup').html(" ");
        //$('.content-popup').load('<?php /*echo $data['rootUrl'];*/ ?>consul/trips/' + from + '/' + to + '/' + fecha_sali + '/' + tipopas + '/' + saber + '/' + tipo + '/' + agency);
        $('#loading').fadeIn('slow');
        $('.content-popup').load('<?php echo $data['rootUrl']; ?>consul/trips/' + from + '/' + to + '/' + fecha_sali + '/' + tipopas + '/' + saber + '/' + tipo + '/' + agency + '/' + special_price_name + '/' + total + '/' + est + '/' + tipo_reserva + '/' + total_pasajeros + '/' + trip_1 + '/' + trip_2, function(data){
            $('#loading').fadeOut();
        });
        $('#mascaraP').fadeIn('slow');
        $('#popup').fadeIn('slow');
        saber = 1;

    });
    
        $("#popup2 a").click(function () {
        
        var est;
        var tipo;
        var estd = $('#est').val();  
        
        var pax = $('#pax').val();
        var pax2 = $('#pax2').val();
        var tipo_reserva = $('#tipo_reserva').val();
        var total_pasajeros = $('#total_pasajeros').val();
        var trip_1 = $('#trip_1').val();
        var trip_2 = $('#trip_2').val();
        var total;
        
        //alert(trip_2);
        
        
        
        if(estd == 'PHONE' || estd == 'MAIL'){            
            est = "New";
//            alert(est);
//            exit;
        }
        
        if(estd == 'WEBSALE'){
            est = "Edit";
//            alert(est);
//            exit;
        }
        
        
        if (pax2 == "") {
            pax2 = 0;
            $('#pax2').val(0);
        }
        if (pax == "") {
            pax = 0;
            $('#pax').val(0);
        }
        
        total = (parseInt(pax) + parseInt(pax2));

        $('#totalpax').val(total);      
        
        var from = $('#from2').val();
        var to = $('#to2').val();
        var fecha_retorno = $('#fecha_retorno').val();
        var tipopas = $('#tipo_pass').val();

        if ($('#trip_no').val() == '') {
            alert("Must fill out the form ONE WAY");
            return false;
        }

        tipo = 2;
//        alert(tipo);
//        exit;

        if ($('#from2').attr("readonly") != "readonly") {
            if ($('#fecha_retorno').val() != '' && $('#totalpax').val() != '') {
            } else {

                var mensage = "";

                if ($('#fecha_retorno').val() == '') {
                    mensage += "- Return date is required. \n";
                }

                if ($('#totalpax').val() == '') {
                    mensage += "- Total passengers required. \n";
                }

                if ($('#from2').val() == '') {
                    mensage += "- From is required. \n";
                }

                if ($('#to2').val() == '') {
                    mensage += "- To  is required. \n";
                }

                alert(mensage);

                return false;

            }

            var special_price_name = $('#special_price_name').val();

            var agency;
            if ($('#id_agency').val() != '-1') {
                agency = $('#id_agency').val()
            } else {
                agency = -1;
            }

            //alert(tipo);
            $('.content-popup').html(" ");
            $('#loading').fadeIn('slow');
            //$('.content-popup').load('<?php /*echo $data['rootUrl']; */?>consul/trips/' + from + '/' + to + '/' + fecha_retorno + '/' + tipopas + '/' + saber + '/' + tipo + '/' + agency);
            $('.content-popup').load('<?php echo $data['rootUrl']; ?>consul/trips/' + from + '/' + to + '/' + fecha_retorno + '/' + tipopas + '/' + saber + '/' + tipo + '/' + agency + '/' + special_price_name + '/' + total + '/' + est + '/' + tipo_reserva + '/' + total_pasajeros + '/' + trip_1 + '/' + trip_2,function(){
                $('#loading').fadeOut();
            });
            $('#mascaraP').fadeIn('slow');
            $('#popup').fadeIn('slow');

            saber = 2;
        }
    });
    
    $("#tipo_pass").click(function () {
        

        //var est = $('#est').val();
        var est;
        var estd = $('#est').val();        
        var pax = $('#pax').val();
        var pax2 = $('#pax2').val();
        var tipo_reserva = $('#tipo_reserva').val();
        var total_pasajeros = $('#total_pasajeros').val();
        var trip_1 = $('#trip_1').val();
        var trip_2 = $('#trip_2').val();
        var total;
        
        if(estd == 'PHONE' || estd == 'MAIL' ){            
            est = "New";            
        }
        if(estd == 'WEBSALE'){
            est = "Edit";            
        }
        
        if (pax2 == "") {
            pax2 = 0;
            $('#pax2').val(0);
        }
        if (pax == "") {
            pax = 0;
            $('#pax').val(0);
        }
        
        total = (parseInt(pax) + parseInt(pax2));

        $('#totalpax').val(total);      
        
        
        

        var from = $('#from').val();
        var to = $('#to').val();
        var fecha_sali = $('#fecha_salida').val();
        var tipopas = $('#tipo_pass').val();
        
        var agency;
        if ($('#id_agency').val() != '-1') {
            agency = $('#id_agency').val()
        } else {
            agency = -1;
        }
        var tipo = 1;
        if ($('#fecha_salida').val() != '' && $('#totalpax').val() != '') {

        } else {
            var mensage = "";
            if (trim($('#fecha_salida').val()) == '') {
                mensage += "- Departure date is required. \n";
            }
            if (trim($('#totalpax').val()) == '') {
                mensage += "- Total passengers required. \n";
            }
            if (trim($('#from').val()) == '') {
                mensage += "From is required. \n";
            }
            if (trim($('#to').val()) == '') {
                mensage += "To  is required. \n";
            }

            alert(mensage);

            return false;

        }
        var special_price_name = $('#special_price_name').val();
        
//
//        $("#transporadult").html("");
//        $("#transporechil").html("");
//        $("#subtoadult").html("");
//        $("#subtochild").html("");
//        $("#subtoadult1").val(0);
//        $("#subtochild1").val(0);
//        $("#subtoadult2").val(0);
//        $("#subtochild2").val(0);
//        $("#transporechil").html("");
//       $("#totaltotal").html("$ 00.0");
//        //$("#ext_from1 option[value="+0+"]").attr("selected",true);
//        $("#extenadult").html("");
//        $("#extenchil").html("");
        $('.content-popup').html(" ");
        $('.content-popup').load('<?php echo $data['rootUrl']; ?>consul/trips/' + from + '/' + to + '/' + fecha_sali + '/' + tipopas + '/' + saber + '/' + tipo + '/' + agency + '/' + special_price_name + '/' + total + '/' + est + '/' + tipo_reserva + '/' + total_pasajeros + '/' + trip_1 + '/' + trip_2);
                
        //$('.content-popup').load('<? echo $data['rootUrl']; ?>consul/extenprice/' + from + '/' + to + '/' + fecha_sali + '/' + tipopas + '/' + saber + '/' + tipo + '/' + agency);
        $('#mascaraP').fadeIn('slow');
        $('#popup').fadeIn('slow');
        saber = 1;

    });
//    $("#tipo_pass").change(function () {
//        $("#price_exten01").val(0);
//        $("#price_exten02").val(0);
//
//        $("#subtochild1").val(0);
//        $("#subtoadult1").val(0);
//        $("#trip_no").val("");
//
//        $("#price_exten03").val(0);
//        $("#price_exten04").val(0);
//
//        $("#subtochild2").val(0);
//        $("#subtoadult2").val(0);
//        $("#trip_no2").val("");
//
//        $("#ext_from1 option[value=" + 0 + "]").attr("selected", true);
//        $("#ext_from2 option[value=" + 0 + "]").attr("selected", true);
//        $("#ext_to1 option[value=" + 0 + "]").attr("selected", true);
//        $("#ext_to2 option[value=" + 0 + "]").attr("selected", true);
//        CalcularTotalTotal();
//    });


    $("#newClient").click(function () {

    });

    function registrarCliente() {
        var email = $("#email1").val();
        var firstname = $("#firstname1").val();
        var lastname = $("#lastname1").val();
        var phone = $("#phone1").val();
        var id = $("#idCliente").val();
        if (email == '') {
            email = 0;
        }
        if (firstname == '') {
            firstname = 0;
        }
        if (lastname == '') {
            lastname = 0;
        }
        if (phone == '') {
            phone = 0;
        }
        $("#clienteN").load(encodeURI('<?php echo $data['rootUrl']; ?>admin/clientes/pagador/' + email + '/' + firstname + '/' + lastname + '/' + phone + '/' + id), function () {
            $("input[name='creator']").remove();
        });
        $('#mascaraP').fadeIn('slow');
        $('#clienteN').fadeIn('slow');
        $("#email1").focus();
        //setInterval('setTimeout("activarenvioPago()",5000)',5000);
    }

    function llamar(extraSettings, $innerbox) {
        var $innerbox = $innerbox;
        var dato = extraSettings;
        if (saber == 1) {
            var from = $('#from').val();
            var to = $('#to').val();
            var fecha_sali = $('#fecha_salida').val();
            var tipopas = $('#tipo_pass').val();
        } else {
            var from = $('#from2').val();
            var to = $('#to2').val();
            var fecha_sali = $('#fecha_retorno').val();
            var tipopas = $('#tipo_pass').val();
        }

        var ruta = dato[0] + '/' + from + '/' + to + '/' + fecha_sali + '/' + tipopas + '/' + saber;
        $.get(ruta, function (data) {
            $(data).appendTo($innerbox);
        });

        if (saber == 1) {
            var mensage = "";
            if ($('#fecha_salida').val() == '') {
                mensage += "fecha salida is requerida. \n";
            }
            if ($('#totalpax').val() == '') {
                mensage += "total pass  is requerido. \n";
            }
            if ($('#from').val() == '') {
                mensage += "From is requerido. \n";
            }
            if ($('#to').val() == '') {
                mensage += "to  is requerido. \n";
            }
            if (mensage) {
                $("P.close A").click();
            }
        } else {
            var mensage = "";
            if ($('#fecha_retorno').val() == '') {
                mensage += "fecha salida is requerida. \n";
            }
            if ($('#totalpax').val() == '') {
                mensage += "total pass  is requerido. \n";
            }
            if ($('#from2').val() == '') {
                mensage += "From is requerido. \n";
            }
            if ($('#to2').val() == '') {
                mensage += "to  is requerido. \n";
            }
            if (mensage) {
                $("P.close A").click();
            }
        }
    }

    $('#btn-save1').click(function () {
        if (validarFomulario()) {
            CalcularTotalTotal();
            $("#totP").val($("#totalPagar").val());
            $("#transadult").val($("#transporadult").text().substring(1, $("#transporadult").text().length));
            $("#transchild").val($("#transporechil").text().substring(1, $("#transporechil").text().length));
            $("#formula").attr('target', '_parent');
            $("#formula").attr('action', '<?php echo $data['rootUrl']; ?>admin/reservas/save-edit-reserve');
            $("#content").css("opacity", "0");
            bPreguntar = false;
            $("#formula").submit();
        }

    });

    $('#btn-save2').click(function () {
        $('body').loadingModal({text: 'LOADING PLEASE WAIT...'});
        $('body').loadingModal('animation', 'cubeGrid');
        if (validarFomulario()) {
            bPreguntar = false;
            preguntarAntesDeSalir();
            //CalcularTotalTotal();
            
            $("#puestosEnUso").load("<?php echo $data['rootUrl']; ?>admin/reservas/ocuparPuestoUsuario/3");
            $("#totP").val($("#totalPagar").val());
            $("#transadult").val($("#transporadult").text().substring(1, $("#transporadult").text().length));
            $("#transchild").val($("#transporechil").text().substring(1, $("#transporechil").text().length));
            $("#formula").attr('target', '_parent');
            $("#formula").attr('action', '<?php echo $data['rootUrl']; ?>admin/reservas/save-edit-reserve');
            $("#content").css("opacity", "0");            
            $("#formula").submit();
        }else{
            $('body').loadingModal('destroy');
        }
    });


    function irApagar() {
        if (validarFomulario()) {
            CalcularTotalTotal();
            $("#totP").val($("#totalPagar").val());
            $("#transadult").val($("#transporadult").text().substring(1, $("#transporadult").text().length));
            $("#transchild").val($("#transporechil").text().substring(1, $("#transporechil").text().length));
            $("#formula").attr('action', '<?php echo $data['rootUrl']; ?>admin/reservas/pago');
            $("#formula").attr('target', '_blank');
            var hilo = setInterval("estadoPago()", 5000);
            $("#formula").submit();
        }
    }

    function activarenvioPago() {
        if ($("#enviar_escondido").val() == 1) {
            $("#enviar_escondido").val(0);
            irApagar();
        }
    }
    $("#enviarF").click(function () {
        if (validarFomulario()) {
            if ($("#enviar_escondido").val() == 1) {
                $("#enviar_escondido").val(0);
                irApagar();
            } else {
                registrarCliente();
            }
        }
    });
    function validarFomulario() {
        var msError = '';
        console.log("idCliente : "+$("#idCliente").val());
        if (trim($("#idCliente").val()) == '') {
            if (trim($("#firstname1").val()) == '') {
                msError = '- Enter the first name of the passenger';
                alert(msError);
                $("#leader").focus();
                return false;
            }
        console.log("lastname1 : "+$("#lastname1").val());
            if (trim($("#lastname1").val()) == '') {
                msError = '- Enter the last name of the passenger';
                alert(msError);
                $("#leader").focus();
                return false;
            }


        }

//    if(trim($("#id_agency").val())!='-1' && trim($("#id_agency").val()) != ''){
//        if(trim($("#uagency").val()) == '' ){
//            msError = '- Enter employee data Agency';
//            alert(msError);
//            $("#uagency").focus();
//            return false;
//        }
//    }
        //Notas     
        console.log("comments : "+$("#comments").val());
        if ($("#comments").val() == "") {
            alert("Please Type One Note");
            $('#comments').show();
            $('#comments2').hide();
            $('#comments').focus();
            return false;
        }

        var num = document.getElementsByName('canal').length
        for (var i = 0; i < num; i++) {
            if (document.getElementsByName('canal').item(i).checked) {
                canal = document.getElementsByName('canal').item(i).value;
            }
        }
        console.log("canal : "+canal);
        if (canal == 0) {
            msError = '- Select the channel through which came the reservation.';
            alert(msError);
            $("#calan_phone").focus();
            return false;
        }

        if (trim($("#trip_no").val()) == '') {
            msError = '- Select the trip';
            alert(msError);
            $("#trip_no").focus();
            return false;
        }
        if (trim($("#fecha_salida").val()) == '') {
            msError = 'Select departure Date';
            alert(msError);
            $("#fecha_salida").focus();
            return false;
        }
        

        console.log("pickup 1 : "+trim($("#ext_from1").val()) );
        if (trim($("#id_p1").val()) == '' && trim($("#ext_from1").val()) == '0') {
            msError = '- Enter  pickup of ONE WAY';
            alert(msError);
            $("#pickup1").focus();
            return false;
        }
        if (trim($("#id_dropoff1").val()) == '' && trim($("#ext_to1").val()) == '0') {
            msError = '- Enter  dropoff of ONE WAY';
            alert(msError);
            $("#dropoff1").focus();
            return false;
        }


        if (document.getElementById('roundtrip').checked) {
            
            //actualizacion verificar
            if (trim($("#fecha_salida").val()) == '') {
            msError = 'Select departure Date';
            alert(msError);
            $("#fecha_salida").focus();
            return false;
            }
            
            
            if (trim($("#fecha_retorno").val()) == '') {
                msError = 'Select return Date';
                alert(msError);
                $("#fecha_retorno").focus();
                return false;
            }
            
            if (trim($("#trip_no2").val()) == '') {
                msError = '- Select the return trip';
                alert(msError);
                $("#trip_no2").focus();
                return false;
            }
            if (trim($("#id_pickup2").val()) == '' && trim($("#ext_from2").val()) == '0') {
                msError = '- Enter  pickup of ROUND TRIP';
                alert(msError);
                $("#pickup2").focus();
                return false;
            }
            if (trim($("#id_dropoff2").val()) == '' && trim($("#ext_to2").val()) == '0') {
                msError = '- Enter  dropoff of ROUND TRIP';
                alert(msError);
                $("#dpoff2").focus();
                return false;
            }

        }

        var tipo_pago = 0;
        var num = document.getElementsByName('opcion_pago').length
        for (var i = 0; i < num; i++) {
            if (document.getElementsByName('opcion_pago').item(i).checked) {
                tipo_pago = document.getElementsByName('opcion_pago').item(i).value;
            }
        }
        if (tipo_pago == 0) {
            msError = '- Select the type of payment';
//        alert(msError);
//        return false;
        }


        return true;
    }
    $('#btn-cancel1').click(function () {
        window.location = '<?php echo $data['url_back']; ?>';
    });

    function trim(myString) {
        console.log(myString);
        return myString.replace(/^\s+/g, '').replace(/\s+$/g, '')
    }

    function CalcularTotal(pax_1, pax_2) {
        
        var est = $("#est").val();

        var transporAdul1 = $("#subtoadult1").val();
        var transporChil1 = $("#subtochild1").val();
        
        var transporAdul2 = $("#subtoadult2").val();
        var transporChil2 = $("#subtochild2").val();
        

        var price_exten01 = $("#price_exten01").val();
        var price_exten02 = $("#price_exten02").val();
        var price_exten03 = $("#price_exten03").val();
        var price_exten04 = $("#price_exten04").val();
        
        var x = $("#price1").val();
        var y = $("#price2").val();
        
        
        
        if(est == "PHONE"){
             console.log("x : "+x);

            if (x == 1) {
                var transporAdul1 = $("#subtoadult1").val();
                var transporChil1 = $("#subtochild1").val();
            }

            if (x == 2) {
                var transporAdul1 = $("#subtoadult22").val();
                var transporChil1 = $("#subtochild22").val();
            }   
            
            if (x == 3) {
            var transporChil1 = $("#subtochildwf1").val();
            var transporAdul1 = $("#subtoadultwf1").val();
            }

            if (x == 4) {
                var transporChil1 = $("#subtochildsp1").val();
                var transporAdul1 = $("#subtoadultsp1").val();
            }

            if (x == 5) {
                var transporChil1 = $("#subtochildsd1").val();
                var transporAdul1 = $("#subtoadultsd1").val();
            }

            if (x == 6) {
                var transporChil1 = $("#subtochild1").val();
                var transporAdul1 = $("#subtoadult1").val();
            }      

            
            if (y == 1) {            
                var transporAdul2 = $("#subtoadult2").val();
                var transporChil2 = $("#subtochild2").val();

            }

            if (y == 2) {
                var transporAdul2 = $("#subtoadult4").val();
                var transporChil2 = $("#subtochild4").val();

            }

            if (y == 3) {
                var transporAdul2 = $("#subtoadultwf2").val();
                var transporChil2 = $("#subtochildwf2").val();

            }

            if (y == 4) {
                var transporAdul2 = $("#subtoadultsp2").val();
                var transporChil2 = $("#subtochildsp2").val();

            }

            if (y == 5) {
                var transporAdul2 = $("#subtoadultsd2").val();
                var transporChil2 = $("#subtochildsd2").val();

            }

            if (y == 7) {
                var transporAdul2 = $("#subtoadult2").val();
                var transporChil2 = $("#subtochil2").val();

            }
            
            if (isNaN(transporChil1)) {
            transporChil1 = 0;
            }
            if (isNaN(transporAdul1)) {
                transporAdul1 = 0;
            }
            if (isNaN(transporChil2)) {
                transporChil2 = 0;
            }
            if (isNaN(transporAdul2)) {
                transporAdul2 = 0;
            }
            if (isNaN(price_exten01)) {
                price_exten01 = 0;
            }
            if (isNaN(price_exten02)) {
                price_exten02 = 0;
            }
            if (isNaN(price_exten03)) {
                price_exten03 = 0;
            }
            if (isNaN(price_exten04)) {
                price_exten04 = 0;
            }
        
            
            
        }
        
        if(est == "WEBSALE"){
            
            //trip No1           
            if (x == 2) {
                var transporAdul1 = $("#subtoadult1").val();
                var transporChil1 = $("#subtochild1").val();
            }
            
            if (x == 3) {
                var transporAdul1 = $("#subtoadult22").val();
                var transporChil1 = $("#subtochild22").val();
            }  
            
            if (x == 4) {
                var transporAdul1 = $("#subtoadultwf1").val();
                var transporChil1 = $("#subtochildwf1").val();
            } 
            
            if (x == 5) {
                var transporAdul1 = $("#subtoadultsp1").val();
                var transporChil1 = $("#subtochildsp1").val();
            }              

            //trip No2
            if (y == 2) {            
                var transporAdul2 = $("#subtoadult2").val();
                var transporChil2 = $("#subtochild2").val();    
            }

            if (y == 3) {
                var transporAdul2 = $("#subtoadult4").val();
                var transporChil2 = $("#subtochild4").val();       
            }

            if (y == 4) {
                var transporAdul2 = $("#subtoadultwf2").val();
                var transporChil2 = $("#subtochildwf2").val();
            }

            if (y == 5) {
                var transporAdul2 = $("#subtoadultsp2").val();
                var transporChil2 = $("#subtochildsp2").val();
            }

            
            if (isNaN(transporChil1)) {
            transporChil1 = 0;
            }
            if (isNaN(transporAdul1)) {
                transporAdul1 = 0;
            }
            if (isNaN(transporChil2)) {
                transporChil2 = 0;
            }
            if (isNaN(transporAdul2)) {
                transporAdul2 = 0;
            }
            if (isNaN(price_exten01)) {
                price_exten01 = 0;
            }
            if (isNaN(price_exten02)) {
                price_exten02 = 0;
            }
            if (isNaN(price_exten03)) {
                price_exten03 = 0;
            }
            if (isNaN(price_exten04)) {
                price_exten04 = 0;
            }            
           
            
        }
        
        //alert(transporChil1+', '+transporAdul1+', '+transporChil2+', '+transporAdul2+', '+price_exten01+', '+price_exten02+', '+price_exten03+', '+price_exten04);
        var price_exten = parseFloat(price_exten01) + parseFloat(price_exten02) + parseFloat(price_exten03) + parseFloat(price_exten04);
        //parseFloat(transporAdul2)
        //parseFloat(transporChil2)

        //if round trip checked

//        if ($("#id_tipo_ticket").val() === "2") {
//
//            var transadult = ((parseFloat(transporAdul1) + parseFloat(transporAdul2)) * pax_1);
//
//            var transchild = ((parseFloat(transporChil1) + parseFloat(transporChil2)) * pax_2);
//
//        }
//
//        //if oneway checked
//        if ($("#id_tipo_ticket").val() === "1") {
//
//            var transadult = (parseFloat(transporAdul1) + 0) * pax_1;
//            var transchild = (parseFloat(transporChil1) + 0) * pax_2;
//
//        }

        var transadult = (parseFloat(transporAdul1) + parseFloat(transporAdul2)) * pax_1;
        var transchild = (parseFloat(transporChil1) + parseFloat(transporChil2)) * pax_2;

        var totalA = parseFloat(transadult) + (parseFloat(price_exten) * pax_1);
        var totalC = parseFloat(transchild) + (parseFloat(price_exten) * pax_2);
        var paxadult = $("#pax").val();
//        alert(pax_1);
        var totalP = totalA + totalC;
        //alert(totalP);
//        exit();
        //$("#totalPagar").text(totalP.toFixed(2));
        $("#totalPagar").val((totalP).toFixed(2));
        $("#extenadult").text('$' + (price_exten * pax_1).toFixed(2));
        $("#extenchil").text('$' + (price_exten * pax_2).toFixed(2));
        $("#transporadult").text('$' + transadult.toFixed(2));
        $("#transporechil").text('$' + transchild.toFixed(2));
        //$("#subtoadult").text('$' + (totalA / parseFloat($("#pax").val())).toFixed(2));
        $("#transporechil").text('$' + transchild.toFixed(2));
        
        if(paxadult == 0){
            $("#subtoadult").text('$' + (0.00).toFixed(2));
        }else{
            
            $("#subtoadult").text('$' + (totalA / parseFloat($("#pax").val())).toFixed(2));
            
        }
        
        if (parseFloat($("#pax2").val()) <= 0) {
            $("#subtochild").text('$0.00');
        } else {
            $("#subtochild").text('$' + (totalC / parseFloat($("#pax2").val())).toFixed(2));
        }
        return totalP;


    }

    function comision() {

        var id_agency = $('#id_agency').val();
        var type_rate = $('#type_rate').val();

        if (id_agency == '-1') {
            id_agency = -1;
            type_rate = 0;

            return 0;
        }
        if (type_rate == '1') {

            $("#comision").val(0);

        }
        var pax_1 = $('#pax').val();
        var pax_2 = $('#pax2').val();
        var total;
        if (pax_1 == "") {
            pax_1 = 0;
        }
        if (pax_2 == "") {
            pax_2 = 0;
        }

        var totalP = CalcularTotal(pax_1, pax_2);
        if (totalP > 0) {

            var transporChil1 = $("#subtochild1").val();
            var transporAdul1 = $("#subtoadult1").val();
            var transporChil2 = $("#subtochild2").val();
            var transporAdul2 = $("#subtoadult2").val();
            var porc_comi1 = $("#valorcomision01").val();
            var porc_comi2 = $("#valorcomision02").val();
            if (porc_comi2 != 0) {
                var porc_comiEx = (parseFloat(porc_comi1) + parseFloat(porc_comi2)) / 2;
                $("#comision").val((parseFloat(porc_comi1) + parseFloat(porc_comi2) + parseFloat(porc_comiEx)) / 2);
            } else {
                var porc_comiEx = porc_comi1;
                $("#comision").val(porc_comi1);
            }
            var transpor1 = (parseFloat(transporChil1) * parseFloat(pax_2)) + (parseFloat(transporAdul1) * parseFloat(pax_1));
            var transpor2 = (parseFloat(transporChil2) * parseFloat(pax_2)) + (parseFloat(transporAdul2) * parseFloat(pax_1));
            var transporEx = parseFloat(totalP) - (parseFloat(transpor1) + parseFloat(transpor2));
            var comiT1 = parseFloat(transpor1) * parseFloat(porc_comi1) / 100;
            var comiT2 = parseFloat(transpor2) * parseFloat(porc_comi2) / 100;

            if (transporEx > 0) {
                var comiEx = parseFloat(transporEx) * parseFloat(porc_comiEx) / 100;
            } else {
                var comiEx = 0;
            }
            var comi = parseFloat(comiT1) + parseFloat(comiT2) + parseFloat(comiEx);
            //alert(comi);
            $("#totalComision").text(comi.toFixed(2));
            $("#totalcom").val(comi);
            $("#totalPagar").val(Math.ceil(totalP).toFixed(2));
            //alert(subtotalAdulto+', '+subtotalninio+', '+totalP+','+transporChil1+', '+transporAdul1+', '+transporChil2+', '+transporAdul2+', '+porc_comi1+', '+porc_comi2+', '+transpor1+', '+transpor2+', '+transporEx+', '+comiT1+', '+comiT2+', '+porc_comi2+', '+comiEx+', '+comi);

        } else {

            var comi = 0;
        }
        return comi;
    }
    //variable utilizada en funcion dupliac() (duplica el valor de saldoporpagar en otheramount)
    var apagare
    
    function CalcularTotalTotal() {
        // balance_due
        var opcion = $("#op_pago_id1").val();
        var org = typeof (org) != 'undefined' ? org : 0;
        var pax = $('#pax').val();
        var pax2 = $('#pax2').val();
        if (pax2 == "") {
            pax2 = 0;
        }
        if (pax == "") {
            pax = 0;
        }

        var comi = 0/*comision()*/;

        var full = CalcularTotal(pax, pax2) + comi;
        
        
        var balance = full - comi;
        var disponible = $("#disponible").val();
        var agency = $("#id_agency").val();
        var pagado = <?php echo $pagado; ?>;
        var otheramount = 0;
        //alert(full);

        var tipo_pago = 0;
        var prepago = 0;

        var num = document.getElementsByName('opcion_pago').length;
        for (var i = 0; i < num; i++) {
            if (document.getElementsByName('opcion_pago').item(i).checked) {
                tipo_pago = document.getElementsByName('opcion_pago').item(i).value;
            }
        }

        tipo_pago = $("#op_pago_id option:selected").val();//Collect on Board
        /***************************************************/
        prepago = $("#opcion_pago_2 option:selected").val();//pred paid

        var tipo_saldo = $('#opcion_pago_saldo').val();
        //Validar otheramount
        var error = "";
        error += validateNumber($("#otheramount").val(), 'Other Amount', true);
        if (error == "") {
            otheramount = $("#otheramount").val();
        } else {
            otheramount = 0;
        }
        var apagar = full;
        
        
        if (tipo_saldo == 2) {
            apagar = balance;
            

        }
        console.log(tipo_pago);
        
        //SUMAMOS VALOR EXTRA
        error = "";
        error += validateNumber($("#extra").val(), 'Extra', true);
        var extra = 0;
        if (error == "") {
            extra = $("#extra").val();
        }
        //RESTAMOS DESCUENTO DE %
        error = "";
        error += validateNumber($("#descuento").val(), 'Descuento', true);
        var desc_porc = 0;
        if (error == "") {
            desc_porc = $("#descuento").val();
        }
        //RESTAMOS DESCUENTO DE $
        error = "";
        error += validateNumber($("#descuento_valor").val(), 'Descuento Valor', true);
        var desc_valor = 0;
        if (error == "") {
            desc_valor = $("#descuento_valor").val();
        }
        
        //RESTAMOS VARIABLE TEMPORAL PARA QUITAR PAGOS
        //var desc_temporal = 0;
        //desc_temporal = $("#descuento_temporal").val();
        
        /////////////////////////////////////////
        var pagado = <?php echo $pagado; ?>;

        var opcion = $("#op_pago_id1").val();

        //opcion add payment   codigo de envio al controlador para aumento de cargos

        document.getElementById('opc_ap').value = opcion;       

        var pay_amount = $("#pay_amount").val();

        var paid_driver = $("#paid_driver").val();

        var pago_driver = $("#pago_driver").val();

        var total_pagar = $("#totalPagar").val();

        var saldoXpagar = $("#saldoporpagar").val();

        var otheramount2 = $("#otheramount").val();
        
        var total_charge = "<?php echo $total_charge; ?>";

        apagar = parseFloat(apagar) + parseFloat(extra) - parseFloat((full * desc_porc) / 100) - parseFloat(desc_valor); 
        //apagar = parseFloat(apagar) + parseFloat(extra) - parseFloat((full * desc_porc) / 100) - parseFloat(desc_valor) - parseFloat(desc_temporal); 
   
        //apagar = apagar;       
        
        apagare = apagar;

        var valor = apagar;

        valor = parseFloat(valor) + parseFloat(extra) - parseFloat((full * desc_porc) / 100) - parseFloat(desc_valor);
        //valor = parseFloat(valor) + parseFloat(extra) - parseFloat((full * desc_porc) / 100) - parseFloat(desc_valor) - parseFloat(desc_temporal);

        var fee = apagar * 0.04;
        
        <?php
        if ($reserva->id < 17670) {
            echo "var fee = apagar*0.03;";
        } else {
            echo "var fee = apagar*0.04;";
        }
        ?>        

        var totalPax = parseFloat(pax) + parseFloat(pax2);
        
        $("#totalComision").text(comi.toFixed(2));
        
        ///////////////////////////////COLLECT ON BOARD/////////////////////////////////
        //paid
        if (tipo_pago == 6) {


            var temp = parseFloat($("#temp").val());  
            var pay_amount = parseFloat($("#pay_amount").val());
            var totalamount = parseFloat($("#totalPagar").val());
            var paid_driver = parseFloat($("#paid_driver").val());
            var otheramount = parseFloat($("#otheramount").val());
            var tot_amount_paid = parseFloat($("#tot_amount_paid").val()); 

            var pay_porc = (pay_amount) - (pay_amount/1.04);
            var totalAmt = apagar + pay_porc;
            var totale = parseFloat(totalAmt) -  parseFloat(tot_amount_paid);
            var cv = 0;



            $("#saldoporpagar").val((cv).toFixed(2));
            $("#paid_driver").val((cv).toFixed(2));
            $("#balance_due").val((cv).toFixed(2));
            $("#totalPagar").val((totalAmt).toFixed(2));                                    
            $("#agency_balance_due").val((totale).toFixed(2));


            if (tot_amount_paid > 0 && paid_driver == 0 && otheramount == 0) {



                var pay_amount = parseFloat($("#pay_amount").val());
                var paid_driver = parseFloat($("#paid_driver").val());
                var totalamount = parseFloat($("#totalAmount").val());
                var temp = parseFloat($("#temp").val());
                var temp_prepaid = parseFloat($("#temp_prepaid").val());
                var totalbalance = ((total_total + temp_prepaid) - (paid_driver)) - (tot_amount_paid);                    
                var result = parseFloat(total_total) + parseFloat(temp_prepaid);
                var saldoporpagar = parseFloat(total_total) + parseFloat(temp_prepaid);

                //alert(totalbalance);

                if (totalbalance < 0) {

                    var tembalance = 0;
                    $("#saldoporpagar").val((tembalance).toFixed(2));
                    $("#paid_driver").val((tembalance).toFixed(2));
                    $("#balance_due").val((tembalance).toFixed(2));
                    $("#totalPagar").val((totalAmt).toFixed(2));                       
                    $("#agency_balance_due").val((((totalAmt) - (paid_driver)) - (tot_amount_paid)).toFixed(2));

                } else {



                    var temp = parseFloat($("#temp").val());  
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var totalamount = parseFloat($("#totalPagar").val());
                    var paid_driver = parseFloat($("#paid_driver").val());
                    var otheramount = parseFloat($("#otheramount").val());

                    var pay_porc = (pay_amount) - (pay_amount/1.04);
                    var totalAmt = valor + pay_porc;
                    var totale = parseFloat(totalAmt) -  parseFloat(tot_amount_paid);
                    var cv = 0;


                    $("#saldoporpagar").val((cv).toFixed(2));
                    $("#paid_driver").val((cv).toFixed(2));
                    $("#balance_due").val((cv).toFixed(2));
                    $("#totalPagar").val((totalAmt).toFixed(2));                                          
                    $("#agency_balance_due").val((totale).toFixed(2));



                }

            }


        }
        
        //CREDIT VOUCHER
        if (tipo_pago == 5) {
            
//            var dsp = disponible - full;
//            alert(dsp);
            if (disponible - full < 0) {
                var temp = parseFloat($("#temp").val());
                var result = parseFloat(apagar) + parseFloat(temp);
                var tot_amount_paid = parseFloat($("#tot_amount_paid").val()); 
               
                /*alert('Your available credit is less than the total amount to be paid');
                
                 $("#opcion_pago").attr("checked",false);
                 $("#opcion_saldo1").attr('checked',false);
                 $("#opcion_saldo2").attr('checked',false);
                 $("#opcion_saldo2").attr('disabled',false);
                 $("#opcion_saldo1").attr('disabled',false);*/
                $("#opcion_saldo2").attr('checked', true);
                $("#opcion_saldo1").attr('disabled', true);
                $("#opcion_saldo2").attr('disabled', false);
                $("#opcion_pago_saldo").val('2');
                /*$("#totalPagar").text((balance).toFixed(2));
                 $("#totaltotal").text((balance).toFixed(2));*/

                
                
                var totalbalance = 0.00;
//                $("#totalPagar").text((apagar).toFixed(2));
//                $("#totaltotal").text((apagar).toFixed(2));
                var cv = 0;

                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#paid_driverp").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                $("#balance_duep").val((cv).toFixed(2));                   
                $("#totalPagar").val((result).toFixed(2));
                $("#totaltotal").text(((apagar) - (tot_amount_paid)).toFixed(2));
                
                $("#agency_balance_due").val(((result) - (tot_amount_paid)).toFixed(2));
                
            if (tot_amount_paid > 0 && paid_driver == 0 && otheramount2 == 0) {
                
                                        
                    var total_charge = "<?php echo $total_charge; ?>";
                    var apaga_tot = parseFloat(total_charge) + parseFloat(apagar);
                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = parseFloat($("#paid_driver").val());
                    var temp = parseFloat($("#temp").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var totalbalance = ((apagar + temp) - (paid_driver)) - (tot_amount_paid);                    
                    var result = parseFloat(apagar) + parseFloat(temp);
                    var saldoporpagar = parseFloat(apagar) + parseFloat(temp);

                    if (totalbalance < 0) {

                        var tembalance = 0;
                        $("#saldoporpagar").val((tembalance).toFixed(2));
                        $("#balance_due").val((tembalance).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (tot_amount_paid)).toFixed(2));

                    } else {
                        
                        var cv = 0;
                        var pay_amount = parseFloat($("#pay_amount").val());                        
                        var paid_driver = parseFloat($("#paid_driver").val());                        
                        var temp = parseFloat($("#temp").val());
                        var temp_prepaid = parseFloat($("#temp_prepaid").val());                          
                        var op_pag_conduct = parseFloat($("#selectcond").val()); 
                        var tot_amount_paid = parseFloat($("#tot_amount_paid").val()); 
                        var result = parseFloat(apagar) + parseFloat(temp);
                        //var total = parseFloat(apagar) + parseFloat(temp);
                        
                        $("#saldoporpagar").val((cv).toFixed(2));
                        $("#paid_driver").val((cv).toFixed(2));
                        $("#balance_due").val((cv).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));                        
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (tot_amount_paid)).toFixed(2));
                                             
                        
                    }

                } 
                
                
            } else {
                
                var prep = parseFloat($("#pred_paid_amountt").val());
                var coll = parseFloat($("#paid_drivert").val());
                $("#tot_amount_paid").val((prep + coll).toFixed(2));
                $("#tot_amount_paidp").val((prep + coll).toFixed(2));

//                $("#opcion_saldo2").attr('checked', true);
//                $("#opcion_saldo1").attr('disabled', true);
//                $("#opcion_saldo2").attr('disabled', false);
//                $("#opcion_pago_saldo").val('2');
//
//                $("#totalPagar").val((apagar).toFixed(2));
//                $("#totaltotal").text(((apagar) - (pay_amount)).toFixed(2));
//                $("#agency_balance_due").val(((apagar) - (pay_amount)).toFixed(2));
//
//                $("#saldoporpagar").val((cv).toFixed(2));
//                $("#paid_driver").val((cv).toFixed(2));
//                $("#paid_driverp").val((cv).toFixed(2));
//                $("#balance_due").val((cv).toFixed(2));
//                $("#balance_duep").val((cv).toFixed(2));                

                $("#opcion_saldo2").attr('checked', true);
                $("#opcion_saldo1").attr('disabled', true);
                $("#opcion_saldo2").attr('disabled', false);
                $("#opcion_pago_saldo").val('2');
                /*$("#totalPagar").text((balance).toFixed(2));
                 $("#totaltotal").text((balance).toFixed(2));*/
                var cv = 0;


                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));
                $("#totalPagar").val((apagar).toFixed(2));
                $("#totaltotal").text((apagar).toFixed(2));
                $("#agency_balance_due").val((apagar).toFixed(2));
                
                }

            }else if (tipo_pago == 7) {

            if (disponible - balance < 0) {

                $("#opcion_saldo2").attr('checked', true);
                $("#opcion_saldo1").attr('disabled', true);
                $("#opcion_saldo2").attr('disabled', false);
                $("#opcion_pago_saldo").val('2');

                var cv = 0;


                $("#saldoporpagar").val((cv).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));

                $("#totalPagar").val((cv).toFixed(2));
                $("#totaltotal").text((cv).toFixed(2));
                $("#agency_balance_due").val((cv).toFixed(2));


            } else {

                $("#opcion_saldo2").attr('checked', true);
                $("#opcion_saldo1").attr('disabled', true);
                $("#opcion_saldo2").attr('disabled', false);
                $("#opcion_pago_saldo").val('2');



                $("#saldoporpagar").val(((cv)).toFixed(2));
                $("#paid_driver").val((cv).toFixed(2));
                $("#balance_due").val((cv).toFixed(2));

                $("#totalPagar").val((cv).toFixed(2));
                $("#totaltotal").text((cv).toFixed(2));
                $("#agency_balance_due").val((cv).toFixed(2));


           
            } 
            
        }else {//////////////////////////////////////////////////////////

            $("#opcion_saldo2").attr('disabled', false);

            $("#opcion_saldo1").attr('disabled', false);

            //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< CREDIT CARD WITH FEE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
        //}
            if (tipo_pago == 3) {                

                var other_amount = parseFloat($("#otheramount").val());
                var temp = parseFloat($("#temp").val());
                var tempwf = parseFloat($("#tempwf").val());
                var tempppwf = parseFloat($("#tempppwf").val());
                var paid_driver = parseFloat($("#paid_driver").val());                
                var pay_amount = parseFloat($("#pay_amount").val());

                if (pay_amount == 0 && paid_driver == 0 && other_amount == 0) {

                    var result = parseFloat(apagar) + parseFloat(temp);
                    var totalbalance = ((apagar + temp) - (paid_driver)) - (pay_amount);

                    if (totalbalance < 0) {

                        var tembalance = 0;
                        $("#saldoporpagar").val((tembalance).toFixed(2));
                        $("#balance_due").val((tembalance).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));

                    } else {
                        
                        var temp = parseFloat($("#temp").val());
                        var tempwf = parseFloat($("#tempwf").val());
                        var paid_driver = parseFloat($("#paid_driver").val());
                        var pay_amount = parseFloat($("#pay_amount").val()); 
                        var op_pag_conduct = parseFloat($("#selectcond").val());
                        var saldoporpagar = parseFloat(apagar) +  parseFloat(temp)+ parseFloat(tempwf);
                        var result = parseFloat(apagar) + parseFloat(temp);
                        var bd = parseFloat(result) - parseFloat(paid_driver);  
                        
                                        
                      
                        $("#saldoporpagar").val((saldoporpagar).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        if(op_pag_conduct == 3){
                        
                            //setTimeout(function () {                               

                                          var balance = parseFloat($("#balance_due").val());
                                          var porcbal = balance*0.04;
                                          var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                          console.log("totalbalance : "+tot_balance);
                                           // debugger;
                                          $("#balance_due").val((tot_balance).toFixed(2));
                                          $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            //}, 0.01);
                        
                        }
                       
                    }

                }

                if (pay_amount == 0 && paid_driver > 0 && other_amount == 0) {
               
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());                    
                    var tempwf = parseFloat($("#tempwf").val());             
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = parseFloat($("#paid_driver").val());
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var saldoporpagar = parseFloat(apagar) +  parseFloat(temp_driver) + parseFloat(tempwf);
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf);
                    var bd = parseFloat(saldoporpagar) - parseFloat(paid_driver);  
                    var agbd = (result - paid_driver).toFixed(2); 
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    $("#saldoporpagar").val((saldoporpagar).toFixed(2));
                    $("#balance_due").val((bd).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
//                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#agency_balance_due").val((total).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                            setTimeout(function () {                               

                                          var balance = parseFloat($("#balance_due").val());
                                          var porcbal = balance*0.04;
                                          var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                          $("#balance_due").val((tot_balance).toFixed(2));
                                          $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                    }

                }


                if (pay_amount > 0 && paid_driver == 0 && other_amount == 0) {

                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = parseFloat($("#paid_driver").val());
                    var temp = parseFloat($("#temp").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());  

                    var totalbalance = ((apagar + temp_prepaid + tempppwf ) - (paid_driver)) - (pay_amount);                    
                    var result = parseFloat(apagar) + parseFloat(temp_prepaid) + parseFloat(tempppwf);
                    var saldoporpagar = parseFloat(apagar) + parseFloat(temp_prepaid) + parseFloat(tempppwf);

                    if (totalbalance < 0) {

                        var tembalance = 0;
                        $("#saldoporpagar").val((tembalance).toFixed(2));
                        $("#balance_due").val((tembalance).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));

                    } else {
                        
                        var pay_amount = parseFloat($("#pay_amount").val());                        
                        var paid_driver = parseFloat($("#paid_driver").val());                        
                        var temp = parseFloat($("#temp").val());
                        var temp_prepaid = parseFloat($("#temp_prepaid").val());
                        var tempppwf = parseFloat($("#tempppwf").val());  
                        var op_pag_conduct = parseFloat($("#selectcond").val());                        
                        var result = parseFloat(apagar) + parseFloat(temp_prepaid)+ parseFloat(tempppwf);
                        //var total = parseFloat(apagar) + parseFloat(temp);
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));                        
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        if(op_pag_conduct == "3"){
                        
                            setTimeout(function () {                               

                                          var balance = parseFloat($("#balance_due").val());
                                          var porcbal = balance*0.04;
                                          var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                          $("#balance_due").val((tot_balance).toFixed(2));
                                          $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                        }
                        
                    }

                }

                if (pay_amount > 0 && paid_driver > 0 && other_amount == 0) {
                    
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var pay_amount = parseFloat($("#pay_amount").val());                        
                    var paid_driver = parseFloat($("#paid_driver").val());
                    var op_pag_conduct = parseFloat($("#selectcond").val());                   
                        
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    var agbd = parseFloat(result) - (parseFloat(paid_driver) + parseFloat(pay_amount));  
                    
                    var tot_amount = parseFloat(paid_driver) + parseFloat(pay_amount);
                    //var agbd = (result - paid_driver).toFixed(2);                   
                    //var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                   
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((agbd).toFixed(2));
                    //$("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount).toFixed(2));        
                    $("#agency_balance_due").val((agbd).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                          var balance = parseFloat($("#balance_due").val());
                                          var porcbal = balance*0.04;
                                          var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                          $("#balance_due").val((tot_balance).toFixed(2));
                                          $("#bal_duep").val((tot_balance).toFixed(2));                                  

                        }, 0.01);
                        
                    }                   
                    
                  
                }

                var other_amount = parseFloat($("#otheramount").val());

                if (other_amount > 0 && paid_driver == 0 && pay_amount == 0) {

                    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var apagar_2 = parseFloat(other_amount);
                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf);
                    var balance = parseFloat(result) - parseFloat(paid_driver);                    
                    //var result = parseFloat(apagar) + parseFloat(temp);
                    var resultado = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver);
                    
                                        
//                    var bd = parseFloat(result) - parseFloat(paid_driver);   
//                    
                    
                    if(op_pag_conduct == "3")  { 
                        
//                        var temp_bal = apagar_2*0.04;
//                        var balance_due = parseFloat(apagar_2) + parseFloat(temp_bal);
//                                                                                            
//                        $("#saldoporpagar").val((result).toFixed(2));                 
//                        $("#balance_due").val((balance_due).toFixed(2));
//                        $("#totalPagar").val((resultado).toFixed(2));
//                        $("#totaltotal").text((resultado).toFixed(2));
//                        $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        setTimeout(function () {                               

                          var balanceo = parseFloat($("#balance_due").val());
                          var porcbal = balanceo*0.04;
                          var tot_balance = parseFloat(balanceo) + parseFloat(porcbal);          

                          $("#saldoporpagar").val((result).toFixed(2));
                          $("#balance_due").val((tot_balance).toFixed(2));
                          $("#bal_duep").val((tot_balance).toFixed(2));
                          $("#totalPagar").val((resultado).toFixed(2));
                          $("#totaltotal").text((resultado).toFixed(2));
                          $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));                                                                        

                        }, 0.01);
                        
                      
                    }else{    
                        $("#saldoporpagar").val((result).toFixed(2));                 
                        $("#balance_due").val((balance).toFixed(2));
                        $("#totalPagar").val((resultado).toFixed(2));
                        $("#totaltotal").text((resultado).toFixed(2));
                        $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                    }
                    
                                      
                }

                if (other_amount > 0 && paid_driver == 0 && pay_amount > 0) {


                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());                                       
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) +  parseFloat(temp_driver) + parseFloat(tempwf);
                    var apagar1 = parseFloat(apagar) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
                    var result1 = parseFloat(apagar1) + parseFloat(temp_prepaid) + parseFloat(tempppwf);
                    var resultado = parseFloat(result1) + parseFloat(temp_driver) + parseFloat(tempwf);
                    var bd = parseFloat(result) - parseFloat(paid_driver); 
                    
                    if(op_pag_conduct == "3")  { 
                       
                       
                        $("#saldoporpagar").val((result).toFixed(2));                 
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((resultado).toFixed(2));
                        $("#totaltotal").text((resultado).toFixed(2));
                        $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                       setTimeout(function () {                               
                                  
                                  var balanceo = parseFloat($("#balance_due").val());
                                  var porcbal = balanceo*0.04;
                                  var tot_balance = parseFloat(balanceo) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                        
                     
                   }else{    
                    
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((resultado).toFixed(2));
                        $("#totaltotal").text((resultado).toFixed(2));
                        $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                       
                    }
                    
                    
                    
                }


                if (other_amount > 0 && paid_driver > 0 && pay_amount == 0) {
                    
                    var other_amount = parseFloat($("#otheramount").val());
                    var temp = parseFloat($("#temp").val());                    
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(temp_driver) + parseFloat(tempwf);
//                    var apagar1 = parseFloat(apagar) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
//                    var result1 = parseFloat(apagar1) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    var resultado = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) ;                    
                    var bd = parseFloat(result) - parseFloat(paid_driver);  
                    
                    if(op_pag_conduct == "3"){ 
                        
                        $("#saldoporpagar").val((result).toFixed(2));                 
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((resultado).toFixed(2));
                        $("#totaltotal").text((resultado).toFixed(2));
                        $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                        
                        
                    }else{    
                       
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));                       
                        $("#totalPagar").val((resultado).toFixed(2));
                        $("#totaltotal").text((resultado).toFixed(2));
                        $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                    }                   
                                        
                    
                    
                }


                if (other_amount > 0 && paid_driver > 0 && pay_amount > 0) {

                    var apagar = apagare;
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val()); 
                    var op_pag_conduct = parseFloat($("#selectcond").val());                           
                    var apagar_2 = parseFloat(other_amount);
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);          
                    //var apagar1 = parseFloat(apagar) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
                    //var result1 = parseFloat(apagar1) + parseFloat(temp);
                    var result1 = parseFloat(apagar) + parseFloat(tempppwf) + parseFloat(temp_prepaid);
                    var resultado = parseFloat(result1) + parseFloat(tempwf) + parseFloat(temp_driver);
                                       
                    var bd = parseFloat(result) - parseFloat(paid_driver);
                    var tot_amount_paid = parseFloat(paid_driver) + parseFloat(pay_amount);
                                       
                    var totalbalance = parseFloat(result) - parseFloat(paid_driver);    
                    
                    var agbd = (resultado - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);

                    
                                        
                        if (totalbalance < 0) {

                            alert('Payment exceeded');                   
                           
//                          $("#saldoporpagar").val((bal).toFixed(2));
//                          $("#paid_driver").val((bal).toFixed(2));
                            $("#balance_due").val(((result) - (paid_driver)).toFixed(2));
                            $("#totalPagar").val((resultado).toFixed(2));
                            $("#totaltotal").text((resultado).toFixed(2));
                            $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
                            $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));

                        }

                        if (totalbalance >= 0){
                            
                            if(op_pag_conduct == "3")  { 
                                
                                
                                $("#saldoporpagar").val((result).toFixed(2));                 
                                $("#balance_due").val((bd).toFixed(2));                                
                                $("#totalPagar").val((resultado).toFixed(2));
                                $("#totaltotal").text((resultado).toFixed(2));
                                $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
//                                $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                                $("#agency_balance_due").val((total).toFixed(2));
                                setTimeout(function () {                               
                                  
                                  var balanceo = parseFloat($("#balance_due").val());
                                  var porcbal = balanceo*0.04;
                                  var tot_balance = parseFloat(balanceo) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                                }, 0.01);
                                
                                
                               
                                

                            }else{    

                                $("#saldoporpagar").val((result).toFixed(2));
                                $("#balance_due").val((bd).toFixed(2));
                                $("#totalPagar").val((resultado).toFixed(2));
                                $("#totaltotal").text((resultado).toFixed(2));
                                $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                                $("#agency_balance_due").val((((resultado) - (paid_driver)) - (pay_amount)).toFixed(2));
                                $("#agency_balance_due").val((total).toFixed(2));
                            }
                        }
                    
       
                }


               document.getElementById('op_pago_id1').value = 0;

            }

            //CASH
            if (tipo_pago == 4) {
                
                var paid_driver = parseFloat($("#paid_driver").val());
                var pay_amount = parseFloat($("#pay_amount").val());               
                var other_amount = parseFloat($("#otheramount").val());


                if (pay_amount == 0 && paid_driver == 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                        console.log('temp = '+temp, 'temp_driver = '+temp_driver,'tempwf = '+tempwf,'temp_prepaid = '+temp_prepaid,'tempppwf = '+tempppwf,'op_pag_conduct = '+op_pag_conduct,'result = '+result);
                        
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == 3){
                        
                        setTimeout(function () {                               

                          var balance = parseFloat($("#balance_due").val());
                          var porcbal = balance*0.04;
                          var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                          $("#balance_due").val((tot_balance).toFixed(2));
                          $("#bal_duep").val((tot_balance).toFixed(2));                                  

                        }, 0.01);
                        
                    }
   
                }

                if (pay_amount == 0 && paid_driver > 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
//                    var result = parseFloat(apagar) + parseFloat(temp);
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                    }

                }

                if (pay_amount > 0 && paid_driver == 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;                 
                    var totalbalance = ((result) - (paid_driver)) - (pay_amount);

                    if (totalbalance < 0) {

                        var tembalance = 0;
                        $("#saldoporpagar").val((tembalance).toFixed(2));
                        $("#balance_due").val((tembalance).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));

                    } else {


                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                        }                        

                    }
                    
                }

                if (pay_amount > 0 && paid_driver > 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());                   
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    
                    var op_pag_conduct = parseFloat($("#selectcond").val());

                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                    }
                   

                }


                var other_amount = parseFloat($("#otheramount").val());

                if (other_amount > 0 && paid_driver == 0 && pay_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());               
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    //var other_amount = $("#otheramount").val();
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    //var apagar1 = parseFloat(apagar) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);
                    
                    if(op_pag_conduct == "3")  {                        
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));                        
                        
                       setTimeout(function () {                             
                                
                                var balance = parseFloat($("#balance_due").val());
                                var porcbal = balance*0.04;
                                var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                $("#balance_due").val((tot_balance).toFixed(2));
                                $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                
                       }, 0.01);                       
                       
                    }else{
                   
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));                        
                        
                    }
                    

                }


                if (other_amount > 0 && paid_driver == 0 && pay_amount > 0) {

                    var pay_amount = parseFloat($("#pay_amount").val());
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());              
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var apagar_2 = parseFloat(other_amount);                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver) ;                     
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);                   
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    if(op_pag_conduct == "3")  {
                    
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));

                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                    }else{
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));                                             
                        
                    }                   

                }

                if (other_amount > 0 && paid_driver > 0 && pay_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());            
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = $("#paid_driver").val();
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver); 
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);                    
                    var bd = parseFloat(result) - parseFloat(paid_driver);    
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    if(op_pag_conduct == "3")  {
                       
                       
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                      $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                        
                       
                    }else{
                    
                        $("#saldoporpagar").val((result).toFixed(2));                    
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2)); 
                        $("#totaltotal").text((res_total).toFixed(2));
//                      $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                    }                   
                    
                }




                if (other_amount > 0 && paid_driver > 0 && pay_amount > 0) {
                    
                    var apagar = apagare;
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());               
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = $("#paid_driver").val();
                    var apagar_2 = parseFloat(other_amount);                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);  
                    var tot_amount_paid = parseFloat(paid_driver) + parseFloat(pay_amount);
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                   
                    if (bd < 0) {

                            alert('Payment exceeded');                          
//                          $("#saldoporpagar").val((bal).toFixed(2));
//                          $("#paid_driver").val((bal).toFixed(2));
                            $("#balance_due").val((bd).toFixed(2));
                            $("#totalPagar").val((res_total).toFixed(2));
                            $("#totaltotal").text((res_total).toFixed(2));
                            $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                          $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                            $("#agency_balance_due").val((total).toFixed(2));

                        }
                        if(bd >= 0) {
                            
                            if(op_pag_conduct == "3")  {                                
                                
                                $("#saldoporpagar").val((result).toFixed(2));
                                $("#balance_due").val((bd).toFixed(2));
                                $("#totalPagar").val((res_total).toFixed(2));
                                $("#totaltotal").text((res_total).toFixed(2));
                                $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
//                              $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                                $("#agency_balance_due").val((total).toFixed(2));
                                
                                setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                                }, 0.01);                        
                       
                            }else{
//                                
                                $("#saldoporpagar").val((result).toFixed(2));                    
                                $("#balance_due").val((bd).toFixed(2));
                                $("#totalPagar").val((res_total).toFixed(2));
                                $("#totaltotal").text((res_total).toFixed(2));
                                $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                              $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                                $("#agency_balance_due").val((total).toFixed(2));
                            }

                        }                    

                }
                
                document.getElementById('op_pago_id1').value = 0;


            }


            if (tipo_pago == 9) {//CHECK                              


                var paid_driver = parseFloat($("#paid_driver").val());
                var pay_amount = parseFloat($("#pay_amount").val());
                var other_amount = parseFloat($("#otheramount").val());
                
                if (pay_amount == 0 && paid_driver == 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == 3){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                        }, 0.01);
                        
                    }


   
                }

                if (pay_amount == 0 && paid_driver > 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
//                    var result = parseFloat(apagar) + parseFloat(temp);
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                    }

                }

                if (pay_amount > 0 && paid_driver == 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;                 
                    var totalbalance = ((result) - (paid_driver)) - (pay_amount);

                    if (totalbalance < 0) {

                        var tembalance = 0;
                        $("#saldoporpagar").val((tembalance).toFixed(2));
                        $("#balance_due").val((tembalance).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));

                    } else {


                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                        }
                        

                    }
                    
                }

                if (pay_amount > 0 && paid_driver > 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());                   
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;
                    
                    var op_pag_conduct = parseFloat($("#selectcond").val());

                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                    }
                   

                }


                var other_amount = parseFloat($("#otheramount").val());

                if (other_amount > 0 && paid_driver == 0 && pay_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());               
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    //var other_amount = $("#otheramount").val();
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    //var apagar1 = parseFloat(apagar) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);
                    
                    if(op_pag_conduct == "3")  {
                        
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        
                        
                       setTimeout(function () {                               
                                
                                var balance = parseFloat($("#balance_due").val());
                                var porcbal = balance*0.04;
                                var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                $("#balance_due").val((tot_balance).toFixed(2));
                                $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                
                       }, 0.01);                       
                       
                    }else{
                   
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));                        
                        
                    }                    

                }


                if (other_amount > 0 && paid_driver == 0 && pay_amount > 0) {

                    var pay_amount = parseFloat($("#pay_amount").val());
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());              
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var apagar_2 = parseFloat(other_amount);                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver) ;                     
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);                   
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    if(op_pag_conduct == "3")  {
                    
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));

                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                    }else{
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                                             
                        
                    }
                   

                }

                if (other_amount > 0 && paid_driver > 0 && pay_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());            
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = $("#paid_driver").val();
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver); 
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);                    
                    var bd = parseFloat(result) - parseFloat(paid_driver);    
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    if(op_pag_conduct == "3")  {
                       
                       
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                      $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                        
                       
                    }else{
                    
                        $("#saldoporpagar").val((result).toFixed(2));                    
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2)); 
                        $("#totaltotal").text((res_total).toFixed(2));
//                      $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                    }                   
                    
                }

                if (other_amount > 0 && paid_driver > 0 && pay_amount > 0) {
                    
                    
                    var apagar = apagare;
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());               
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = $("#paid_driver").val();
                    var apagar_2 = parseFloat(other_amount);                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);  
                    var tot_amount_paid = parseFloat(paid_driver) + parseFloat(pay_amount);
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                   
                    if (bd < 0) {

                            alert('Payment exceeded');                   
                           
//                          $("#saldoporpagar").val((bal).toFixed(2));
//                          $("#paid_driver").val((bal).toFixed(2));
                            $("#balance_due").val((bd).toFixed(2));
                            $("#totalPagar").val((res_total).toFixed(2));
                            $("#totaltotal").text((res_total).toFixed(2));
                            $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                          $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                            $("#agency_balance_due").val((total).toFixed(2));

                        }
                        if(bd >= 0) {
                            
                            if(op_pag_conduct == "3")  {
                                
                                
                                $("#saldoporpagar").val((result).toFixed(2));
                                $("#balance_due").val((bd).toFixed(2));
                                $("#totalPagar").val((res_total).toFixed(2));
                                $("#totaltotal").text((res_total).toFixed(2));
                                $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
//                              $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                                $("#agency_balance_due").val((total).toFixed(2));
                                
                                setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                                }, 0.01);         

                        
                       
                            }else{
//                                
                                $("#saldoporpagar").val((result).toFixed(2));                    
                                $("#balance_due").val((bd).toFixed(2));
                                $("#totalPagar").val((res_total).toFixed(2));
                                $("#totaltotal").text((res_total).toFixed(2));
                                $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                              $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                                $("#agency_balance_due").val((total).toFixed(2));
                            }

                        }
                    

                }
                
                document.getElementById('op_pago_id1').value = 0;               
                 
            }

            if (tipo_pago == 8) {//CREDIT CARD NO FEE       
                
                var other_amount = $("#otheramount").val();
                var paid_driver = parseFloat($("#paid_driver").val());
                var pay_amount = parseFloat($("#pay_amount").val());
                var total_pagar = parseFloat($("#totalPagar").val());
                
                if (pay_amount == 0 && paid_driver == 0 && other_amount == 0) {
                    
                    var temp = parseFloat($("#temp").val());
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp);                   
                                       
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    
                    if(op_pag_conduct == "3"){                      
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));   
                                      $("#totalPagar").val((result).toFixed(2));

                        }, 0.01);
                        
                    }

                }

                if (pay_amount == 0 && paid_driver > 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var tempppwf = parseFloat($("#tempppwf").val());              
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf)  + parseFloat(temp_prepaid) + parseFloat(tempppwf);
                    
                    var agbd = (result - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
//                  $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#agency_balance_due").val((total).toFixed(2));

                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                    }

                }

                if (pay_amount > 0 && paid_driver == 0 && other_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());                        
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var result = parseFloat(apagar) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;                    
                    var totalbalance = ((result) - (paid_driver)) - (pay_amount);
                    var agbd = (result - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    var tot_amount_paid = parseFloat(paid_driver) + parseFloat(pay_amount);

                    if (totalbalance < 0) {

                        var tembalance = 0;
                        $("#saldoporpagar").val((tembalance).toFixed(2));
                        $("#balance_due").val((tembalance).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
                        
//                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));

                    } else {


                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#totalPagar").val((result).toFixed(2));
                        $("#totaltotal").text((result).toFixed(2));
                        $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
//                        $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                        if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                        
                        }
                        

                    }

                }

                if (pay_amount > 0 && paid_driver > 0 && other_amount == 0) {

                    
                    var temp = parseFloat($("#temp").val());
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());                   
                    var tempppwf = parseFloat($("#tempppwf").val());                   
                    var result = parseFloat(apagar) + parseFloat(temp_driver) + parseFloat(tempwf) + parseFloat(temp_prepaid) + parseFloat(tempppwf) ;                    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    var agbd = parseFloat(result) - (parseFloat(paid_driver) + parseFloat(pay_amount));                   
                    //var total = agbd - pay_amount;
                    var tot_amount_paid = parseFloat(paid_driver) + parseFloat(pay_amount);               
                                       
                    $("#saldoporpagar").val((result).toFixed(2));
                    $("#balance_due").val((agbd).toFixed(2));
                    $("#totalPagar").val((result).toFixed(2));
                    $("#totaltotal").text((result).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
//                    $("#agency_balance_due").val((((result) - (paid_driver)) - (pay_amount)).toFixed(2));
                    $("#agency_balance_due").val((agbd).toFixed(2));
                    
                    if(op_pag_conduct == "3"){
                        
                        setTimeout(function () {                               

                                      var balance = parseFloat($("#balance_due").val());
                                      var porcbal = balance*0.04;
                                      var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                      $("#balance_due").val((tot_balance).toFixed(2));
                                      $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);
                            
                    }                   
                    

                }

                var other_amount = parseFloat($("#otheramount").val());                
                
                if (other_amount > 0 && paid_driver == 0 && pay_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());
                    //var other_amount = $("#otheramount").val();
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    //var apagar1 = parseFloat(apagar) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);
                    
                    if(op_pag_conduct == "3")  {                        
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));                        
                        
                       setTimeout(function () {                               
                                
                                var balance = parseFloat($("#balance_due").val());
                                var porcbal = balance*0.04;
                                var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                $("#balance_due").val((tot_balance).toFixed(2));
                                $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                
                       }, 0.01);
                       
                       
                    }else{                   
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));                       
                        
                    }                    
                    
                }


                if (other_amount > 0 && paid_driver == 0 && pay_amount > 0) {

                    var pay_amount = parseFloat($("#pay_amount").val());
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());    
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var apagar_2 = parseFloat(other_amount);                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);                     
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);                   
                    var bd = parseFloat(result) - parseFloat(paid_driver);   
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                    if(op_pag_conduct == "3")  {
                    
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                      $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));

                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);
                        
                    }else{
                        
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));                     
                        
                    }


                }

                if (other_amount > 0 && paid_driver > 0 && pay_amount == 0) {

                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());   
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = $("#paid_driver").val();
                    var apagar_2 = parseFloat(other_amount);
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver); 
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);                    
                    var bd = parseFloat(result) - parseFloat(paid_driver);  
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);                    
                    
                    if(op_pag_conduct == "3")  {                       
                       
                        $("#saldoporpagar").val((result).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                        setTimeout(function () {                               
                                  
                                  var balance = parseFloat($("#balance_due").val());
                                  var porcbal = balance*0.04;
                                  var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                                  $("#balance_due").val((tot_balance).toFixed(2));
                                  $("#bal_duep").val((tot_balance).toFixed(2));                                  
                                 
                        }, 0.01);                        
                        
                       
                    }else{
                    
                        $("#saldoporpagar").val((result).toFixed(2));                    
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
//                        $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));
                        
                    }                   

                }


                if (other_amount > 0 && paid_driver > 0 && pay_amount > 0) {

                    //alert("aqui");
                    var apagar = apagare;
                    var temp = parseFloat($("#temp").val());
                    var temp_driver = parseFloat($("#temp_driver").val());
                    var tempwf = parseFloat($("#tempwf").val());                    
                    var temp_prepaid = parseFloat($("#temp_prepaid").val());
                    var tempppwf = parseFloat($("#tempppwf").val());                              
                    var op_pag_conduct = parseFloat($("#selectcond").val());                    
                    var pay_amount = parseFloat($("#pay_amount").val());
                    var paid_driver = $("#paid_driver").val();
                    var apagar_2 = parseFloat(other_amount);                    
                    var result = parseFloat(apagar_2) + parseFloat(tempwf) + parseFloat(temp_driver);
                    var res_total = parseFloat(apagar) + parseFloat(tempwf) + parseFloat(temp_driver) + parseFloat(tempppwf) + parseFloat(temp_prepaid);  
                    var tot_amount_paid = parseFloat(paid_driver) + parseFloat(pay_amount);
                    var bd = parseFloat(result) - parseFloat(paid_driver); 
                    var agbd = (res_total - paid_driver).toFixed(2);                   
                    var total = parseFloat(agbd) - parseFloat(pay_amount);
                    
                   
                    if (bd < 0) {

                        //alert('');                   

//                          $("#saldoporpagar").val((bal).toFixed(2));
//                          $("#paid_driver").val((bal).toFixed(2));
                        $("#balance_due").val((bd).toFixed(2));
                        $("#totalPagar").val((res_total).toFixed(2));
                        $("#totaltotal").text((res_total).toFixed(2));
                        $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                            $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                        $("#agency_balance_due").val((total).toFixed(2));

                    }
                    
                    if(bd >= 0) {
                            
                        if(op_pag_conduct == "3")  {                              

                            $("#saldoporpagar").val((result).toFixed(2));
                            $("#balance_due").val((bd).toFixed(2));
                            $("#totalPagar").val((res_total).toFixed(2));
                            $("#totaltotal").text((res_total).toFixed(2));
                            $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
//                                $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                            $("#agency_balance_due").val((total).toFixed(2));

                            setTimeout(function () {                               

                              var balance = parseFloat($("#balance_due").val());
                              var porcbal = balance*0.04;
                              var tot_balance = parseFloat(balance) + parseFloat(porcbal);          

                              $("#balance_due").val((tot_balance).toFixed(2));
                              $("#bal_duep").val((tot_balance).toFixed(2));                                  

                            }, 0.01);


                        }else{
//                              
                            //alert(apagar);
                            $("#saldoporpagar").val((result).toFixed(2));                    
                            $("#balance_due").val((bd).toFixed(2));
                            $("#totalPagar").val((res_total).toFixed(2));
                            $("#totaltotal").text((res_total).toFixed(2));
                            $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));   
//                                $("#agency_balance_due").val((((res_total) - (paid_driver)) - (pay_amount)).toFixed(2));
                            $("#agency_balance_due").val((total).toFixed(2));

                        }

                    }               


                }

                document.getElementById('op_pago_id1').value = 0;

            }


        }        
       

        if ($("#fin_calculo").val() == "false") {
            /**/
            var diferencia;

            if (otheramount != 0) {
                diferencia = otheramount - pagado;
            } else {
                diferencia = apagar - pagado;
            }
            if (diferencia > 0) {
                $('#saldoporpagar').html((diferencia).toFixed(2));
//                $('#txtamountpendiente').html('Amount to Collect $');                
//                $('#txtamountpendiente').css('color', '#F00');
                $('#Passenger_Balance_Due').html('Passenger Balance Due $');
                $('#Passenger_Balance_Due').css('color', '#F00');

            } else if (diferencia == 0) {
                $('#saldoporpagar').html((diferencia).toFixed(2));
//                $('#txtamountpendiente').html('Amount to Collect $');
//                $('#txtamountpendiente').css('color', '#666666');
                $('#Passenger_Balance_Due').html('Passenger Balance Due $');
                $('#Passenger_Balance_Due').css('color', '#666666');

            } else {
                $('#saldoporpagar').html((diferencia * -1).toFixed(2));
//                $('#txtamountpendiente').html('Amount to Collect $');
//                $('#txtamountpendiente').css('color', '#00F');
                $('#Passenger_Balance_Due').html('Passenger Balance Due $');
                $('#Passenger_Balance_Due').css('color', '#00F');
            }

            if (tipo_pago == 1 || tipo_pago == 2) {
                if (diferencia <= 0) {
                    $('#enviarF').css('display', 'none');
                    $('#btn-save1').css('display', 'block');
                    $('#btn-save2').css('display', 'block');
                } else {
                    $('#enviarF').css('display', 'block');
//                $('#btn-save1').css('display','none');
//                $('#btn-save2').css('display','none');
                }
            } else {
                $('#enviarF').css('display', 'none');
                $('#btn-save1').css('display', 'block');
                $('#btn-save2').css('display', 'block');
            }
        }

    }


    $('#opcion_saldo1, #opcion_saldo2').change(function () {
        if ($(this).get(0).id == 'opcion_saldo1') {
            $('#opcion_pago_saldo').val('1');
        } else if ($(this).get(0).id == 'opcion_saldo2') {
            $('#opcion_pago_saldo').val('2');
        }
        CalcularTotalTotal();
    });

    $('#opcion_pago_passager, #opcion_pago_agency, #opcion_pago_predpaid_cash,#opcion_pago_complementary,#opcion_pago_CrediFee, #opcion_pago_Cash,#opcion_pago_Voucher').change(function (e) {
        CalcularTotalTotal();
    });
    function estadoTrip() {
        $("#mensajeTrip").load('<?php echo $data['rootUrl']; ?>admin/reservas/consultatrip');
    }
    function estadoPago() {
        $("#estadoTranssacion").load('<?php echo $data['rootUrl']; ?>transaction/admin/reserva/pago');
    }
    function detalles_rastro(id) {
        $("#conten_rastro").load(encodeURI('<?php echo $data['rootUrl']; ?>admin/reservas/rastro_detalles/' + id));

        $("#dialog_message_rastro").dialog({
            modal: false,
            width: 600,
            buttons: {
                Ok: function () {
                    $(this).dialog("close");
                }
            }
        });
    }
    $("#bnt-trips").click(function () {
        var posicion = $(this).position();
        mosrtarTrips(posicion.left, posicion.top);
    });
    function mosrtarTrips(left, top) {
        $("#dialog_states__trips").dialog({
            autoOpen: false,
            width: 300,
            height: 300,
            show: {
                effect: "blind",
                duration: 1000
            },
            hide: {
                effect: "blind",
                duration: 1000
            },
            position: [left - 260, top + 50],
        });
        $("#states__trips_conte").empty().html('<img src="<?php echo $data['rootUrl']; ?>global/images/loading.gif"   width="100px" height="100px" id="gif"/>');
        $("#states__trips_conte").load('<?php echo $data['rootUrl']; ?>admin/reservas/estado_trips');
        $("#dialog_states__trips").dialog("open");
    }
    $("#bnt-trips").click(function () {
        var posicion = $(this).position();
        mosrtarTrips(posicion.left, posicion.top);
    });
    function preguntaTrip() {
        var idre = '<?php echo $reserva->id?>';
        $("#dialog-trip-pregunta").dialog({
            resizable: false,
            height: 250,
            modal: true,
            buttons: {
                "YES": function () {
                    $("#puestosEnUso").load("<?php echo $data['rootUrl']; ?>admin/reservas/ocuparPuestoUsuario/2");
                    $(this).dialog("close");
                },
                'NOT': function () {
                    $("#puestosEnUso").load("<?php echo $data['rootUrl']; ?>admin/reservas/ocuparPuestoUsuario/4");
                    $(this).dialog("close");
                    window.location="<?php echo $data['rootUrl']; ?>admin/reservas/edit/"+idre+" ";
                }
            }
        });
    }
    $("#transporadult").html("$ <?php echo $transporadult; ?>");
    $("#transporechil").html("$ <?php echo $transporechil; ?>");
    $("#subtoadult").html("$ <?php echo $subtoadult; ?>");
    $("#subtochild").html("$ <?php echo $subtochild; ?>");
    $("#totaltotal").html("$ <?php echo $totaltotal; ?>");
    $("#extenadult").html("$ <?php echo $reserva->pax * $precioExt; ?>");
    $("#extenchil").html("$ <?php echo $reserva->pax2 * $precioExt; ?>");
    $("#disponible").val('<?php echo $disponible; ?>');

    $("#extra").val('<?php echo $reserva->extra_charge; ?>');
    CalcularTotalTotal();

<?php echo $adaptacion; ?>

<?php if ($reserva->tipo_ticket == 'oneway') { ?>

        //$("#fecha_retorno").attr("disable", true);
        //$("#from2").attr("disabled",true);
        //$("#from2").attr("readonly", "readonly");
        //$("#fecha_retorno").attr("readonly", "readonly");
        //$("#pickup2").attr("readonly", "readonly");
        //$("#dropoff2").attr("readonly", "readonly");
        //$("#arrival2").attr("readonly", "readonly");
        //$("#to2").attr("readonly", "readonly");
        //$("#ext_from2").attr("disabled","disabled");
        //$("#ext_to2").attr("disabled", "disabled");
        $("#departure2").attr("readonly", "readonly");
        //$("#room2").attr("readonly", "readonly");
        //$("#exten3").attr("readonly", "readonly");
        //$("#exten4").attr("readonly", "readonly");
        $("#trip_no2").html("");
        $("#departure2").html("");
        $("#arrival2").html("");
<?php } ?>
    $(function () {
//    setInterval(function(){
//        CalcularTotalTotal();
//        console.log('calculando');
//    },500);
        $("#uagency, #agency").change(function () {
            if (trim($("#uagency").val()).length == 0) {
                console.log('limpiado');
                $("#id_auser").val("-1");
            }
        });
    });


    var ttt = <?php echo $totaltotal; ?>;
    //$("#totaltotal").html("$ " + (ttt).toFixed(2));
//    $("#totalPagar").html("$ " + (ttt).toFixed(2));    
    // $("#totalPagar").val((ttt).toFixed(2));
    var porp = <?php echo $saldoxPagar; ?>;
    $('#saldoporpagar').html((porp).toFixed(2));

</script>
<script>

    var z;
    function capturar()
    {
        var resultado = "ninguno";

        var porNombre = document.getElementsByName("tipo_ticket");
        // Recorremos todos los valores del radio button para encontrar el
        // seleccionado
        for (var i = 0; i < porNombre.length; i++)
        {
            if (porNombre[i].checked)
                resultado = porNombre[i].value;

        }

        //document.getElementById("resultado").innerHTML=" \
        //Value: "+resultado;
        z = document.getElementById("resultado").innerHTML = " \ " + resultado;


    }
</script>

<!--<script type="text/javascript">
    var int=self.setInterval("refresh()",100);
    function refresh()
    {
        location.reload(true);
    }
</script>-->


<script languague="javascript">

    function ocultarmenu() {
        div = document.getElementById('menu-bar');
        div.style.display = 'none';
        div2 = document.getElementById('hd-menu');
        div2.style.display = 'none';
    }

</script>

<script languague="javascript">

    function cambiarfondo() {

//    alert('cambio fondo');
//    exit();
        $('#header_page').style = "background-image: url('<?php echo $data['rootUrl'] ?>global/img/bg3.jpg');";

    }

</script>

<script type="text/javascript">

    function comprobarScreen()
    {
        
 //        window.moveTo(0, 0);
	// window.resizeTo(screen.width, screen.height);
 //        window.fullScreen;
        
 //        if (window.screen.availWidth <= 640) {
 //            window.parent.document.body.style.zoom = "62%";
 //        }

 //        if (window.screen.availWidth == 800) {
 //            window.parent.document.body.style.zoom = "70%";
 //            document.getElementById("save2").style.marginTop = "-59px";
 //        }
        
 //        if (window.screen.availWidth == 960) {
 //            window.parent.document.body.style.zoom = "-50%";
 //        } 
        
 //        if (window.screen.availWidth == 1024) {
 //            window.parent.document.body.style.zoom = "80%";
 //            document.getElementById("save2").style.marginTop = "-1183px";
 //        }
        
 //        if (window.screen.availWidth == 1152) {
 //            window.parent.document.body.style.zoom = "90%";
 //            document.getElementById("save2").style.marginTop = "-173px";
 //            document.getElementById("btn-save2").style.marginLeft = "-113px";
 //        }
        
 //        if (window.screen.availWidth == 1280) {
 //            window.parent.document.body.style.zoom = "100%";
 //            document.getElementById("save2").style.marginTop = "-1240px";

 //        }
        
 //        if (window.screen.availWidth == 1360) {
 //            window.parent.document.body.style.zoom = "100%";
 //            document.getElementById("save2").style.marginTop = "-1240px";
 //        } 
        
 //        if (window.screen.availWidth == 1366) {
 //            window.parent.document.body.style.zoom = "100%";   
 //            document.getElementById("save2").style.marginTop = "-1434px";

 //        }

 //        if (window.screen.availWidth == 1440) {
 //            window.parent.document.body.style.zoom = "110%";
 //            document.getElementById("save2").style.marginTop = "-1242px";
 //        }

 //        if (window.screen.availWidth == 1600) {
 //            window.parent.document.body.style.zoom = "125%";
 //            document.getElementById("save2").style.marginTop = "-1242px";
 //        }

 //        if (window.screen.availWidth == 1680) {
 //            window.parent.document.body.style.zoom = "125%";
 //            document.getElementById("save2").style.marginTop = "-1210px";
 //        }
        
 //        if (window.screen.availWidth > 1680) {
 //            window.parent.document.body.style.zoom = "125%";
 //            document.getElementById("save2").style.marginTop = "-1761px";
 //        }
    }

</script>

<script type="text/javascript">

    function resetextra()
    {

        var extra_cargo = document.getElementById('extra').value;


        if (extra_cargo == "") {
            
            setTimeout(function () {

                document.getElementById('extra').value = '0.00';
                document.getElementById('extrap').value = document.getElementById('extra').value;

                //$('#paid_driver').click();    
                CalcularTotalTotal();
                $("#extra").focus(); 
                
            }, 2000);    
            

        }
        
        if (extra_cargo == "0") {
            
            setTimeout(function () {

            document.getElementById('extra').value = "0.00";
            document.getElementById('extrap').value = document.getElementById('extra').value;

            //$('#paid_driver').click();   
            CalcularTotalTotal();
            $("#extra").focus(); 
            
            }, 2000);


        }

        if (extra_cargo > "0") {

            setTimeout(function () {

                document.getElementById('extrap').value = document.getElementById('extra').value;

                //$('#paid_driver').click();
                CalcularTotalTotal();                

             }, 3000);
             
             $("#extra").focus();

        }
    }

</script>


<script type="text/javascript">

    function desval()
    {


        var dcval = document.getElementById('descuento_valor').value;

        if (dcval == "") {

            setTimeout(function () {
             
                document.getElementById('descuento_valor').value = "0.00";
                document.getElementById('descuento_valorp').value = document.getElementById('descuento_valor').value;

                CalcularTotalTotal();
                $("#descuento_valor").focus();
          
            }, 2000);
            
        }



        if (dcval == "0") {
            
            setTimeout(function () {  

            document.getElementById('descuento_valor').value = "0.00";
            document.getElementById('descuento_valorp').value = document.getElementById('descuento_valor').value;
            
            CalcularTotalTotal();          
            $("#descuento_valor").focus();
            
            }, 2000); 

        }
        
        if (dcval > "0") {                           

           setTimeout(function () {                                

                document.getElementById('descuento_valorp').value = document.getElementById('descuento_valor').value;

                CalcularTotalTotal();

           }, 3000);                          

            $("#descuento_valor").focus();

        }  


    }
</script>


<script type="text/javascript">

    function desporc()
    {


        var dcporc = document.getElementById('descuento').value;

        if (dcporc == "") {

            document.getElementById('descuento').value = "0";
            document.getElementById('descuentop').value = document.getElementById('descuento').value;
                                                      
            //$('#paid_driver').click();
            CalcularTotalTotal();
            $("#descuento").focus();
        }



        if (dcporc == "0") {

            document.getElementById('descuento').value = "0";

            document.getElementById('descuentop').value = document.getElementById('descuento').value;
                                                
            //$('#paid_driver').click();
            CalcularTotalTotal();
            $("#descuento").focus();
        }
        
        if (dcporc > "0") {
                            
            setTimeout(function () {

            document.getElementById('descuentop').value = document.getElementById('descuento').value;

            //$('#paid_driver').click(); 
            CalcularTotalTotal();
            $("#descuento").focus();

            }, 0.01);

        }


    }
</script>

<script type="text/javascript">

    function estado_roundtrip()
    {

        var est_rnd = document.getElementById('estado_round').value;
        document.getElementById('estado_roundtrip').value = est_rnd;   
        
         //CONFIRMED
        if(est_rnd == 1){ 
            
           document.getElementById('estado_roundtrip').style.background = "#98FB98"; 
           document.getElementById('estado_roundtrip').style.color = "#000";
           document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";
        
        //CANCELED
        }else if(est_rnd == 4){ 
            
           document.getElementById('estado_roundtrip').style.background = "#DC143C";  
           document.getElementById('estado_roundtrip').style.color = "#FFFFFF";
           document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";
           
        //CANCELED W/FEE   
       }else if(est_rnd == 5){ 
            
           document.getElementById('estado_roundtrip').style.background = "#E93F2E";  
           document.getElementById('estado_roundtrip').style.color = "#FFFFFF";
           document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

        
        //NO SHOW
        }else if(est_rnd == 2){ 
            
           document.getElementById('estado_roundtrip').style.background = "#00BFFF";  
           document.getElementById('estado_roundtrip').style.color = "#000";
           document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";
        
        //NO SHOW W/FEE
        }else if(est_rnd == 3){ 
            
           document.getElementById('estado_roundtrip').style.background = "#ADD8E6";  
           document.getElementById('estado_roundtrip').style.color = "#000";
           document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";

        //OPEN W/FEE
        }else if(est_rnd == 6){ 
            
           document.getElementById('estado_roundtrip').style.background = "#F0E68C";  
           document.getElementById('estado_roundtrip').style.color = "#000";
           document.getElementById('estado_roundtrip').style.border = "2px solid #FFFFFF";
                        
        }




    }
</script>

<script type="text/javascript">

    function estado_oneway()
    {

        var est_one = document.getElementById('estado_one').value;
        document.getElementById('estado_oneway').value = est_one;  
        
        //CONFIRMED
        if(est_one == 1){ 
            
           document.getElementById('estado_oneway').style.background = "#98FB98"; 
           document.getElementById('estado_oneway').style.color = "#000";
           document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";
        
        //CANCELED
        }else if(est_one == 4){ 
            
           document.getElementById('estado_oneway').style.background = "#DC143C";  
           document.getElementById('estado_oneway').style.color = "#FFFFFF";
           document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";
           
        //CANCELED W/FEE   
       }else if(est_one == 5){ 
            
           document.getElementById('estado_oneway').style.background = "#E93F2E";  
           document.getElementById('estado_oneway').style.color = "#FFFFFF";
           document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";

        
        //NO SHOW
        }else if(est_one == 2){ 
            
           document.getElementById('estado_oneway').style.background = "#00BFFF";  
           document.getElementById('estado_oneway').style.color = "#000";
           document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";
        
        //NO SHOW W/FEE
        }else if(est_one == 3){ 
            
           document.getElementById('estado_oneway').style.background = "#ADD8E6";  
           document.getElementById('estado_oneway').style.color = "#000";
           document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";

        //OPEN W/FEE
        }else if(est_one == 6){ 
            
           document.getElementById('estado_oneway').style.background = "#F0E68C";  
           document.getElementById('estado_oneway').style.color = "#000";
           document.getElementById('estado_oneway').style.border = "2px solid #FFFFFF";
                        
        }


    }
</script>



<script type="text/javascript">
    /**
     * Función que solo permite la entrada de numeros, un signo negativo y
     * un punto para separar los decimales
     */
    function soloNumeros(e)
    {
        // capturamos la tecla pulsada
        var teclaPulsada=window.event ? window.event.keyCode:e.which;
 
        // capturamos el contenido del input
        var valor=document.getElementById("saldoporpagar").value;
        // console.log(teclaPulsada);
        
        // 45 = tecla simbolo menos (-)
        // Si el usuario pulsa la tecla menos, y no se ha pulsado anteriormente
        // Modificamos el contenido del mismo añadiendo el simbolo menos al
        // inicio
//        if(teclaPulsada==45 && valor.indexOf("-")==-1)
//        {
//            document.getElementById("saldoactual").value="-"+valor;
//        }
 
        // 13 = tecla enter
        // 46 = tecla punto (.)
        // Si el usuario pulsa la tecla enter o el punto y no hay ningun otro
        // punto
        if(teclaPulsada==13 || (teclaPulsada==46 && valor.indexOf(".")==-1))
        {
            return true;
        }
 
        // devolvemos true o false dependiendo de si es numerico o no
        return /\d/.test(String.fromCharCode(teclaPulsada));
    }
    </script>
    
    <script type="text/javascript">
    /**
     * Función que solo permite la entrada de numeros, un signo negativo y
     * un punto para separar los decimales
     */
    function solopagodriver(e)
    {
        // capturamos la tecla pulsada
        var teclaPulsada=window.event ? window.event.keyCode:e.which;
 
        // capturamos el contenido del input
        
        var valor=document.getElementById("pago_driver").value;
        
        // 45 = tecla simbolo menos (-)
        // Si el usuario pulsa la tecla menos, y no se ha pulsado anteriormente
        // Modificamos el contenido del mismo añadiendo el simbolo menos al
        // inicio
//        if(teclaPulsada==45 && valor.indexOf("-")==-1)
//        {
//            document.getElementById("saldoactual").value="-"+valor;
//        }
 
        // 13 = tecla enter
        // 46 = tecla punto (.)
        // Si el usuario pulsa la tecla enter o el punto y no hay ningun otro
        // punto
        if(teclaPulsada==13 || (teclaPulsada==46 && valor.indexOf(".")==-1))
        {
            return true;
        }
 
        // devolvemos true o false dependiendo de si es numerico o no
        return /\d/.test(String.fromCharCode(teclaPulsada));
    }
    </script>

<script type="text/javascript">
    /**
     * Función que solo permite la entrada de numeros, un signo negativo y
     * un punto para separar los decimales
     */
    function solodescuento(e)
    {
        // capturamos la tecla pulsada
        var teclaPulsada=window.event ? window.event.keyCode:e.which;
 
        // capturamos el contenido del input
        
        var valor=document.getElementById("descuento_valor").value;
        
        // 45 = tecla simbolo menos (-)
        // Si el usuario pulsa la tecla menos, y no se ha pulsado anteriormente
        // Modificamos el contenido del mismo añadiendo el simbolo menos al
        // inicio
//        if(teclaPulsada==45 && valor.indexOf("-")==-1)
//        {
//            document.getElementById("saldoactual").value="-"+valor;
//        }
 
        // 13 = tecla enter
        // 46 = tecla punto (.)
        // Si el usuario pulsa la tecla enter o el punto y no hay ningun otro
        // punto
        if(teclaPulsada==13 || (teclaPulsada==46 && valor.indexOf(".")==-1))
        {
            return true;
        }
 
        // devolvemos true o false dependiendo de si es numerico o no
        return /\d/.test(String.fromCharCode(teclaPulsada));
    }
    </script>
    
    <script type="text/javascript">
    /**
     * Función que solo permite la entrada de numeros, un signo negativo y
     * un punto para separar los decimales
     */
    function descuentoporc(evt)
    {
//        function validate(evt) {
            var theEvent = evt || window.event;
            var key = theEvent.keyCode || theEvent.which;
            key = String.fromCharCode(key);
            var regex = /[0-9]/;
            if (!regex.test(key)) {
                theEvent.returnValue = false;
                if (theEvent.preventDefault)
                    theEvent.preventDefault();
           }
    }
    </script>
    
    <script type="text/javascript">
    /**
     * Función que solo permite la entrada de numeros, un signo negativo y
     * un punto para separar los decimales
     */
    function soloextra(e)
    {
        // capturamos la tecla pulsada
        var teclaPulsada=window.event ? window.event.keyCode:e.which;
 
        // capturamos el contenido del input
        
        var valor=document.getElementById("extra").value;
        
        // 45 = tecla simbolo menos (-)
        // Si el usuario pulsa la tecla menos, y no se ha pulsado anteriormente
        // Modificamos el contenido del mismo añadiendo el simbolo menos al
        // inicio
//        if(teclaPulsada==45 && valor.indexOf("-")==-1)
//        {
//            document.getElementById("saldoactual").value="-"+valor;
//        }
 
        // 13 = tecla enter
        // 46 = tecla punto (.)
        // Si el usuario pulsa la tecla enter o el punto y no hay ningun otro
        // punto
        if(teclaPulsada==13 || (teclaPulsada==46 && valor.indexOf(".")==-1))
        {
            return true;
        }
 
        // devolvemos true o false dependiendo de si es numerico o no
        return /\d/.test(String.fromCharCode(teclaPulsada));
    }
    </script>
    
    <script type="text/javascript">
    
    function checkDecimals(fieldName, fieldValue) {

    decallowed = 2; // how many decimals are allowed?

    if (isNaN(fieldValue) || fieldValue == "") {
        alert("The number is not valid Try again.");
        fieldName.select();
        fieldName.focus();
    }
    else {
    if (fieldValue.indexOf('.') == -1) fieldValue += ".";
    dectext = fieldValue.substring(fieldValue.indexOf('.')+1, fieldValue.length);

    if (dectext.length > decallowed)
    {
        alert ("Por favor, digita un número con " + decallowed + " números decimales.");
        fieldName.select();
        fieldName.focus();
          }
    else {
    alert ("Número validado satisfactoriamente.");
          }
       }
    }
    // End -->
    </script>

    
    <script type="text/javascript">
    
    function valida_clase(){        
        
        $('#paid_driver').click();       
    
    }
    
    </script>
    
    
    <script type="text/javascript">
    
    function valida_clase2(){        
               
        $('#pay_amount').click();            
    
    }
    
    </script>
    
    <script type="text/javascript">
    
    function valida_pago(obj,abc){
    
    //valida la clase activa en el pago al conductor
    //alert($(obj).attr('class'));
    
    //alert($(obj).attr('class'));
//    var balance_due = document.getElementById('balance_due').value;
//    
//    if(balance_due == "0"){
//        
//        alert("Este pago no puede ser Procesado");
//        Exit();
//    
//    }
        if($(obj).attr('class')=="flashit"){
//            alert("Hay un Pago pendiente Por Guardar");
//            Exit();

        }
        
    
    }
    
    </script>
    
    <script type="text/javascript">
    
    //valida la clase activa en el pago prepagado
    function valida_pago2(obj,def){
        
    //alert($(obj).attr('class'));    
       
//    var agency_balance_due = document.getElementById('agency_balance_due').value;
//    
//    if(agency_balance_due == "0"){
//        
//        alert("Este pago no puede ser Procesado");
//        Exit();
//    
//    }
    
        if($(obj).attr('class')=="flashit2"){
//            alert("Hay un Pago pendiente Por Guardar");
//            Exit();

        }    
    
    
    }
    
    </script>
    
    <script type="text/javascript"> 
       function redondea(sVal, nDec){ 
           
        var n = parseFloat(sVal); 
        var s = ""; 
        
//        setTimeout(function () {
            if (!isNaN(n)){ 
             n = Math.round(n * Math.pow(10, nDec)) / Math.pow(10, nDec); 
             s = String(n); 
             s += (s.indexOf(".") == -1? ".": "") + String(Math.pow(10, nDec)).substr(1); 
             s = s.substr(0, s.indexOf(".") + nDec + 1); 
                } 
                return s; 
//          }, 2000);
        } 

       function ponDecimales(nDec){ 
          
        setTimeout(function () {
           
        //document.formula.pago_driver.value = redondea(document.formula.pago_driver.value, nDec); 
        document.formula.descuento_valor.value = redondea(document.formula.descuento_valor.value, nDec); 
        document.formula.extra.value = redondea(document.formula.extra.value, nDec);
        document.formula.saldoporpagar.value = redondea(document.formula.saldoporpagar.value, nDec); 
//        document.formula.balance_due.value = redondea(document.formula.balance_due.value, nDec); 
        
         }, 1500);
       
       } 
    </script> 
<script type="text/javascript">
    
    function valida_voucher(){
        
    var idagencia = document.getElementById('idagencia').value;       
        if(idagencia == "1"){    
           document.getElementById('op_pago_conductor')[4].disabled = false; 
           //document.getElementById('op_pago_conductor').options[5].disabled = true;           
       }else{     
        document.getElementById('op_pago_conductor')[4].style.display = 'none';  
           document.getElementById('op_pago_conductor')[4].disabled = true;        
       }   

    }
    
</script>    

<script type="text/javascript">
    
    function facturado() {
        
        var estado = "<?php echo $reserva->estado; ?>";
        
        if (estado == 'INVOICED'){            
            document.getElementById('invoice').style.display = "";
            document.getElementById('lbl_invoice').style.display = "";
            document.getElementById('lbl_creation').style.display = "";
            document.getElementById('facturas').style.background = "#F5F5F5";            
        }else{            
            document.getElementById('invoice').style.display = "none";
            document.getElementById('lbl_invoice').style.display = "none";
            document.getElementById('lbl_creation').style.display = "none";
            document.getElementById('facturas').style.background = "#FFFFFF";
        }

    
    }
    
</script>

<script>
    $(function () {
        function mosrtarRastro(left, top) {

            $("#dialog").dialog({
                autoOpen: false,
                width: 300,
                height: 300,
                show: {
                    effect: "blind",
                    duration: 1000
                },
                hide: {
                    effect: "blind",
                    duration: 1000
                },
                position: [left - 676, top + 80],
            });
            $("#dialog").dialog("open");
        }
        $("#btn-rastro").click(function () {
            var posicion = $(this).position();
            mosrtarRastro(posicion.left, posicion.top);
        });

    });
</script>

<script>
    $(function () {
        function mostrarPagos(left, top) {

            $("#dialog2").dialog({
                autoOpen: false,
                width: 580,
                height: 150,
                show: {
                    effect: "blind",
                    duration: 1000
                },
                hide: {
                    effect: "blind",
                    duration: 1000
                },
                position: [left - 676, top + 80],
            });
            $("#dialog2").dialog("open");     
            
            
        }
        $("#btn-pagos").click(function () {
            var posicion = $(this).position();
            mostrarPagos(posicion.left, posicion.top);
        });
        
        
    });               
                    
                
</script>


<script>
    $(function () {
        function mostrarPagos2(left, top) {

            $("#dialog2").dialog({
                autoOpen: false,
                width: 580,
                height: 150,
                show: {
                    effect: "blind",
                    duration: 1000
                },
                hide: {
                    effect: "blind",
                    duration: 1000
                },
                position: [left - 750, top - 1205],
            });
            $("#dialog2").dialog("open");    
            
        }
                
        $("#btn-pagos2").click(function () {
            var posicion = $(this).position();
            mostrarPagos2(posicion.left, posicion.top);
        });

    });               
                    
                
</script>



<script type="text/javascript">
    
    function sur_2015()
    {     
        var fecha_creacion = "<?php echo $fecha_crea; ?>";
        
         if(fecha_creacion < '2018-05-31'){       
            document.getElementById('sur2015').style.display = "";         
         }else{           
            document.getElementById('sur2015').style.display = "none";
         }  
        
    }

</script>

<script type="text/javascript">
    
    function residente() {        
        document.getElementById('resident').value = document.getElementById('tipo_pass').value;
    }

</script>


<script type="text/javascript">
    
    function remover_fila() {
        
        var id_item = $('input[name="item"]:checked').val(); 
        
        document.getElementById('rad'+id_item).style.color = "transparent";
        document.getElementById('rad'+id_item).style.cursor = "auto";
        document.getElementById('metodo'+id_item).style.color = "transparent";
        document.getElementById('metodo'+id_item).style.cursor = "auto";
        document.getElementById('tipo'+id_item).style.color = "transparent";
        document.getElementById('tipo'+id_item).style.cursor = "auto";
        document.getElementById('pag'+id_item).style.color = "transparent";
        document.getElementById('pag'+id_item).style.cursor = "auto";
        document.getElementById('fecha'+id_item).style.color = "transparent";
        document.getElementById('fecha'+id_item).style.cursor = "auto";
        document.getElementById(id_item).style.display = 'none';   
    
    
    }
    
    function oculta_btnpagos() {
        
        var paid_driver_copy = document.getElementById('paid_driver_copy').value; 
        var pay_amount_copy = document.getElementById('pay_amount_copy').value;
        
        if(paid_driver_copy == '0.00' && pay_amount_copy == '0.00'){            
            document.getElementById('histo_pagos').style.display = "none"; 
            document.getElementById('labelpay').style.display = "none";

            
        }else{            
            document.getElementById('histo_pagos').style.display = ""; 
            document.getElementById('labelpay').style.display = "";

        }        
            
    }
    
    
    $("#btn_remove_cob").click(function(){   
        
        document.getElementById('btn_remove_cob').style.display = "none"; 
                       
        var id_reserva = "<?php echo $reserva->id; ?>"; 
        var fecha_actual = "<?php echo $fecha_actual; ?>";
        var usuario = "<?php echo $usuario; ?>";
        //variable inicializada en cero para ir incrementando los Fee de los pagos a Eliminar        
        
        var id_item = $('input[name="item"]:checked').val();        
                
        $("#id_radio").val(id_item);
        
        
        //var descuento_temporal = $("#descuento_temporal").val();       
        var id_radio = $("#id_radio").val();        
        var valor_pagado = $("#pago_tabla").val();        
        var metodo_pago = $("#metodo_pago_tabla").val();        
        var tipo_pago = $("#tipo_pago_tabla").val();        
        var paid_driver = $("#paid_driver").val();        
        var pay_amount = $("#pay_amount").val();        
        var saldoporpagar = $("#saldoporpagar").val();       
        var totalPagar = $("#totalPagar").val();        
        var temp = $("#temp").val();        
        var otheramount = "<?php echo $otheramount; ?>";        
        var prepaid = "<?php echo $pred_paid_amount; ?>";
            
        if(id_radio == ''){            
            alert("Select the Payment to Remove");            
            //exit;            
        }else{
        
        //****************************************COLLECT ON BOARD***********************************************        
                   
        
         if(metodo_pago == 'COLLECT ON BOARD' && tipo_pago == 'CREDIT CARD WITH FEE' && otheramount == '0.00' && pay_amount >= '0.00'){
                                      
            var tempo = $("#temp").val();                 
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val(); 
            var extra = $("#extra").val(); 
            //var desc_temporal = $("#descuento_temporal").val();      
            var valor_pagado = $("#pago_tabla").val();   
            var paid_driver = $("#paid_driver").val();
            var saldoporpagar = $("#saldoporpagar").val();
            var totalPagar = $("#totalPagar").val();
            var pay_amount = $("#pay_amount").val();  
            var result_paid_driver = parseFloat(paid_driver) - parseFloat(valor_pagado); 
            var tot_amount_paid = parseFloat(result_paid_driver) + parseFloat(pay_amount);            
            var fee =  (parseFloat(valor_pagado) - parseFloat(valor_pagado/1.04)).toFixed(2); 
            var res_temp = parseFloat(tempo) - parseFloat(fee);   
            var collect = result_paid_driver;       
            var totpagar = parseFloat(totalPagar) - parseFloat(fee);
            var apagare1 = apagare;     
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);  
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);  
            
            var fee_temporal = (res_temp).toFixed(2);
           
            if(result_paid_driver >= '0.00'){
                var salpagar = (parseFloat(apagare1) + parseFloat(tempo))- parseFloat(fee);
                var totpagar = salpagar;
                var balance_due = parseFloat(salpagar) - parseFloat(tot_amount_paid);
                var agency_balance_due = balance_due;
            }      
            
            //enviamos variable temporal a la funcion CalcularTotalTotal para poder quitar el fee                
            
            if (confirm('Desea Eliminar Este Pago?')) {           
                
                if (tempo > '0.00' && otheramount == '0.00') {                           

                    setTimeout(function () {                        

                        $("#saldoporpagar").val((salpagar).toFixed(2));                   
                        $("#paid_driver").val((result_paid_driver).toFixed(2));  
                        $("#balance_due").val((balance_due).toFixed(2));
                        $("#totalPagar").val((totpagar).toFixed(2));
                        $("#totaltotal").text((totpagar).toFixed(2));
                        $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
                        $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                        $("#temp").val((res_temp).toFixed(2));
                        $("#collect").val((collect).toFixed(2)); 
//                        $("#op_pago_conductor").val((8).toFixed(2));
//                        $("#op_pago_id").val((8).toFixed(2));

                        //CalcularTotalTotal();
                        remover_fila();
                        duplisaldo();
                        
                    }, 0.01);           

                }                         
                
                if(result_paid_driver == '0.00' && fee_temporal == '0.00' && pay_amount == '0.00' && otheramount == '0.00'){
                    
                   setTimeout(function () {
                        //$("#descuento_temporal").val((0).toFixed(2));                        
                        //CalcularTotalTotal();
                        cerrar_historia();
                    }, 0.01);                         
                    
                }               
                
            }
        
        }
        
        if(metodo_pago == 'COLLECT ON BOARD' && otheramount == '0.00' && pay_amount >= '0.00' && (tipo_pago == 'CREDIT CARD NO FEE' || tipo_pago == 'CASH' || tipo_pago == 'CHECK')){   
            
                           
            var tempo = $("#temp").val();           
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val(); 
            var extra = $("#extra").val(); 
            //var desc_temporal = $("#descuento_temporal").val();
            var valor_pagado = $("#pago_tabla").val();   
            var paid_driver = $("#paid_driver").val();
            var saldoporpagar = $("#saldoporpagar").val();
            var totalPagar = $("#totalPagar").val();     
            var pay_amount = $("#pay_amount").val();  
            var result_paid_driver = parseFloat(paid_driver) - parseFloat(valor_pagado); 
            var tot_amount_paid = parseFloat(result_paid_driver) + parseFloat(pay_amount);            
            var balance_due = parseFloat(saldoporpagar) - parseFloat(tot_amount_paid);
            var agency_balance_due = balance_due;
            var collect = result_paid_driver;    
            var apagare1 = apagare;     
            var totpagar = parseFloat(totalPagar);
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);

            
            if(result_paid_driver >= '0.00'){
                var salpagar = parseFloat(apagare1) + parseFloat(tempo);
                var totpagar = salpagar;
                var balance_due = parseFloat(salpagar) - parseFloat(tot_amount_paid);
                var agency_balance_due = balance_due;                
            }
            
            
            
            if (confirm('Desea Eliminar Este Pago?')){  
                
             if (tempo >= '0.00' && otheramount == '0.00') {                           

                setTimeout(function () {          
                   
                    $("#saldoporpagar").val((salpagar).toFixed(2));   
                    $("#paid_driver").val((result_paid_driver).toFixed(2));
                    $("#balance_due").val((balance_due).toFixed(2));
                    $("#totalPagar").val((totpagar).toFixed(2));
                    $("#totaltotal").text((totpagar).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
                    $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                    //$("#temp").val((res_temp).toFixed(2));
                    //$("#descuento_temporal").val((descuento_temporal).toFixed(2));
                    $("#collect").val((collect).toFixed(2));
    //                $("#op_pago_conductor").val((8).toFixed(2));
    //                $("#op_pago_id").val((8).toFixed(2));

                    //CalcularTotalTotal();
                    remover_fila(); 
                    duplisaldo();
                    //cerrar_historia();
                    //$("#descuento_temporal").val((0).toFixed(2));

                    }, 0.01);           

                }               
                if(result_paid_driver == '0.00'  && pay_amount >= '0.00'){
                    
                   setTimeout(function () {
                        
                        //CalcularTotalTotal();
                        //duplisaldo();
                        cerrar_historia();
                    }, 0.01);                         
                    
                }
                                               
            }else{
                cerrar_historia();           
            }
            
        }
        
        //OTHERAMOUNT > 0 ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        if(metodo_pago == 'COLLECT ON BOARD' && tipo_pago == 'CREDIT CARD WITH FEE' && otheramount > '0.00' && pay_amount >= '0.00'){            
                    
            //En este caso el temp es diferente porque existe un valor prepagado con cc/wf y al estar colectando un valor solo se suma al otheramount el 4% de los pagos al conductor
            //y hay que restar el fee del valor prepagado al temp total
            // temp es igual al total de los fee pagados
            
            var temp = $("#temp").val();
            var valor_pagado = $("#pago_tabla").val();              
            var paid_driver = $("#paid_driver").val();            
            var pay_amount = $("#pay_amount").val();                    
            var prepaid = $("#prepaid").val();
            var temp_driver = $("#temp_driver").val();
            var totalPagare = $("#totalPagar").val();
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val();
            var extra = $("#extra").val(); 
            //var desc_temporal = $("#descuento_temporal").val(); 
            var saldoporpagar = $("#saldoporpagar").val();
            var otheramount = $("#otheramount").val();
            
            var fee_driver = (parseFloat(saldoporpagar) - parseFloat(otheramount)).toFixed(2);  
            
            var apagare1 = apagare; 
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);
            
            var tot_fee_amount = (parseFloat(totalPagare) - parseFloat(apagar)).toFixed(2);
            var fee_amount = (parseFloat(tot_fee_amount) - parseFloat(fee_driver)).toFixed(2);   
            
            var fee_pagado = parseFloat(valor_pagado) - parseFloat(valor_pagado/1.04);
       
            //alert(fee_pagado);
            
            if(temp > '0.00' && pay_amount > '0.00'){
                
                var total_other = (parseFloat(otheramount) + parseFloat(fee_driver)) - parseFloat(fee_pagado) ;
                var result_paid_driver = parseFloat(paid_driver) - parseFloat(valor_pagado);
                var balance_due = parseFloat(total_other) - parseFloat(result_paid_driver);                 
                var total_pagare = (parseFloat(apagar) + parseFloat(fee_amount) + parseFloat(fee_driver)) - parseFloat(fee_pagado);
                var tot_amount_paid = parseFloat(pay_amount) + parseFloat(result_paid_driver);
                var agency_balance_due = parseFloat(total_pagare) - parseFloat(tot_amount_paid);
                var collect = parseFloat(result_paid_driver); 
                var tmp = (parseFloat(fee_driver) + parseFloat(fee_amount)) - parseFloat(fee_pagado);
                
            }
            
            if(temp >= '0.00' && pay_amount == '0.00'){
                
                var total_other = parseFloat(otheramount);
                var result_paid_driver = parseFloat(paid_driver) - parseFloat(valor_pagado); 
                var balance_due = parseFloat(total_other) - parseFloat(result_paid_driver);                
                var total_pagare = (parseFloat(apagar) + parseFloat(fee_driver)) - parseFloat(fee_pagado) ;
                var tot_amount_paid = parseFloat(pay_amount) + parseFloat(result_paid_driver);
                var agency_balance_due = parseFloat(total_pagare) - parseFloat(tot_amount_paid);
                var collect = parseFloat(result_paid_driver); 
                var tmp = parseFloat(fee_driver) - parseFloat(fee_pagado);
                
                
            }               
            
            if (confirm('Desea Eliminar Este Pago?')){  

                setTimeout(function () {                        

                    $("#saldoporpagar").val((total_other).toFixed(2));                                       
                    $("#paid_driver").val((result_paid_driver).toFixed(2));                        
                    $("#balance_due").val((balance_due).toFixed(2));
                    $("#totalPagar").val((total_pagare).toFixed(2));
                    $("#totaltotal").text((total_pagare).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
                    $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                    $("#temp").val((tmp).toFixed(2));
                    $("#temp_copy").val((tmp).toFixed(2));
                    $("#collect").val((collect).toFixed(2)); 
                    //$("#descuento_temporal").val((tmp).toFixed(2)); 
                    //$("#op_pago_conductor").val((8).toFixed(2));
                    //$("#op_pago_id").val((8).toFixed(2));

                    remover_fila();
                    duplisaldo();

                }, 0.01);  

            

            if(result_paid_driver == '0.00' && pay_amount >= '0.00' && otheramount > '0.00'){

               setTimeout(function () {
                    //$("#descuento_temporal").val((0).toFixed(2));                    
                    cerrar_historia();
                }, 0.01);                         

            }   
            
            }else{
                cerrar_historia();           
            }


        }        
        
        if(metodo_pago == 'COLLECT ON BOARD'  && (tipo_pago == 'CREDIT CARD NO FEE' ||  tipo_pago == 'CASH' ||  tipo_pago == 'CHECK') && otheramount > '0.00' &&  pay_amount >= '0.00'){ 
              
            var temp = $("#temp").val();
            var valor_pagado = $("#pago_tabla").val();              
            var paid_driver = $("#paid_driver").val();            
            var pay_amount = $("#pay_amount").val();                    
            var collect = $("#collect").val();
            var temp_driver = $("#temp_driver").val();
            var totalPagar = $("#totalPagar").val();     
            var pay_amount = $("#pay_amount").val();           
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val();
            var extra = $("#extra").val(); 
            //var desc_temporal = $("#descuento_temporal").val(); 
            var saldoporpagar = $("#saldoporpagar").val();
            var otheramount = $("#otheramount").val();
            var fee_driver = (parseFloat(saldoporpagar) - parseFloat(otheramount)).toFixed(2); 
            
            var apagare1 = apagare; 
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor); 
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);
            var tot_fee_amount = (parseFloat(totalPagar) - parseFloat(apagar)).toFixed(2); 
            
            var fee_amount = (parseFloat(tot_fee_amount) - parseFloat(fee_driver)).toFixed(2);                               

            if(temp > '0.00' && pay_amount > '0.00'){               
                
                var total_other = parseFloat(otheramount) + parseFloat(fee_driver);
                var result_paid_driver = parseFloat(paid_driver) - parseFloat(valor_pagado);
                var balance_due = parseFloat(total_other) - parseFloat(result_paid_driver);
                var totpagar = parseFloat(apagar) + parseFloat(fee_driver) + parseFloat(fee_amount);
                var tot_amount_paid = parseFloat(result_paid_driver) + parseFloat(pay_amount);
                var agency_balance_due = parseFloat(totpagar) - parseFloat(tot_amount_paid);
                var collect = parseFloat(result_paid_driver);
                var res_temp = parseFloat(fee_driver) + parseFloat(fee_amount);     
                
                
            }
            
            if(temp == '0.00' && pay_amount == '0.00'){
    
                var total_other = parseFloat(otheramount);
                var result_paid_driver = parseFloat(paid_driver) - parseFloat(valor_pagado);                 
                var balance_due = parseFloat(total_other) - parseFloat(result_paid_driver);
                var totpagar = parseFloat(apagar);
                var tot_amount_paid = parseFloat(result_paid_driver) + parseFloat(pay_amount);
                var agency_balance_due = parseFloat(apagar) - parseFloat(tot_amount_paid); 
                var collect = parseFloat(result_paid_driver);
                var res_temp = 0;
                
            }           
            
            if (confirm('Desea Eliminar Este Pago?')){                   

                setTimeout(function () {          
                   
                    $("#saldoporpagar").val((total_other).toFixed(2));   
                    $("#paid_driver").val((result_paid_driver).toFixed(2));
                    $("#balance_due").val((balance_due).toFixed(2));
                    $("#totalPagar").val((totpagar).toFixed(2));
                    $("#totaltotal").text((totpagar).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
                    $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                    $("#temp").val((res_temp).toFixed(2));                    
                    $("#collect").val((collect).toFixed(2));
    //                $("#op_pago_conductor").val((8).toFixed(2));
    //                $("#op_pago_id").val((8).toFixed(2));

                    //CalcularTotalTotal();
                    remover_fila(); 
                    duplisaldo();
                    //cerrar_historia();
                    //$("#descuento_temporal").val((0).toFixed(2));

                    }, 0.01);           

                
                
                if(result_paid_driver == '0.00'  && pay_amount >= '0.00'){
                    
                   setTimeout(function () {                        
                        //CalcularTotalTotal();
                        //duplisaldo();
                        cerrar_historia();
                    }, 0.01);                         
                    
                }
                                               
            }else{
                cerrar_historia();           
            }                    
            
            
        }       

        
        ////////////////////////////////////////////PREPAID//////////////////////////////////////////////////////////////////////     
        
        if(metodo_pago == 'PRED-PAID' && tipo_pago == 'CREDIT CARD WITH FEE' && otheramount == '0.00' && paid_driver >= '0.00'){           
            
            var apagare1 = apagare;            
            var tempo = $("#temp").val();
            //var desc_temporal = $("#descuento_temporal").val();             
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val();
            var extra = $("#extra").val();
            var valor_pagado = $("#pago_tabla").val();   
            var paid_driver = $("#paid_driver").val();
            var saldoporpagar = $("#saldoporpagar").val();
            var totalPagar = $("#totalPagar").val();
            var pay_amount = $("#pay_amount").val();  
            var result_amount_prepaid = parseFloat(pay_amount) - parseFloat(valor_pagado); 
            var tot_amount_paid = parseFloat(result_amount_prepaid) + parseFloat(paid_driver);            
            var fee =  (parseFloat(valor_pagado) - parseFloat(valor_pagado/1.04)).toFixed(2); 
            var res_temp = parseFloat(tempo) - parseFloat(fee);   
            var prepaid = result_amount_prepaid;       
            var totpagar = parseFloat(totalPagar) - parseFloat(fee);
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);  
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);  
            var fee_temporal = (res_temp).toFixed(2);

           
            if(result_amount_prepaid >= '0.00'){
                
                
                var salpagar = (parseFloat(apagare1) + parseFloat(tempo))- parseFloat(fee);
                var totpagar = salpagar;
                var balance_due = parseFloat(salpagar) - parseFloat(tot_amount_paid);
                var agency_balance_due = parseFloat(totpagar) - parseFloat(tot_amount_paid);
                
            }      
            
            //enviamos variable temporal a la funcion CalcularTotalTotal para poder quitar el fee                
            
            if (confirm('Desea Eliminar Este Pago?')) {           
                
                if (tempo >= '0.00' && otheramount == '0.00') {                           

                    setTimeout(function () {                        

                        $("#saldoporpagar").val((salpagar).toFixed(2));                   
                        $("#paid_driver").val(paid_driver);  
                        $("#balance_due").val((balance_due).toFixed(2));
                        $("#totalPagar").val((totpagar).toFixed(2));
                        $("#totaltotal").text((totpagar).toFixed(2));
                        $("#pay_amount").val((result_amount_prepaid).toFixed(2));
                        $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
                        $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                        $("#temp").val((res_temp).toFixed(2));
                        $("#prepaid").val((prepaid).toFixed(2)); 
//                        $("#op_pago_conductor").val((8).toFixed(2));
//                        $("#op_pago_id").val((8).toFixed(2));

                        //CalcularTotalTotal();
                        remover_fila();
                        duplisaldo();
                        
                    }, 0.01);           

                }                         
                
                if(result_amount_prepaid == '0.00' && fee_temporal == '0.00' && paid_driver >= '0.00' && otheramount == '0.00'){
                    
                   setTimeout(function () {
                        //$("#descuento_temporal").val((0).toFixed(2));                        
                        //CalcularTotalTotal();
                        cerrar_historia();
                    }, 0.01);                         
                    
                }               
                
            }
        
        }
                
        
        if(metodo_pago == 'PRED-PAID' && otheramount == '0.00' && paid_driver >= '0.00' && (tipo_pago == 'CREDIT CARD NO FEE' || tipo_pago == 'CASH' || tipo_pago == 'CHECK')){  
                      
            
            var apagare1 = apagare;         
            var tempo = $("#temp").val();
            //var descuento_temporal = $("#descuento_temporal").val();             
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val();
            var extra = $("#extra").val();
            var valor_pagado = $("#pago_tabla").val();   
            var paid_driver = $("#paid_driver").val();
            var saldoporpagar = $("#saldoporpagar").val();
            var totalPagar = $("#totalPagar").val();     
            var pay_amount = $("#pay_amount").val();            
            var result_amount_prepaid = parseFloat(pay_amount) - parseFloat(valor_pagado); 
            var tot_amount_paid = parseFloat(result_amount_prepaid) + parseFloat(paid_driver);               
            var balance_due = parseFloat(saldoporpagar) - parseFloat(tot_amount_paid);
            var agency_balance_due = balance_due;
            var prepaid = result_amount_prepaid;            
            var totpagar = parseFloat(totalPagar);
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);
                       
            if(result_amount_prepaid >= '0.00'){
                var salpagar = parseFloat(apagare1) + parseFloat(tempo);
                var totpagar = salpagar;
                var balance_due = parseFloat(salpagar) - parseFloat(tot_amount_paid);
                var agency_balance_due = parseFloat(totpagar) - parseFloat(tot_amount_paid);;                
            }  
            
            
            
            
            if (confirm('Desea Eliminar Este Pago?')){  
                
                if (tempo >= '0.00' && otheramount == '0.00') {                           

                  setTimeout(function () {          
                   
                    $("#saldoporpagar").val((salpagar).toFixed(2));   
                    $("#paid_driver").val(paid_driver);
                    $("#balance_due").val((balance_due).toFixed(2));
                    $("#totalPagar").val((totpagar).toFixed(2));
                    $("#totaltotal").text((totpagar).toFixed(2));
                    $("#pay_amount").val((result_amount_prepaid).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
                    $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                    //$("#temp").val((res_temp).toFixed(2));
                    //$("#descuento_temporal").val((descuento_temporal).toFixed(2));
                    $("#prepaid").val((prepaid).toFixed(2));
    //                $("#op_pago_conductor").val((8).toFixed(2));
    //                $("#op_pago_id").val((8).toFixed(2));

                    //CalcularTotalTotal();
                    remover_fila(); 
                    duplisaldo();
                    //cerrar_historia();
                    //$("#descuento_temporal").val((0).toFixed(2));

                    }, 0.01);           

                }               
                if(result_amount_prepaid == '0.00'  && paid_driver >= '0.00'){
                    
                   setTimeout(function () {
                        
                        //CalcularTotalTotal();
                        //duplisaldo();
                        cerrar_historia();
                    }, 0.01);                         
                    
                }
                                               
            }else{
                cerrar_historia();           
            }
            
            
            
        }
        
        //OTHERAMOUNT > 0 ////////////////////////////////////////////////////////////////////////////////////////////////////   
        
        if(metodo_pago == 'PRED-PAID' && tipo_pago == 'CREDIT CARD WITH FEE' && otheramount > '0.00' && paid_driver >= '0.00'){  
            
            //alert("result paid driver mayor que cero");            
                    
            //En este caso el temp es diferente porque existe un valor pagado con cc/wf y al estar colectando un valor solo se suma al otheramount el 4% de los pagos al conductor
            //y hay que restar el fee del valor prepagado al temp total
            // temp es igual al total de los fee pagados
            //var totalPagare = document.getElementById('totalPagar').value; 
            var temp = $("#temp").val();
            var valor_pagado = $("#pago_tabla").val();              
            var paid_driver = $("#paid_driver").val();            
            var pay_amount = $("#pay_amount").val();                    
            var prepaid = $("#prepaid").val();
            var temp_driver = $("#temp_driver").val();
            var collect = $("#collect").val();
            var temp_driver = $("#temp_driver").val();
            var totalPagare = $("#totalPagar").val();
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val();
            var extra = $("#extra").val(); 
            //var desc_temporal = $("#descuento_temporal").val(); 
            var saldoporpagar = $("#saldoporpagar").val();
            var otheramount = $("#otheramount").val();
            
            var fee_driver = (parseFloat(saldoporpagar) - parseFloat(otheramount)).toFixed(2);  
            var apagare1 = apagare; 
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor);
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal);
            var tot_fee_amount = (parseFloat(totalPagare) - parseFloat(apagar)).toFixed(2);
            var fee_amount = (parseFloat(tot_fee_amount) - parseFloat(fee_driver)).toFixed(2);   
            
            var fee_pagado = parseFloat(valor_pagado) - parseFloat(valor_pagado/1.04);
            
            if(temp > '0.00' && paid_driver > '0.00'){
                
                var total_other = (parseFloat(otheramount) + parseFloat(fee_driver)) - parseFloat(fee_pagado) ;                              
                var balance_due = parseFloat(total_other) - parseFloat(paid_driver); 
                var result_paid_driver = parseFloat(paid_driver);
                var result_amount_prepaid = parseFloat(pay_amount) - parseFloat(valor_pagado);
                var total_pagare = (parseFloat(apagar) + parseFloat(fee_amount) + parseFloat(fee_driver)) - parseFloat(fee_pagado);
                var tot_amount_paid = parseFloat(paid_driver) + parseFloat(result_amount_prepaid);
                var agency_balance_due = parseFloat(total_pagare) - parseFloat(tot_amount_paid);
                var prepaid = parseFloat(result_amount_prepaid); 
                var tmp = (parseFloat(fee_driver) + parseFloat(fee_amount)) - parseFloat(fee_pagado);
                
            }
            
            if(temp = '0.00' && paid_driver >= '0.00'){
                
                var total_other = parseFloat(otheramount);
                var result_paid_driver = parseFloat(paid_driver);                 
                var balance_due = parseFloat(total_other) - parseFloat(paid_driver);                
                var total_pagare = (parseFloat(apagar) + parseFloat(fee_amount)) - parseFloat(fee_pagado);
                var result_amount_prepaid = parseFloat(pay_amount) - parseFloat(valor_pagado);
                var tot_amount_paid = parseFloat(paid_driver) + parseFloat(result_amount_prepaid);
                var agency_balance_due = parseFloat(total_pagare) - parseFloat(tot_amount_paid);
                var prepaid = parseFloat(result_amount_prepaid); 
                var tmp = parseFloat(fee_amount) - parseFloat(fee_pagado);
                
                
            }               
            
            if (confirm('Desea Eliminar Este Pago?')){  
            
                setTimeout(function () {                        

                    $("#saldoporpagar").val((total_other).toFixed(2)); 
    //                $("#descuento_temporal").val((tmp).toFixed(2));                        
                    $("#paid_driver").val((result_paid_driver).toFixed(2));                        
                    $("#balance_due").val((balance_due).toFixed(2));

                    $("#totalPagar").val((total_pagare).toFixed(2));
                    $("#totaltotal").text((total_pagare).toFixed(2));
                    $("#pay_amount").val((result_amount_prepaid).toFixed(2));

                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2));
                    $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                    $("#temp").val((tmp).toFixed(2));
                    $("#temp_copy").val((tmp).toFixed(2));
                    $("#prepaid").val((prepaid).toFixed(2));
                    $("collect").val((result_paid_driver).toFixed(2));               

                    //$("#op_pago_conductor").val((8).toFixed(2));
                    //$("#op_pago_id").val((8).toFixed(2));

                    remover_fila();
                    duplisaldo();

                }, 0.01);     

                if(result_amount_prepaid == '0.00' && paid_driver >= '0.00' && otheramount > '0.00'){

                   setTimeout(function () {
                        //$("#descuento_temporal").val((0).toFixed(2));                    
                        cerrar_historia();
                    }, 0.01);                         

                }
                
            }else{
                cerrar_historia();           
            }

        }  
        
        if(metodo_pago == 'PRED-PAID'  && (tipo_pago == 'CREDIT CARD NO FEE' ||  tipo_pago == 'CASH' ||  tipo_pago == 'CHECK') && otheramount > '0.00'){ 
                                   
            var temp = $("#temp").val();            
            var valor_pagado = $("#pago_tabla").val();              
            var paid_driver = $("#paid_driver").val();            
            var pay_amount = $("#pay_amount").val();                    
            var collect = $("#collect").val();
            var temp_driver = $("#temp_driver").val();
            var totalPagar = $("#totalPagar").val();     
            var pay_amount = $("#pay_amount").val();           
            var desc_porc = $("#descuento").val();
            var desc_valor = $("#descuento_valor").val();
            var extra = $("#extra").val(); 
            var desc_temporal = $("#descuento_temporal").val(); 
            var saldoporpagar = $("#saldoporpagar").val();
            var otheramount = $("#otheramount").val();
            var fee_driver = (parseFloat(saldoporpagar) - parseFloat(otheramount)).toFixed(2);  
            //var fee_driver = parseFloat(saldoporpagar) - parseFloat(otheramount);           
            var apagare1 = apagare; 
            var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor); 
            //var apagar = parseFloat(apagare1) + parseFloat(extra) - parseFloat(desc_porc) - parseFloat(desc_valor) - parseFloat(desc_temporal); 
            var tot_fee_amount = (parseFloat(totalPagar) - parseFloat(apagar)).toFixed(2); 
            //var tot_fee_amount = parseFloat(totalPagar) - parseFloat(apagar); 
            
            var fee_amount = (parseFloat(tot_fee_amount) - parseFloat(fee_driver)).toFixed(2);                      
            //var fee_amount = parseFloat(tot_fee_amount) - parseFloat(fee_driver);                                  

            if(temp > '0.00' && paid_driver > '0.00'){ 
                
                var total_other = parseFloat(otheramount) + parseFloat(fee_driver);                
                var balance_due = parseFloat(total_other) - parseFloat(paid_driver);
                var result_pay_amount = parseFloat(pay_amount) - parseFloat(valor_pagado);
                var totpagar = parseFloat(apagar) + parseFloat(fee_amount) + parseFloat(fee_driver);
                var tot_amount_paid = parseFloat(paid_driver) + parseFloat(result_pay_amount);
                var agency_balance_due = parseFloat(totpagar) - parseFloat(tot_amount_paid);
                var prepaid = parseFloat(result_pay_amount); 
                var res_temp = parseFloat(fee_driver) + parseFloat(fee_amount); 
                               
            }
            
            if(temp == '0.00' && paid_driver == '0.00'){
    
                var total_other = parseFloat(otheramount);
                var paid_driver = $("#paid_driver").val(); 
                var result_pay_amount = parseFloat(pay_amount) - parseFloat(valor_pagado);                 
                var balance_due = parseFloat(total_other) - parseFloat(paid_driver);
                var totpagar = parseFloat(apagar);
                var tot_amount_paid = parseFloat(paid_driver) + parseFloat(result_pay_amount);
                var agency_balance_due = parseFloat(apagar) - parseFloat(tot_amount_paid); 
                var prepaid = parseFloat(result_pay_amount);
                var res_temp = 0;
                
            }    
            
            
            if (confirm('Desea Eliminar Este Pago?')){  
                
                    setTimeout(function () {                   
                   
                    $("#saldoporpagar").val((total_other).toFixed(2));   
                    $("#paid_driver").val(paid_driver);
                    $("#balance_due").val((balance_due).toFixed(2));
                    $("#totalPagar").val((totpagar).toFixed(2));
                    $("#totaltotal").text((totpagar).toFixed(2));
                    $("#pay_amount").val((result_pay_amount).toFixed(2));
                    $("#tot_amount_paid").val((tot_amount_paid).toFixed(2)); 
                    $("#agency_balance_due").val((agency_balance_due).toFixed(2));
                    $("#temp").val((res_temp).toFixed(2));                    
                    $("#prepaid").val((prepaid).toFixed(2));
    //                $("#op_pago_conductor").val((8).toFixed(2));
    //                $("#op_pago_id").val((8).toFixed(2));

                    //CalcularTotalTotal();
                    remover_fila(); 
                    duplisaldo();
                    //cerrar_historia();
                    //$("#descuento_temporal").val((0).toFixed(2));

                    }, 0.01);           

               
                
                if(result_pay_amount == '0.00'  && pay_amount >= '0.00'){
                    
                   setTimeout(function () {                        
                        //CalcularTotalTotal();
                        //duplisaldo();
                        cerrar_historia();
                    }, 0.01);                         
                    
                }
                                               
            }else{
                cerrar_historia();           
            }                    
            
            
        }       

        
        //Retrasamos el envio de datos 100 milisegundos para que los datos se carguen previamente desde la fucion duplisaldo()
        
            setTimeout(function () {
            
                var saldoporpagar_copy = document.getElementById('saldoporpagar_copy').value;
                var paid_driver_copy = document.getElementById('paid_driver_copy').value;       
                var balance_due_copy = document.getElementById('balance_due_copy').value;
                var totalPagar_copy = document.getElementById('totalPagar_copy').value;
                var pay_amount_copy = document.getElementById('pay_amount_copy').value;
                var tot_amount_paid_copy = document.getElementById('tot_amount_paid_copy').value;
                var agency_balance_due_copy = document.getElementById('agency_balance_due_copy').value; 
                var otheramount_copy = document.getElementById('otheramount_copy').value; 
                var temp_copy = document.getElementById('temp_copy').value;
                
                
                $.ajax({
                        //datos que se envian a traves de ajax
                        url:   '<?php echo $data['rootUrl']?>admin/reservas/elimina_pagos_cob/'+ id_reserva + '/' + id_radio + '/' + saldoporpagar_copy + '/' + paid_driver_copy + '/' + balance_due_copy + '/' + totalPagar_copy + '/' + pay_amount_copy + '/' + tot_amount_paid_copy + '/' + agency_balance_due_copy + '/' + temp_copy + '/' + valor_pagado + '/' + metodo_pago + '/' + tipo_pago + '/' + fecha_actual + '/' + usuario + '/' + otheramount_copy, //archivo que recibe la peticion fecha_actual
                        type:  'post', //método de envio
                        beforeSend: function () {
                                $("#resultado_cob").html('<i class="fa fa-spinner fa-spin" style="margin-left:45px; font-size:25px; color:red;"></i>');


                        },
                        success:  function (response) { //una vez que el archivo recibe el request lo procesa y lo devuelve
                                $("#resultado_cob").html(response);
                        }
                });
                
                oculta_btnpagos();

            //document.getElementById('btn_remove_cob').style.display = 'none';

            }, 100);
        
        }
        
        
        
    });

</script>



<script type="text/javascript">
   
    function radiale()
    {
         
        //capturamos el value del id del radio
        var id_item = $('input[name="item"]:checked').val();           
        
        //pasamos el value del radio a la caja de texto id_radio        
        $("#id_radio").val(id_item);
        //concatenamos el value del radio con la cadena pagado
        var pagado = "pagado"+id_item;
        //creamos una variable con id que concatene la cadena pagado con el value del radio
        var pagado1 = document.getElementById('pagado'+id_item).value
        //le pasamos la variable pago1 a la caja de texto pagado        
        $("#pago_tabla").val(pagado1);
        
        
        var pago = "pago"+id_item;
        //creamos una variable con id que concatene la cadena pago con el value del radio
        var pago1 = document.getElementById('pago'+id_item).value
        //le pasamos la variable pago1 a la caja de texto pago_tabla       
        $("#metodo_pago_tabla").val(pago1);
        
        var tipo_pago = "tipo_pago"+id_item;
        //creamos una variable con id que concatene la cadena pago con el value del radio
        var tipo_pago1 = document.getElementById('tipo_pago'+id_item).value
        //le pasamos la variable pago1 a la caja de texto pago_tabla       
        $("#tipo_pago_tabla").val(tipo_pago1);
        
        document.getElementById('btn_remove_cob').style.display = ""; 
        //var id_radio = document.getElementById('id_radio').value;  

    }
    
</script>



<script type="text/javascript">
   
    function colectando()
    {
        var otheramount = "<?php echo $otheramount; ?>";
        
        if(otheramount > '0.00'){   
            document.getElementById('saldoporpagar').style.background = "#1919e6"; 
            document.getElementById('saldoporpagar').style.color = "#ffff00"; 
            document.getElementById('saldoporpagar').title = "Colectando"; 
            document.getElementById('txtamountpendiente').style.color = "#1919e6";              
            //box-shadow: 0px 4px 0px #b71414;
        }else{
            document.getElementById('saldoporpagar').className = "verd form-control";
            document.getElementById('saldoporpagar').style.color = "#000";
            document.getElementById('txtamountpendiente').style.color = "#000"; 
            document.getElementById('saldoporpagar').title = ""; 
        }
        
        
    }
    
</script>



<script type="text/javascript">
   
    function colectado()
    {
        var otheramount = "<?php echo $otheramount; ?>";        
        var totalPagar = "<?php echo $totaltotal; ?>";
        //var descuento_temporal = document.getElementById('descuento_temporal').value;
        //var descuento_temporal = $("#descuento_temporal").val();  
        //var neto = totalPagar - descuento_temporal;
        var neto = totalPagar;
        
        if(otheramount > '0.00'){            
            document.getElementById('saldoporpagar').style.background = "#1919e6"; 
            document.getElementById('saldoporpagar').style.color = "#ffff00";
            document.getElementById('txtamountpendiente').style.color = "#1919e6";
            document.getElementById('saldoporpagar').title = "Colectando"; 
            document.getElementById('saldoporpagar').value = otheramount;
            document.getElementById('balance_due').value = otheramount;  
            //document.getElementById('totaltotal').text = neto;  
            //document.getElementById('totalPagar').value = neto; 
            //document.getElementById('agency_balance_due').value = neto; 
            $("#totaltotal").text((neto).toFixed(2));
            $("#totalPagar").val((neto).toFixed(2));
            $("#agency_balance_due").val((neto).toFixed(2));
            
            //box-shadow: 0px 4px 0px #b71414;
        }else{
            document.getElementById('saldoporpagar').className = "verd";
            document.getElementById('saldoporpagar').style.color = "#000";
            document.getElementById('txtamountpendiente').style.color = "#000"; 
            document.getElementById('saldoporpagar').title = ""; 
        }
        
        
    }
    
</script>   


<script type="text/javascript">
   
    function colecta_paid_driver()
    {
        var otheramount = "<?php echo $otheramount; ?>";        
        var totalPagar = "<?php echo $totaltotal; ?>";
        
        //var descuento_temporal = document.getElementById('descuento_temporal').value;
        //var paid_driver = document.getElementById('paid_driver').value;
        //var descuento_temporal = $("#descuento_temporal").val();        
        var paid_driver = $("#paid_driver").val();
        var neto = parseFloat(totalPagar)+ parseFloat(descuento_temporal);
        var neto = parseFloat(totalPagar);
        var other_total = parseFloat(otheramount).toFixed(2);
        //var other_total = (parseFloat(otheramount) + parseFloat(descuento_temporal)).toFixed(2);
        //var other_total = (parseFloat(otheramount) + parseFloat(descuento_temporal)).toFixed(2);
        var paid_driver_total = (other_total - paid_driver).toFixed(2);
        var agency_balance_due = neto - paid_driver;
        
        //alert(totalPagar);
        
        if(otheramount > '0.00'){            
            document.getElementById('saldoporpagar').style.background = "#1919e6"; 
            document.getElementById('saldoporpagar').style.color = "#ffff00";
            document.getElementById('txtamountpendiente').style.color = "#1919e6";
            document.getElementById('saldoporpagar').title = "Colectando"; 
            document.getElementById('saldoporpagar').value = other_total;
            document.getElementById('balance_due').value = paid_driver_total;  
            //document.getElementById('totaltotal').text = neto;  
            //document.getElementById('totalPagar').value = neto; 
            //document.getElementById('agency_balance_due').value = neto; 
            $("#totaltotal").text((neto).toFixed(2));
            $("#totalPagar").val((neto).toFixed(2));
            $("#agency_balance_due").val((agency_balance_due).toFixed(2));            
            //box-shadow: 0px 4px 0px #b71414;
        }else{
            document.getElementById('saldoporpagar').className = "verd";
            document.getElementById('saldoporpagar').style.color = "#000";
            document.getElementById('txtamountpendiente').style.color = "#000"; 
            document.getElementById('saldoporpagar').title = ""; 
        }
        
        
    }
    
</script>

<?php }else{ ?>
              <script>
                const swalWithBootstrapButtons = Swal.mixin({
                  customClass: {
                    cancelButton: 'btn btn-danger',
                    confirmButton: 'btn btn-info'
                  },
                  buttonsStyling: false,
                })

                swalWithBootstrapButtons.fire({
                  title: 'You should not be here!',
                  text: "Return home immediately",
                  type: 'warning',
                  showCancelButton: false,
                  confirmButtonText: 'Okay, Return me home!',
                  reverseButtons: true
                }).then((result) => {
                  window.location="<?php echo $data['rootUrl']; ?>admin/home";
                })
                
                
                </script>
            <?php } ?>

             <?php //} else{ ?>
            <script>//window.location="<?php //echo $data['rootUrl']; ?>admin/reservas";</script>
            <?php //} ?>